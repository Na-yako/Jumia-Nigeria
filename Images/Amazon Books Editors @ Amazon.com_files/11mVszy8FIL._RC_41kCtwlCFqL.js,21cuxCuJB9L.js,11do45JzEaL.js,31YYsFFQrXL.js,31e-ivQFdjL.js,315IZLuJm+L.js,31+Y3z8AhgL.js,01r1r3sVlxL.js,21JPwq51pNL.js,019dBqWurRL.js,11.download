(function(d){var g=window.AmazonUIPageJS||window.P,q=g._namespace||g.attributeErrors,f=q?q("AmazonRushAssetLoader","AmazonRush"):g;f.guardFatal?f.guardFatal(d)(f,window):f.execute(function(){d(f,window)})})(function(d,g,q){function f(a){l&&l.count&&l.count(a,(l.count(a)||0)+1)}function m(a){return[].concat(null!==a&&void 0!==a?a:[])}function r(a,c,b){a.addEventListener?a.addEventListener("error",c,!1):a.attachEvent&&a.attachEvent("onerror",c);a.addEventListener?a.addEventListener("load",b,!1):a.attachEvent&&
a.attachEvent("onload",b)}function x(a,c,b,h,e,d){if(a){a=document.createElement("script");r(a,e,d);if(c)a.textContent=b;else{a.async=!0;if(e=h)e=-1!==b.indexOf("images/I")||/AUIClients/.test(b);e&&a.setAttribute("crossorigin","anonymous");a.src=b}b=a}else c?(c=document.createElement("style"),r(c,e,d),c.textContent=b,b=c):(c=document.createElement("link"),r(c,e,d),c.rel="stylesheet",c.href=b,b=c);(e=document.getElementsByTagName("head")[0])&&e.appendChild(b)}function k(a,c,b){return function(d,e){function h(){x(c,
b,d,t,function(a){t?(t=!1,f("rush:resource_retry"),h()):f("rush:resource_error");a&&a.stopPropagation?a.stopPropagation():g.event&&(g.event.cancelBubble=!0)},e)}var t=!0;if(v[d])return e.call(a),!1;v[d]=!0;f("rush:resource_count");h();return!0}}function y(a,c){var b=a.name||"",h=a.fingerprint,e=n[b];b&&h||d.error("Invalid manifest (asset\x3d".concat(b,", fingerprint\x3d").concat(h,")"),"rush-asset-loader","addManifest");e&&e.fingerprint!==h&&(f(u.FINGERPRINT_MISMATCH),d.when("A").execute(function(a){a.trigger(u.FINGERPRINT_MISMATCH,
b,h,c)}));e||(a.css=m(a.css),a.inlineCss=m(a.inlineCss),a.js=m(a.js),a.inlineJs=m(a.inlineJs),n[b]=a,w.push(b+":"+h))}function p(a,c,b){function d(){++f===e&&b&&b()}var e=a.length,f=0,g=0;if(e)for(;g<e;g++)c(a[g],d);else b&&b()}function z(a,c){(a=n[a])&&c([].concat(a.css,a.js))}function A(a,c,b){if(a=n[a])p(a.css,B,c),p(a.inlineCss,C,c),p(a.js,D,b),p(a.inlineJs,E,b),a.css=a.inlineCss=a.js=a.inlineJs=[]}function F(){return w.join("|")}var l=g.ue,v={},n={},w=[],B=k(d,!1,!1),C=k(d,!1,!0),D=k(d,!0,!1),
E=k(d,!0,!0),u={FINGERPRINT_MISMATCH:"rush-asset-loader:fingerprint-mismatch"};d.register("rush-asset-loader-builder",function(){return k});d.register("rush-asset-loader",function(){return{addManifest:y,loadAsset:A,preloadAsset:z,fingerprints:F,EVENTS:u}})});
/* ******** */
(function(k){var q=window.AmazonUIPageJS||window.P,p=q._namespace||q.attributeErrors,c=p?p("AmazonRushFramework","AmazonRush"):q;c.guardFatal?c.guardFatal(k)(c,window):c.execute(function(){k(c,window)})})(function(k,q,p){k.when("a-ajax","a-util","3p-promise","rush-asset-loader","rush-util","rush-metrics-adapter","rush-dispatcher").register("rush-ajax-controller",function(c,f,d,g,b,h,a){function e(a,e){if(!a)throw Error(e);}function m(){}function r(b,c){var v=b[0],t=b[1]||{},m=t.assets||[];b=t.manifests||
[];e(A(v),"`dispatch` chunk must have a name");e(n(m),"`payload.assets` must be an array");e(n(b),"`payload.manifests` must be an array");x(b,function(a){a&&A(a.name)&&(g.addManifest(a,c),m.push(a.name))});var f=p(m,function(a){return new d(function(e,v){function b(){t++;1<t&&(clearTimeout(c),e())}var t=0;g.loadAsset(a,b,b);var c=y(function(){h.incrementCount("rush-ajax-errors","asset-load-timeout");v(Error("Timeout loading asset: "+a))},1E4)})});return new d(function(e){d.all(f).then(function(){a.trigger(v,
{data:t,memo:c});e({name:v,payload:t,memo:c})})["catch"](function(){document.location.reload(!0)})})}function w(a){return(new d(function(e){g.addManifest(a[0]);e()}))["catch"](function(){h.incrementCount("rush-ajax-errors","add-manifest-error");document.location.reload(!0)})}function l(a,e,v){var b=a[0];if("title"===b)document.title=a[1];else if("dispatch"===b){var c=r(a.slice(1),v);c.then(function(a){e(a.name,a.payload,a.memo)})}else"manifest"===b?c=w(a.slice(1)):(e(a,v),c=d.resolve());return c}
var y=f.delay,x=f.each,k=f.extend,n=f.isArray,u=b.isFunction,A=b.isNotBlank,p=f.map;return function(a,b){var v=[];var t=b&&b.success||m;var h=b&&b.error||m;var f=b&&b.chunk||m;e(u(t),"`success` must be a function");e(u(h),"`error` must be a function");e(u(f),"`chunk` must be a function");return new d(function(e,m){b=k({memo:null,headers:{}},b);b.success=function(a,b,c){d.all(v).then(function(){t(a,b,c);e({response:a,statusText:b,xhr:c})})["catch"](function(a){h(c,b,a);m({xhr:c,statusText:b,error:a})})};
b.error=function(a,b,e){h(a,b,e);m({xhr:a,statusText:b,error:e})};b.chunk=function(a){v.push(l(a,f,b.memo))};b.headers=k(b.headers||{},{"x-amazon-rush-fingerprints":g.fingerprints()});c.ajax(a,b)})}});"use strict";k.when("A","R","rush-util","rush-controller-api","rush-dom","rush-page-state-dispatcher").register("rush-application-api",function(c,f,d,g,b,h){return function(a,e){var m=document.body,f=null;if(!d.isNotBlank(e)||!a)throw Error("[invalid arguments] valid signature is (application:R.ApplicationBase, applicationAttribution:String)");
e=c.trim(e);f=g(e);return c.extend(f,{setupComponents:function(a){b.scan(a||m)},teardownComponents:function(a){b.unscan(a||m)},addRoute:function(b,e){a.addRoute(b,function(){try{return e.apply(null,arguments)}catch(y){f.log.fatal(y,"[pattern\x3d"+b+"]: "+f.log.getErrorMessage(y))}})},startPageStateDispatcher:h.start})}});"use strict";k.when("rush-controller-api","rush-logger","rush-util").register("rush-application-public-api",function(c,f,d){return function(g,b){if(!d.isNotBlank(g)||!d.isNotBlank(b))throw Error("[invalid arguments] valid signature is (appName:String, attribution:String)");
return{getAttribution:function(){return b},getName:function(){return g},onStart:function(){},onStop:function(){},attachController:function(b,a){try{return a(c(b))}catch(e){f.logError(b,"error in the controller handler",e)}}}}});"use strict";k.when("A","rush-ajax-controller","rush-dispatcher","rush-attributed-error-logger","rush-util").register("rush-controller-api",function(c,f,d,g,b){return function(c){var a=g.create(c);return{ajax:f,on:function(b,c){return d.on(b,function(){try{return c.apply(null,
arguments)}catch(r){a.fatal(r,"[event\x3d"+b+"]: "+a.getErrorMessage(r))}})},trigger:d.trigger,log:a,util:b,logError:function(e,c){b.isNullOrUndefined(c)&&e instanceof Error&&(c=e,e=a.getErrorMessage(c));a.fatal(c,e)}}}});"use strict";k.when("A","rush-dom","rush-dispatcher","rush-attributed-error-logger","rush-util").register("rush-component-api",function(c,f,d,g,b){return function(c,a){var e=g.create(a);return{on:function(a,b){return d.on(a,function(){try{return b.apply(null,arguments)}catch(w){e.fatal(w,
"[component\x3d"+c+"][event\x3d"+a+"]: "+e.getErrorMessage(w))}})},trigger:d.trigger,teardown:function(){},remove:f.remove,append:f.append,insertBefore:f.insertBefore,insertAfter:f.insertAfter,replace:f.replace,removeChildren:f.removeChildren,replaceInnerHTML:f.replaceInnerHTML,util:b,log:e,logError:function(a,d){b.isNullOrUndefined(d)&&a instanceof Error&&(d=a,a=e.getErrorMessage(d));e.fatal(d,"[component\x3d"+c+"]: "+a)}}}});"use strict";k.when("A").register("rush-component-properties",function(c){return function(f){function d(){h=
(h=f.getAttribute("data-component-props"))?c.parseJSON(h):{}}function g(a){throw Error("Component properties ."+a+"() is DEPRECATED.");}var b=f.getAttribute?p:null,h=f.getAttribute?p:{};return{elem:function(){return f},type:function(){b===p&&(b=f.getAttribute("data-component-type"));return b},prop:function(a){h===p&&d();return h[a]},propKeys:function(){h===p&&d();return c.keys(h)},id:function(){g("id")},key:function(){g("key")},parent:function(){g("parent")},children:function(){g("children")}}}});
"use strict";k.when("A","rush-component-properties","rush-util","rush-product-ui-component-modifier").register("rush-dom",function(c,f,d,g){function b(a){return!(!a.hasAttribute||!a.hasAttribute("data-component-id"))}function h(a){return!(!a||1!==a.nodeType)}function a(a){for(var b=a.length;b--;){var e=a[b];if(!e||!e.nodeType)return!1}return!0}function e(a){return"string"===typeof a}function m(a){var b=a.getAttribute&&a.getAttribute("data-component-type");if(!b)return[];a=g.getComponentType(a,b);
return a===b?[b]:[a,b]}function r(a,b){var e=null;k.now.apply(k,b).execute(function(){var b,c;for(c=0;c<arguments.length&&((b=arguments[c])&&(e=new b(f(a))),!e);c++);});return e}function w(a,b){var e;a:{var c;for(c=0;c<b.length;c++)if(e=B[b[c]]){e=e(f(a));break a}e=void 0}if(b=e||r(a,b))return e=A++,a.setAttribute&&a.setAttribute("data-component-id",e),q[e]=b}function l(e){var d=[],f,g;if(C){e=c.isArray(e)?e:[e];if(!a(e))throw Error("[invalid arguments] valid signature is scan(elements:Node|Array\x3cNode\x3e)");
e=c.filter(e,function(a){return h(a)});c.each(e,function(a){a.hasAttribute&&a.hasAttribute("data-component-type")&&!b(a)&&d.push(a);d=d.concat(n(a).find("[data-component-type]").filter(":not([data-component-id])").get())});var v=0;for(g=d.length;v<g;v++)e=d[v],(f=m(e))&&0!==f.length&&(b(e)||w(e,f))}}function y(e){c.isArray(e)||(e=[e]);if(!a(e))throw Error("[invalid arguments] valid signature is unscan(elements:Node|Array\x3cNode\x3e)");e=c.filter(e,function(a){return h(a)});c.each(e,function(a){var e=
n(a),c=[];b(a)&&c.push(a);c=c.concat(e.find("[data-component-id]").get());for(a=c.length;a--;){e=c[a];var d=e.getAttribute("data-component-id");var f=q[d];delete q[d];(d=f)&&u(d.teardown)&&d.teardown();e.removeAttribute&&e.removeAttribute("data-component-id")}})}function x(a,b){if(!h(a)||!e(b))throw Error("[invalid arguments] valid signature is append(parentElem:Node.ELEMENT_NODE, appendingContent:String)");d.isBlank(b)||(a=n(a),b=n(b),a.append(b),l(b.get()))}function z(a){if(!h(a))throw Error("[invalid arguments] valid signature is removeChildren(parentElem:Node.ELEMENT_NODE)");
a=n(a);y(a.children().get());a.empty()}var n=c.$,u=n.isFunction,A=1,q={},B={},C=!0;return{scan:l,scanFor:function(e,f){var t=g.getDeclaredComponentType(f),v='[data-component-type\x3d"'+t+'"]',r=[],l;e=c.isArray(e)?e:[e];if(!a(e))throw Error("`elements` must be either an element or a list of elements.");if(d.isBlank(t))throw Error("`componentName` must be a non-empty string.");e=c.filter(e,function(a){return h(a)});c.each(e,function(a){(a.getAttribute&&a.getAttribute("data-component-type"))!==t||b(a)||
r.push(a);r=r.concat(n(a).find(v).filter(":not([data-component-id])").get())});f=0;for(l=r.length;f<l;f++)e=r[f],b(e)||w(e,m(e))},disableScanning:function(){C=!1},enableScanning:function(){C=!0},unscan:y,remove:function(a){if(!h(a))throw Error("[invalid arguments] valid signature is remove(elem:Node.ELEMENT_NODE)");a.parentNode&&(y(a),a.parentNode.removeChild(a))},append:x,insertBefore:function(a,b){if(!h(a)||!e(b))throw Error("[invalid arguments] valid signature is insertBefore(target:Node.ELEMENT_NODE, newContent:String)");
d.isBlank(b)||(b=n(b),n(a).before(b),l(b.get()))},insertAfter:function(a,b){if(!h(a)||!e(b))throw Error("[invalid arguments] valid signature is insertBefore(target:Node.ELEMENT_NODE, newContent:String)");d.isBlank(b)||(b=n(b),n(a).after(b),l(b.get()))},replace:function(a,b){if(!h(a)||!e(b))throw Error("[invalid arguments] valid signature is replace(oldElem:Node.ELEMENT_NODE, newContent:String)");var c=n(a);d.isNotBlank(b)&&(b=n(b),c.after(b),l(b.get()));y(a);c.remove()},removeChildren:z,replaceInnerHTML:function(a,
b){if(!h(a)||!e(b))throw Error("[invalid arguments] valid signature is replaceInnerHTML(parentElem:Node.ELEMENT_NODE, newInnerContent:String)");z(a);x(a,b)},registerComponent:function(a,b){if(d.isBlank(a))throw Error("A non-empty component name is required for registerComponent(name:String, callback:function)");if(!u(b))throw Error("A component callback function is required for registerComponent(name:String, callback:function)");a=c.trim(a);if(B[a])throw Error("Component has already been registered: "+
a);B[a]=b},getRegisteredComponents:p}});k.register("rush-product-ui-component-modifier",function(){function c(a){var b;if(a){var c=document.getElementsByTagName("script");for(b=c.length;b--;){var d=c[b];if("product-ui/weblabs"===(d.getAttribute&&d.getAttribute("type"))&&(d.getAttribute&&d.getAttribute("data-render-id"))===a)return d}}}function f(a){a=(a=c(a))&&a.innerHTML;if(!a)return{};try{return JSON.parse(a)}catch(e){return k.log("Error parsing weblab treatment JSON: "+e.message,"WARN","rush-product-ui-component-modifier"),
{}}}function d(a){var b=[],c;if("object"===typeof a)for(c in a)a.hasOwnProperty(c)&&b.push("weblab\x3d"+c.toLowerCase()+"\x3d"+a[c].toLowerCase());return b}function g(a,b){a=a.slice().sort();b=b.slice().sort();var e=a.shift(),c;for(c=0;c<b.length&&e;c++)for(;b[c]===e;)e=a.shift();return!e}var b={},h={};return{getComponentType:function(a,e){var c=a.getAttribute&&a.getAttribute("data-version-id");a=a.getAttribute&&a.getAttribute("data-render-id");var r=b[a];r?a=r:(r=f(a),r=d(r),a=b[a]=r);a:if(c=c||
"",c=h[c]&&h[c][e]){a.sort();for(w in c)if(c.hasOwnProperty(w)&&g(c[w],a))break a;var w=void 0}else w=p;return w||e},getDeclaredComponentType:function(a){return a.split("?",1)[0]},gateFramework:function(a,b,c){var e=a.registerComponent;a.registerComponent=function(a,d,f){var g=b;if(g||0!==c.length){var l=g=g||"";var n=a,m=[].concat(c||[]);l&&m.push("versionId\x3d"+l);0<m.length&&(n+="?"+m.sort().join("\x26"));l=n;h[g]=h[g]||{};h[g][a]=h[g][a]||{};h[g][a][l]=c;a=l}return e(a,d,f)};return a},getWeblabScriptBlock:c,
getTreatmentsForRenderId:f,getWeblabFlagsForTreatments:d,flagsMatch:g,getComponentMap:function(){return h}}});k.when("jQuery","rush-util","rush-attributed-error-logger").register("rush-dispatcher",function(c,f,d){function g(){}function b(a,b){return function(){var e=a.indexOf(b);-1!==e&&(a[e]=g)}}var h=d.create("rush-dispatcher"),a=f.assert,e=f.isNotBlank,m=c.isFunction,r=c.trim,k={};return{trigger:function(b,c){var d=0,f;a(e(b),"must provide an event name");b=r(b);for(f=k[b]||[];d<f.length;){try{f[d](c)}catch(n){h.error(n,
"A handler for event `"+b+"` failed to execute")}d++}},on:function(c,d){a(e(c),"must provide an event name");a(m(d),"must provide an event callback function");k[c]=k[c]||[];c=k[c];c.push(d);return b(c,d)}}});"use strict";k.when("A","rush-dispatcher","rush-util").register("rush-page-state-dispatcher",function(c,f,d){function g(b,d){b=b||{};d=d||{};c.each(b,function(b,e){if(!0===d||!0===d[e]){b=[].concat(b);for(var c=0,g=b.length;c<g;c++)f.trigger(e,{data:[b[c]],memo:a})}})}var b=d.isObject,h=!1,a;
return{start:function(e){h||(h=!0,e=e||{},b(e)&&(e.dispatchedByRushPageStateDispatcher=!0),a=e,e=c.state("rush-dispatch"),g(e,!0),c.state.bind("rush-dispatch",g))},isDispatchedByPageState:function(b){return b&&b.memo===a}}});k.when("rush-error-logger").register("rush-attributed-error-logger",function(c){return{create:function(f){return{getErrorMessage:c.getErrorMessage,fatal:function(d,g){c.fatal(d,g,f)},error:function(d,g){c.error(d,g,f)},warn:function(d,g){c.warn(d,g,f)},logErrorWrapper:function(d,
g,b){return c.logErrorWrapper(d,g,f,b)}}}}});k.register("rush-console-logger",function(){function c(c){return function(){}}function f(){console&&console.log&&console.log.apply(console,arguments)}return{log:c(f),warn:c(function(){console&&console.warn?console.warn.apply(console,arguments):f.apply(null,arguments)}),error:c(function(){console&&console.error?console.error.apply(console,arguments):f.apply(null,arguments)})}});k.when("rush-console-logger").register("rush-error-logger",function(c){function f(d,
b,f,a){b={message:b,logLevel:f,attribution:a};c.log(b);if(d)switch(f){case "FATAL":case "ERROR":c.error(d);break;case "WARN":c.warn(d);break;default:c.log(d)}q.ueLogError&&q.ueLogError(d,b)}var d={fatal:function(c,b,d){f(c,b,"FATAL",d)},error:function(c,b,d){f(c,b,"ERROR",d)},warn:function(c,b,d){f(c,b,"WARN",d)},logError:function(c,b,f){d.fatal(f,b,c)},getErrorMessage:function(c){try{return c instanceof Error?c.message:JSON.stringify(c)}catch(b){return"could not get the error message"}},logErrorWrapper:function(c,
b,f,a){return function(){try{return c.apply(b,arguments)}catch(e){a||(a=d.getErrorMessage(e)),d.fatal(e,a,f)}}}};return d});k.when("rush-error-logger").register("rush-logger",function(c){return c});"use strict";k.when("A","R","rush-dom","rush-util","rush-logger","rush-component-api","rush-application-api","rush-application-public-api").register("rush-framework",function(c,f,d,g,b,h,a,e){function m(){!1===x&&(x=!0,l=l.concat(q),q=[],z())}var k=c.$.isFunction,w=c.$.proxy,l=[],q=[],x=!1,z=function(){var a=
c.throttle(function(){var a=0;var b=l.length;if(3<=b)d.scan(document.body);else for(;a<b;a++)d.scanFor(document.body,l[a]);l=[]},25);return function(){l.length&&a()}}();return{attachApp:function(b,d,h,m){var n=!1,A=[];if(!g.isNotBlank(b)||!g.isNotBlank(d)||!k(h))throw Error("[invalid arguments] valid signature is attachApp(appName:String, attribution:String, handler:function(api:RushApplicationAPI))");b=c.trim(b);d=c.trim(d);var l=new f.ApplicationBase(b);m=c.extend({alternativeUrl:p},m);l.addRoute=
function(){var a=Array.prototype.slice.call(arguments);n?f.addRoute.apply(f,a):A.push(a)};var t=a(l,d);b=e(b,d);b=c.extend(b,h(t));l.load=w(b.onStart,b);l.unload=w(b.onStop,b);n=!0;c.each(A,function(a){f.addRoute.apply(f,a)});f.start(m.alternativeUrl);return b},registerComponent:function(a,b,e){if(g.isBlank(a))throw Error("A non-empty component name is required for registerComponent(componentName:String, componentAttribution:String, componentSetup:function).");if(g.isBlank(b))throw Error("A non-empty component attribution is required for registerComponent(componentName:String, componentAttribution:String, componentSetup:function).");
if(!k(e))throw Error("A component setup function is required for registerComponent(componentName:String, componentAttribution:String, componentSetup:function).");d.registerComponent(a,function(d){var f=c.extend(h(a,b),d),g=[],m=f.on;f.on=function(a){var b=m.apply(null,arguments);g.push([a,b]);return b};try{e(f)}catch(t){f.log.fatal(t,'Component setup failure in component "'+a+'".')}return{teardown:function(){c.each(g,function(b){var c=b[0];b=b[1];if(k(b))try{b()}catch(D){f.log.fatal(D,'Component teardown failure in component "'+
a+'" during on("'+c+'") teardown.')}});if(k(f.teardown))try{f.teardown()}catch(t){f.log.fatal(t,'Component teardown failure in component "'+a+'" during the custom component teardown.')}}}});!0===x?(l.push(a),setTimeout(z,0)):q.push(a)},turnOnAutoScanner:m,turnOffAutoScanner:function(){x=!1},enableAllScanning:function(){d.enableScanning();d.scan(document.body);m()},disableAllScanning:function(){d.disableScanning();x=!1}}});"use strict";k.register("rush-metrics-adapter",function(){function c(){}var f=
q.uet||c;var d=q.ues||c;var g=q.ue&&q.ue.count||c;var b=q.uex||c;return{setTimer:function(b,a,c,d){f(b,a,c,d)},setValue:function(b,a,c){d(b,a,c)},setCount:function(b,a,c,d){d=d?d:{};a&&(d.scope=a);g(b,c,d)},incrementCount:function(b,a,c){c=c?c:{};a&&(c.scope=a);a=(g(b,p,c)||0)+1;g(b,a,c)},publish:function(c,a,e){b(c,a,e)}}});"use strict";k.when("rush-metrics-adapter","A").register("rush-metrics",function(c,f){var d={wb:1},g=0;f=f.createClass({_metricsAdapter:p,_isPublished:!1,_scope:p,init:function(a,
b){this._scope=(a||"amazonRush").substring(0,26)+g++;this._metricsAdapter=b||c},getMetricsAdapter:function(){return this._metricsAdapter},isPublished:function(){return this._isPublished},validateIsNotPublished:function(){return this.isPublished()?!1:!0},setTimer:function(a,b,c){this.validateIsNotPublished()?this.getMetricsAdapter().setTimer(a,this._scope,b,c):this.getMetricsAdapter().incrementCount("s-metrics-published-"+a);return this},setValue:function(a,b){this.validateIsNotPublished()&&this.getMetricsAdapter().setValue(a,
this._scope,b);return this},setCount:function(a,b){this.validateIsNotPublished()&&this.getMetricsAdapter().setCount(a,this._scope,b);return this},loadComplete:function(a){this.validateIsNotPublished()&&(this.getMetricsAdapter().publish("ld",this._scope,a),this._isPublished=!0)}});var b=f.extend({_hasRequestId:!1,_hasSecondRequestId:!1,_isLoadWaiting:!1,_loadWaitingOptions:p,init:function(a,b){this._super(a,b);this.clientTimeBased();this.beginRequest()},clientTimeBased:function(){return this.setValue("ctb",
"1")},beginRequest:function(){return this.setTimer("tc")},beginResponse:function(){return this.setValue("t0",+new Date)},responseComplete:function(){return this.setTimer("be")},setRequestId:function(a){if(!0!==this._hasRequestId)return a&&this.validateIsNotPublished()&&(this._hasRequestId=!0,this.setValue("id",a),!0===this._isLoadWaiting&&this.loadComplete(this._loadWaitingOptions)),this},setSecondRequestId:function(a){if(!0!==this._hasSecondRequestId)return a&&this.validateIsNotPublished()&&(this._hasSecondRequestId=
!0,this.setValue("id2",a)),this},criticalFeatureComplete:function(a){return this.setTimer("cf",p,a)},aboveTheFoldComplete:function(a){return this.setTimer("af",p,a)},timeClicked:function(a){return this.setTimer("tc",p,a)},functionalComplete:function(a){return this.setTimer("fn",p,a)},counterReady:function(a,b){return this.setCount(a,b)},loadComplete:function(a){!0!==this._hasRequestId?(this._isLoadWaiting=!0,this._loadWaitingOptions=a):this._super(a)}});var h=f.extend({init:function(a,b){this._super(a,
b);this.bodyBegin()},setTimer:function(a,b,c){b=b||d;return this._super(a,b,c)},bodyBegin:function(){return this.setTimer("bb")},criticalFeatureComplete:function(a){return this.setTimer("cf",p,a)},loadComplete:function(a){a=a||d;this._super(a)}});return{newPageTransitionScope:function(a,c){return new b(a,c)},newWidgetScope:function(a,b){return new h(a,b)}}});"use strict";k.when("A","rush-metrics","rush-dispatcher").register("rush-page-transition-metrics",function(c,f,d){function g(a){n=f.newPageTransitionScope(null,
a)}function b(){n||g();return n}function h(a){var d=c.$.isArray(a)?a[0].requestId:a.requestId;a=c.$.isArray(a)?a[0].secondRequestId:a.secondRequestId;d&&b().setRequestId(d);a&&b().setSecondRequestId(a)}function a(){g();b().beginRequest()}function e(){b().beginResponse()}function k(){b().responseComplete()}function p(a){b().criticalFeatureComplete(a.timeOverride)}function q(a){b().aboveTheFoldComplete(a.timeOverride)}function l(a){b().timeClicked(a.timeOverride)}function y(a){b().functionalComplete(a.timeOverride)}
function x(a){b().counterReady(a.counter,a.value)}function z(){b().loadComplete()}var n,u={RECEIVED_METRICS_INFO:"rushMetricsEvents:metricsInfo",BEGIN_REQUEST:"rushMetricsEvents:beginRequest",BEGIN_RESPONSE:"rushMetricsEvents:beginResponse",RESPONSE_COMPLETE:"rushMetricsEvents:responseComplete",CRITICAL_FEATURE_COMPLETE:"rushMetricsEvents:criticalFeatureComplete",ABOVE_THE_FOLD_COMPLETE:"rushMetricsEvents:aboveTheFoldComplete",TIME_CLICKED:"rushMetricsEvents:timeClicked",FUNCTIONAL_COMPLETE:"rushMetricsEvents:functionalComplete",
COUNTER_READY:"rushMetricsEvents:counterReady",LOAD_COMPLETE:"rushMetricsEvents:loadComplete"};d.on(u.RECEIVED_METRICS_INFO,h);d.on(u.BEGIN_REQUEST,a);d.on(u.BEGIN_RESPONSE,e);d.on(u.RESPONSE_COMPLETE,k);d.on(u.CRITICAL_FEATURE_COMPLETE,p);d.on(u.ABOVE_THE_FOLD_COMPLETE,q);d.on(u.TIME_CLICKED,l);d.on(u.FUNCTIONAL_COMPLETE,y);d.on(u.COUNTER_READY,x);d.on(u.LOAD_COMPLETE,z);return{EVENTS:u,createNewPageTransitionScope:g,receivedMetricsInfo:h,beginRequest:a,beginResponse:e,responseComplete:k,criticalFeatureComplete:p,
aboveTheFoldComplete:q,timeClicked:l,functionalComplete:y,counterReady:x,loadComplete:z}});"use strict";k.execute("rush-feature-browser-support",function(){function c(c,g){f&&f.tag&&f.tag("supports:"+c+":"+("function"===typeof g?"true":"false"))}var f=q.ue;c("mutationobserver",q.MutationObserver);c("getelementsbyclassname",document.getElementsByClassName);c("map",q.Map)});"use strict";k.when("rush-ajax-controller","rush-dispatcher","rush-dom","rush-page-transition-metrics","rush-page-state-dispatcher",
"rush-util").register("Rush",function(c,f,d,g,b,h){return{ajax:c,trigger:f.trigger,on:f.on,startPageStateDispatcher:b.start,isDispatchedByPageState:b.isDispatchedByPageState,scan:d.scan,unscan:d.unscan,remove:d.remove,removeChildren:d.removeChildren,append:d.append,replace:d.replace,replaceInnerHTML:d.replaceInnerHTML,metrics:{EVENTS:g.EVENTS},util:h}});"use strict";k.when("jQuery","a-util").register("rush-util",function(c,f){var d=f.trim,g={outerHTML:function(b){return b.outerHTML?b.outerHTML:c("\x3cdiv\x3e").append(c(b).clone()).html()},
isObject:function(b){return"object"===typeof b&&null!==b},isNumber:function(b){return"number"===typeof b&&isFinite(b)},isNullOrUndefined:function(b){return null===b||b===p},isNotBlank:function(b){return"string"===typeof b&&""!==d(b)},isBlank:function(b){return!g.isNotBlank(b)},setIfEmpty:function(b,c,a){b[c]===p&&(b[c]=a)},makeComponentId:function(b,c){return g.isNotBlank(b)&&g.isNotBlank(c)?b+":"+c:""},freeze:function(b){return Object.freeze?Object.freeze(b):b},isFunction:c.isFunction,assert:function(b,
c){if(!b)throw Error(c);},hide:function(b){c(b).addClass("aok-hidden")},show:function(b){c(b).removeClass("aok-hidden")}};return g.freeze(g)})});
/* ******** */
(function(g){var f=window.AmazonUIPageJS||window.P,r=f._namespace||f.attributeErrors,e=r?r("AmazonRushRouter",""):f;e.guardFatal?e.guardFatal(g)(e,window):e.execute(function(){g(e,window)})})(function(g,f,r){g.when("A").register("rush-routable-application-base",function(e){return e.createClass({init:function(c){this.applicationName=c},name:function(){return this.applicationName},unload:function(){return{}},load:function(){return!0}})});"use strict";g.when("A").register("rush-router-html5-history-support",
function(e){var c=e.$.extend,n=/OS ([0-9]+)(?:_([0-9]+))?/,g=/Android ([0-9]+)(?:\.([0-9]+))?/,h=/iPhone|iPad|iPod/;return function(e){function b(a,b,d){b=d.match(b);return{major:a&&b&&b[1]?parseInt(b[1],10):-1,minor:a&&b&&b[2]?parseInt(b[2],10):-1}}function p(a){if(!a||!a.url&&!a.state)return!1;d.replaceState(c({},d.state(),a.state),d.title(),a.url);return!0}var d=e||{userAgent:f.navigator.userAgent,pushState:function(a,b,d){f.history.pushState(a,b,d)},replaceState:function(a,b,d){f.history.replaceState(a,
b,d)},title:function(){return document.title},state:function(){return f.history.state},addStateChangeHandler:function(a){f.addEventListener("popstate",a,!1)},removeStateChangeHandler:function(a){f.removeEventListener("popstate",a)},hasNativeHistorySupport:function(){return f.history&&f.history.replaceState}};return{isSupportedBrowser:function(){var a=d.userAgent;return d.hasNativeHistorySupport()?h.test(a)?(a=b(!0,n,a),5<=a.major):-1!==a.indexOf("Android")?(a=b(!0,g,a),4<a.major||4===a.major&&2<=
a.minor):!0:!1},to:function(a){if(!a||!a.url&&!a.state)return!1;d.pushState(c({},a.state||{}),d.title(),a.url);return!0},replace:p,back:function(){d.history.back()},state:function(a){a&&p({state:a});return d.state()||{}},addStateChangeHandler:d.addStateChangeHandler,removeStateChangeHandler:d.removeStateChangeHandler}}});"use strict";g.when("A").register("rush-router-pattern-parser",function(e){function c(b,c){return c?(e.isArray(c)||(c=[c]),c.concat(e.isArray(b)?b:[b])):b}function f(b){return decodeURIComponent((b||
"").replace(/\+/g," "))}function g(b,e){var d={},a=!1,f=e.match(b),g=null,p=(b.toString().match(q)||[]).length,n=1,h=0;if(f)for(a=!0,b=f[0],(g=e.substr(b.length))&&"/"===b.charAt(b.length-1)&&(g="/"+g);h<p;h++)d.wildcard=c(f[n],d.wildcard),n++;return{isMatch:a,remainingPathname:g,params:d}}function h(b){var e={},d;if(!b)return e;"?"===b[0]&&(b=b.slice(1));b=b.split("\x26");for(d=0;d<b.length;d++){var a=b[d].split("\x3d");var g=f(a.shift());a=a.length?f(a.join("\x3d")):null;g&&(e[g]=c(a,e[g]))}return e}
var q=/\(\.\*\)/g;return{matchPathname:g,parseQueryString:h,matchLocation:function(b,f){var d=g(b,f.pathname);if(!1===d.isMatch||d.remainingPathname)return d.isMatch=!1,d;b=h(f.search);e.each(b,function(a,b){d.params[b]=c(a,d.params[b])});return d}}});"use strict";g.register("rush-route",function(){return{create:function(e,c){return{pattern:function(){return e},handler:function(){return c}}}}});"use strict";g.when("a-util","rush-router-pattern-parser","rush-route","rush-router-html5-history-support",
"rush-routable-application-base","rush-router-url-parser").register("R",function(e,c,n,t,h,q){function b(a){a=q.parse(a.href);return a.protocol+"//"+a.host}function p(){return document.location}function d(d,e){function h(a){l().href===a?l().reload(!0):l().href=a}function t(a,b,d,e,c,g,f){function m(a){return!1===a?(!1!==c&&h(d.href),!1):!0}if(f)a.handler().call(d,b,d,g,function(a){f(m(a))});else return m(a.handler().call(d,b,d,g))}function k(a,b,d,e,g){if(!a)return!1;a:{var m;for(m=0;m<u.length;m++){var f=
u[m];var w=c.matchLocation(f.pattern(),a);if(w.isMatch){f={route:f,params:w.params};break a}}f=void 0}if(f)return!!t(f.route,f.params,a,d,b,e,g);!1!==b&&h(a.href);g&&g(!1);return!1}function x(a){k(l(),r,a)}function y(a){var e;if(!(1!==a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.defaultPrevented)){var c=a.target;for(e=l().href;c&&"A"!==c.nodeName;)c=c.parentNode;!c||"A"!==c.nodeName||!c.hasAttribute("href")||c.hasAttribute("download")||"off"===c.getAttribute("data-routing")||c.target&&"_self"!==c.target||
z!==b(c)||c.href===e||c.href.split("#")[0]===e.split("#")[0]||!0!==k(c,!1)||(d.to({url:c.href,state:null}),a.preventDefault())}}var l=e||p,u=[],z=b(l()),v=!1;return{addRoute:function(a,b){a=n.create(a,b);u.push(a)},removeRoute:function(){throw Error('the "rush-router R:removeRoute" method has been deprecated');},route:x,to:function(b,c){b=a({url:l().href,state:{},history:!0},b);var e=q.parse(b.url);k(e,!0,!1,c,function(a){!0===a&&!1!==b.history&&d.to({url:b.url,state:b.state})})},replace:function(){throw Error('the "rush-router R:replace" method has been deprecated');
},back:d.back,state:d.state,switchApp:function(){throw Error('the "rush-router R:switchApp" method has been deprecated');},start:function(a){v||(v=!0,g.when("load").execute("routerBindStateChangeHandler",function(){v&&d.addStateChangeHandler(x)}),f.addEventListener("click",y,!1),a=a?q.parse(a):l(),k(a,!1))},stop:function(){throw Error('the "rush-router R:stop" method has been deprecated');},pause:function(){throw Error('the "rush-router R:pause" method has been deprecated');},unpause:function(){throw Error('the "rush-router R:unpause" method has been deprecated');
}}}var a=e.extend;e=e.mixin;var k={};e(k,d(new t));k.createRouter=d;k.ApplicationBase=h;return k});"use strict";g.register("rush-router-url-parser",function(){var e="protocol hostname host pathname port search hash href".split(" ");return{parse:function(c){var f=document.createElement("a"),g={};f.href=c;f.href=f.href;for(c=0;c<e.length;c++)"pathname"===e[c]?g.pathname=f.pathname.replace(/(^\/?)/,"/"):g[e[c]]=f[e[c]];return g},toUrl:function(c){if(c)return c.protocol+"//"+c.host+c.pathname+c.search+
c.hash}}})});
/* ******** */
(function(e){var f=window.AmazonUIPageJS||window.P,k=f._namespace||f.attributeErrors,c=k?k("SearchAssets@actions",""):f;c.guardFatal?c.guardFatal(e)(c,window):c.execute(function(){e(c,window)})})(function(e,f,k){e.declare("s-actions",{DEBUG_VIEWS_ATF:"s-web-application-controller:debugViewsAtf",DEFERRED_CONTENT_READY:"s-web-application-controller:deferredContentReady",FILTERS_LINK_VIEW_READY:"s-web-application-controller:filtersLinkViewReady",FILTERS_PANEL_VIEW_COMPLETE:"s-web-application-controller:filtersPanelViewComplete",
FILTERS_PANEL_VIEW_READY:"s-web-application-controller:filtersPanelViewReady",LOAD_REFINEMENTS_COMPLETE:"s-web-application-controller:loadSearchRefinementsComplete",LOAD_SEARCH_PAGE:"s-web-application-controller:loadSearchResults",LOAD_SEARCH_PAGE_COMPLETE:"s-web-application-controller:loadSearchResultsComplete",LOAD_SEARCH_PAGE_STARTING:"s-web-application-controller:loadSearchPageStarting",SEARCH_RESPONSE_STARTING:"s-web-application-controller:searchResponseStarting",MAIN_SLOT_READY:"s-web-application-controller:mainSlotReady",
PAGINATION_LINK_COMPLETE:"s-web-application-controller:paginationLinkComplete",PROGRESSIVE_SCROLL_COMPLETE:"s-web-application-controller:fullPageProgressiveScrollComplete",REDIRECT_READY:"s-web-application-controller:redirectReady",RELOAD_SEARCH_PAGE_STARTING:"s-web-application-controller:reloadSearchPageStarting",RESULT_INFO_BAR_COMPLETE:"s-web-application-controller:resultInfoBarComplete",RESULT_INFO_BAR_READY:"s-web-application-controller:resultInfoBarReady",RESULT_ITEM_READY:"s-web-application-controller:resultItemReady",
SEARCH_METADATA_READY:"s-web-application-controller:searchMetadataReady",TITLE_AND_META_READY:"s-web-application-controller:titleAndMetaReady"});"use strict";e.when("rush-dispatcher","rush-util").register("s-hidden-content-actions",function(c,b){function d(a,b){if(!a)throw Error(b);}var e=c.trigger,g;g={markShown:function(a){d(b.isNotBlank(a),"widget must be a non-empty string");return a+":hidden-content:mark-has-shown-content"},hide:function(a){d(b.isNotBlank(a),"widget must be a non-empty string");
return a+":hidden-content:hide-content"},slideAndFade:function(a){d(b.isNotBlank(a),"uuid must be a non-empty string");return a+":hidden-content:slide-and-fade-content"},fade:function(a){d(b.isNotBlank(a),"widget must be a non-empty string");return a+":hidden-content:fade-content"}};return{listeners:g,triggers:{showFirst:function(a,h){d(b.isNotBlank(a),"uuid must be a non-empty string");d(b.isNumber(h),"time must be a number");return e(g.slideAndFade(a),{showingUuid:a,time:h})},markShown:function(a){d(b.isNotBlank(a),
"widget must be a non-empty string");return e(g.markShown(a))},show:function(a,h,c){d(b.isNotBlank(a),"widget must be a non-empty string");d(b.isNotBlank(h),"uuid must be a non-empty string");d(b.isNumber(c),"time must be a number");return e(g.fade(a),{showingUuid:h,time:c})},hide:function(a,c,f){d(b.isNotBlank(a),"widget must be a non-empty string");d(b.isNotBlank(c),"uuid must be a non-empty string");d(b.isNumber(f),"time must be a number");return e(g.hide(a),{showingUuid:c,time:f})}}}});"use strict";
e.declare("s-search-results-actions",{ITEM_HEIGHT_CHANGED:"search_results:item-height-changed"})});
/* ******** */
(function(d){var p=window.AmazonUIPageJS||window.P,r=p._namespace||p.attributeErrors,b=r?r("SearchAssets@ajax",""):p;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,p,r){d.when("rush-metrics-adapter","a-util").register("partial-ajax-metrics",function(b,k){var d=0;return{beginResponse:function(h,g){h&&g&&b.setValue("ajax-clickToBodyStart","partial-ajax-metrics-"+d++,g-h)},endResponse:function(h){h&&b.setValue("ajax-clickToBodyEnd","partial-ajax-metrics-"+d++,
k.now()-h)}}});d.when("rush-ajax-controller","rush-util","a-util","3p-promise").register("s-search-ajax-controller",function(b,d,l,h){function g(){}var f=l.extend,e=d.assert,u=d.isFunction,p=d.isNotBlank;return function(d,k){return new h(function(h,l){var m=k&&k.chunk||g;e(p(d),"invalid argument: `url` must be a non-empty string");e(u(m),"invalid argument: `options.chunk` must be a function");k=f({},k,{success:g,error:g,chunk:function(){m.apply({},arguments)}});b(d,k).then(h,function(b){a:{if(b){if(b instanceof
Error)break a;if(b.error&&b.statusText){b=Error([b.statusText,b.error].join(", "));break a}}b=Error("Unknown AJAX error")}l(b)})})}});d.when("a-util","s-simple-queue","s-url-parameters","3p-promise","jQuery","rush-metrics-adapter","s-img-preloader","s-max-widget-index-main-slot","rush-util","s-request-context-store","s-prefetch-origins","s-customer-actions").register("s-web-ajax",function(b,k,l,h,g,f,e,u,r,w,y,v){function D(){}function m(a){this._btfRequested=this._btfStarted=this._atfStarted=0;this._atfCompleted=
!1;this._metricNames=x.getPrefetchMetricNames(a)}function A(a,b,d){var e="unknown";"Request Timeout"===d?f.setCount(a+"timeout",null,1):(b&&b.http&&b.http.status&&(e=b.http.status),f.setCount(a+e,null,1))}function B(a){return!a||a!==y.PAGINATION&&a!==y.PROGRESSIVE_SCROLL?v.QUERY:v.PAGINATION}function q(a,e){this.paramString=a;this.prefetchOrigin=e;this.customerAction=B(e);this._created=b.now();this._valid=!0;this.metrics=new m(e);this.atf={complete:!1,requestId:null,prefetchAjaxData:null,lastMainSlotIndex:null,
chunks:new k,successHandler:null,errorHandler:null};this.btf={chunks:new k}}function C(a){return"/s/query?"+l.paramsToString(a.params||{},!0)}function E(a,b,e,d,f){return{method:"post",contentType:"application/json",paramsFormat:"json",timeout:a.timeout||1E4,headers:a.headers||{},memo:a.memo||{},params:b,success:e,chunk:d,error:f}}function F(a){p.csa&&p.csa("SPA")("newPage",{requestId:a})}var x={getPrefetchMetricNames:function(a){a||(a="unknown");a="s-web-ajax."+a;return{LATENCY:{ATF:a+".atf.latency",
BTF:a+".btf.latency",BTF_DELTA:a+".btf.delta",BTF_DELAY:a+".btf.delay"},COUNTER:{ATF:a+".atf.request",ATF_CACHE_TIMEOUT:a+".atf.cache.timeout",BTF:a+".btf.request",BTF_EARLY:a+".btf.early",ATF_ERROR:a+".atf.error.",BTF_ERROR:a+".btf.error."}}},REGULAR:{LATENCY:"s-web-ajax.regular.latency",COUNTER:{REQUEST:"s-web-ajax.regular.request",ERROR:"s-web-ajax.regular.error."}}},G=!1,z=!1;d.now("s-ajax-calls-via-http-post-enabled").execute(function(a){G=a});d.now("s-ajax-customer-action-flagging-enabled").execute(function(a){z=
a});m.prototype.atfStart=function(){this._atfStarted=b.now()};m.prototype.aftSuccess=function(){f.setCount(this._metricNames.COUNTER.ATF,null,1);0<this._atfStarted&&f.setCount(this._metricNames.LATENCY.ATF,null,b.now()-this._atfStarted);this._atfCompleted=!0};m.prototype.atfCacheTimeout=function(){f.setCount(this._metricNames.COUNTER.ATF_CACHE_TIMEOUT,null,1)};m.prototype.btfRequested=function(){this._btfRequested=b.now();0<this._atfStarted&&f.setCount(this._metricNames.LATENCY.BTF_DELTA,null,b.now()-
this._atfStarted);this._atfCompleted||f.setCount(this._metricNames.COUNTER.BTF_EARLY,null,1)};m.prototype.btfStart=function(){this._btfStarted=b.now();0<this._btfRequested&&f.setCount(this._metricNames.LATENCY.BTF_DELAY,null,b.now()-this._btfRequested)};m.prototype.btfSuccess=function(){f.setCount(this._metricNames.COUNTER.BTF,null,1);0<this._btfStarted&&f.setCount(this._metricNames.LATENCY.BTF,null,b.now()-this._btfStarted)};m.prototype.atfError=function(a,b){"Lack of key chunks"===b?f.setCount(this._metricNames.COUNTER.ATF_ERROR+
"lacks",null,1):A(this._metricNames.COUNTER.ATF_ERROR,a,b);f.setCount(this._metricNames.COUNTER.ATF,null,0)};m.prototype.btfError=function(a,b){A(this._metricNames.COUNTER.BTF_ERROR,a,b);f.setCount(this._metricNames.COUNTER.BTF,null,0)};q.prototype.isValid=function(){return 6E4<b.now()-this._created?(this.metrics.atfCacheTimeout(),!1):this._valid};q.prototype.invalidate=function(){this._valid=!1};q.prototype.releaseAtf=function(){return this.atf.chunks.start()};q.prototype.releaseBtf=function(){return this.btf.chunks.start()};
q.prototype.onAtfSuccess=function(a){this.atf.complete?a(this.atf.requestId,this.atf.lastMainSlotIndex,this.atf.prefetchAjaxData):this.atf.successHandler=a};q.prototype.onAtfError=function(a){this._valid?this.atf.errorHandler=a:a()};return function(a){function d(c){var a=p.ue;a&&a.tag&&c&&c.prefetchOrigin&&a.tag("search-prefetch:"+c.prefetchOrigin)}function k(c){c.index=0;r.isBlank(c.html)&&(c.html='\x3cimg class\x3d"s-prefetch-image"\x3e')}function m(c){var a=g(".s-progressive-scroll-declarative");
return!r.isNullOrUndefined(c.params)&&a.length&&(a=a.children(),a.length&&(a=(a.data("sProgressiveScrollLink")||{}).maxPages,1<c.params.page&&c.params.page<=a))?!0:!1}function l(c,t){var f=t.chunk||D,g,n;g=C(t);n={"page-content-type":"atf","prefetch-type":"rq"};m(t)&&(n.progressiveScroll=!0);!0===n.progressiveScroll&&0<u.getMax()&&(n.wIndexMainSlot=u.getMax()+1);z&&(n["customer-action"]=B(c.prefetchOrigin));n=E(t,n,function(){c.atf.requestId&&c.atf.lastMainSlotIndex&&c.atf.prefetchAjaxData?(c.metrics.aftSuccess(),
c.atf.complete=!0,c.atf.successHandler&&c.atf.successHandler(c.atf.requestId,c.atf.lastMainSlotIndex,c.atf.prefetchAjaxData)):(c.metrics.atfError(null,"Lack of key chunks"),w.remove(c.paramString),c.atf.errorHandler&&c.atf.errorHandler())},function(a,b,t){t&&b&&("data-client-side-metrics-info"===a&&(c.atf.requestId=b.requestId),0<=a.indexOf("main-slot")&&(c.atf.lastMainSlotIndex=b.index,b.html&&e(b.html,function(c){return 0<=c.indexOf("/imp?")}),"data-main-slot:image-prefetch"===a&&k(b)),"data-prefetch-ajax-data-passing"===
a?c.atf.prefetchAjaxData=b.payload:c.atf.chunks.add(function(){f(a,b,t)}))},function(a,b){c.metrics.atfError(a,b);w.remove(c.paramString);c.atf.errorHandler&&c.atf.errorHandler()});t.headers&&(n.headers=b.copy(t.headers),n.headers["X-Amazon-s-mismatch-behavior"]="ABANDON");d(c);c.metrics.atfStart();return a(g,n)}function y(c,b,e,f,g){var u=b.chunk||D,k;k=C(b);e={rrid:e,wIndexMainSlot:f+1,"prefetch-ajax-data":g,"page-content-type":"btf","prefetch-type":"log"};m(b)&&(e.progressiveScroll=!0);z&&(e["customer-action"]=
B(c.prefetchOrigin));e=E(b,e,function(){c.metrics.btfSuccess();b.success&&b.success()},function(a,b,e){c.btf.chunks.add(function(){u(a,b,e)})},function(a,e,d){c.metrics.btfError(a,e);b.error&&b.error(a,e,d,"btf")});d(c);c.metrics.btfStart();return a(k,e)}function I(c,a,b){a&&(c.params.progressiveScroll=a);0<b&&(c.params.wIndexMainSlot=b)}function H(c){var d,h=b.now(),l=c.success,n=c.error,p=c.chunk,q,r;r=m(c);q=g(".s-progressive-scroll-declarative").length&&0<u.getMax()?u.getMax()+1:void 0;c.chunk=
function(c,a,b){"data-client-side-metrics-info"===c&&F(a.requestId);"data-main-slot:image-prefetch"===c&&(e(a.html),k(a));p&&g.isFunction(p)&&p(c,a,b)};c.success=function(){f.setCount(x.REGULAR.LATENCY,null,b.now()-h);f.setCount(x.REGULAR.COUNTER.REQUEST,null,1);l&&g.isFunction(l)&&l()};c.error=function(c,a,b){f.setCount(x.REGULAR.COUNTER.REQUEST,null,0);A(x.REGULAR.COUNTER.ERROR,c,a);n&&g.isFunction(n)&&n(c,a,b,"regular")};return G?(d=C(c),c=b.extend({method:"post",contentType:"application/json",
paramsFormat:"json",timeout:1E4},c),c.params={},I(c,r,q),z&&(c.params["customer-action"]=c.memo?c.memo.isPagination?v.PAGINATION:c.memo.isRefinement?v.REFINEMENT:v.QUERY:v.QUERY),c.memo&&c.memo.asinIdToMetadata&&(c.params["asin-id-to-metadata"]=c.memo.asinIdToMetadata),c.memo&&c.memo.navigationState&&(c.params["navigation-state"]=c.memo.navigationState),a(d,c)):a("/s/query",b.extend({method:"get",timeout:1E4},c))}return function(c){var a,b=c.memo||{},e=b.paramString,d=b.prefetchOrigin;a=w.get(e);
if(b.prefetchAtf){if(a)return h.resolve();a=new q(e,d);w.add(e,a);return l(a,c)}return a?(a.metrics.btfRequested(),new h(function(b,e){a.onAtfError(function(){H(c).then(b,e)});a.onAtfSuccess(function(d,f,g){f=y(a,c,d,f,g);w.remove(a.paramString);F(d);a.releaseAtf().then(function(){a.releaseBtf()});f.then(b,e)})})):H(c)}}});d.register("s-prefetch-origins",function(){return{SEARCH_BAR:{PASTE:"search-bar.paste",TYPING_PAUSE:"search-bar.typing-pause"},PAGINATION:"optimized-pagination",PROGRESSIVE_SCROLL:"progressive-scroll"}});
d.register("s-customer-actions",function(){return{PAGINATION:"pagination",REFINEMENT:"refinement",QUERY:"query"}});d.when("s-data-store-with-max-size","s-url-parameters").register("s-request-context-store",function(b,d){function l(b){var g=d.parseQueryString(b);for(b=0;b<f.length;b++)d.removeParamValue(g,f[b]);return d.paramsToString(g)}function h(b){b=l(b);var d=g.get(b);d&&(d.invalidate(),g.remove(b))}var g=b(20),f=["ref","crid","sprefix"];return{remove:h,getKeyFromParamString:l,get:function(b){var d=
g.get(l(b));if(d){if(d.isValid())return d;h(b)}return null},add:function(b,d){return g.add(l(b),d)}}})});
/* ******** */
(function(t){var u=window.AmazonUIPageJS||window.P,F=u._namespace||u.attributeErrors,v=F?F("SearchAssets@app",""):u;v.guardFatal?v.guardFatal(t)(v,window):v.execute(function(){t(v,window)})})(function(t,u,F){t.when("A","rush-framework","rush-asset-loader","rush-page-transition-metrics","s-web-data-store","s-url-parameters","rush-util","rush-metrics-adapter","partial-ajax-metrics","s-search-metadata","s-slots","s-actions","rush-metrics","s-ads-metrics-utils","3p-promise","s-clean-url","s-is-mobile",
"s-customer-actions","s-navigation-state-utils","s-request-context-store","s-search-requests-util","s-start-application").register("s-web-application-controller",function(v,A,x,Q,F,c,N,d,K,G,B,k,C,O,R,L,S,H,ja,D,Z){function aa(){var b=!1;t.now("s-device-context").execute(function(c){c&&c.APP&&(b=!0)});return b}var ka=/^(?:\/(.*))?\/s\/?/i,T=/^(?:\/(.*))?\/s(?:\/ref=(.*))?\/?/i,p={PAGE:"page",LAYOUT:"lo",REFTAG:"ref",WILDCARD:"wildcard",KEYWORDS:"k",KEYWORDS_LONG_FORM:"keywords",NODE:"n",SOURCE_WIDGET_TEMPLATE:"srcWidgetTemplate"},
U={atf:"s-progressive-scroll-atf-errors",btf:"s-progressive-scroll-btf-errors",regular:"s-progressive-scroll-regular-errors"},y=x.EVENTS.FINGERPRINT_MISMATCH,b=/\bn:(\d*)/g,ca=B.reduce(function(b,c){b[c]=!0;return b},{}),da={},la=!document.cookie||0===document.cookie.length,w=Z.create();d.setTimer("bb","s-swac",{wb:1});d.setCount("s-swac:force-reloads",null,0);d.setCount("s-swac:pages",null,0);d.setCount("s-swac:partial-request-redirects",null,0);return A.attachApp("search-web-application","s-web-application-controller",
function(g){function ba(a){var e=c.getCanonicalParamName(p.PAGE);N.setIfEmpty(a,e,"1")}function ea(a){a=c.canonicalizeParams(a);ba(a);I=a;P=c.paramsToString(I);E||(V=I)}function x(a){a&&a.item&&a.item.html&&v.$(document.head).append(a.item.html)}function W(a){a&&a.suffix&&!1===M[a.suffix]&&(h[a.suffix].beginResponse(),M[a.suffix]=!0);X||(Q.beginResponse(),g.trigger(k.SEARCH_RESPONSE_STARTING),X=!0)}function B(a){return v.$.isArray(a)?a[0].requestId:a.requestId}function L(a){function e(e){g.trigger(e+
(a&&a.suffix||""),a)}if(a&&w.includes(a.paramString))switch(W(),a.type){case n.ITEM_TYPES.SEARCH_RESULTS:e(k.RESULT_ITEM_READY);e("puis-ajax-actions:faceout-component-ready");break;case n.ITEM_TYPES.PAGINATION:e(k.PAGINATION_LINK_COMPLETE);break;case n.ITEM_TYPES.CLIENT_SIDE_METRICS_INFO:Q.receivedMetricsInfo(a.item);a&&a.suffix&&h[a.suffix]&&(h[a.suffix].setRequestId(B(a.item)),h[a.suffix].beginResponse(),M[a.suffix]=!0);break;case n.ITEM_TYPES.FILTERS_PANEL_VIEW:case n.ITEM_TYPES.LEFT_SLOT:O.record(a.item&&
a.item.html);e(k.FILTERS_PANEL_VIEW_READY);break;case n.ITEM_TYPES.FILTERS_LINK_VIEW:e(k.FILTERS_LINK_VIEW_READY);break;case n.ITEM_TYPES.RESULT_INFO_BAR:case n.ITEM_TYPES.UPPER_SLOT:e(k.RESULT_INFO_BAR_READY);break;case n.ITEM_TYPES.TITLE_AND_META:e(k.TITLE_AND_META_READY);break;case n.ITEM_TYPES.SEARCH_METADATA:G.set(a&&a.item&&a.item.metadata||{});e(k.SEARCH_METADATA_READY);break;case n.ITEM_TYPES.REDIRECT:g.trigger(k.REDIRECT_READY,a);break;case n.ITEM_TYPES.MAIN_SLOT:O.record(a.item&&a.item.html);
e(k.RESULT_ITEM_READY);e(k.MAIN_SLOT_READY);e("puis-ajax-actions:faceout-component-ready");break;case n.ITEM_TYPES.PERSIST_TO_HEAD:x(a);break;case n.ITEM_TYPES.DEBUG_VIEW_ATF:e(k.DEBUG_VIEWS_ATF)}}function fa(a){a&&!1===a.full&&a.chunks&&a.chunks.firstChunkReceivedTime&&(K.endResponse(a.requestStartTime),K.beginResponse(a.requestStartTime,a.chunks.firstChunkReceivedTime))}function ma(a){var e=u.ue;E&&e&&e.tag&&e.tag("s-progressive-scroll-success");a&&w.includes(a.paramString)&&(A.enableAllScanning(),
W(a.suffix),a.suffix&&!a.singleProductDisplay&&(h[a.suffix].criticalFeatureComplete(+new Date),h[a.suffix].aboveTheFoldComplete(+new Date),h[a.suffix].loadComplete(),delete M[a.suffix],delete h[a.suffix]),g.trigger(k.LOAD_SEARCH_PAGE_COMPLETE+(a.suffix||""),a),g.trigger("puis-ajax-actions:request-complete"+(a.suffix||""),a),!1===a.full&&a.fallbackUrl&&!a.doNotFailOnEmptyChunk&&a.chunks&&a.chunks.getTimestamps&&0===a.chunks.getTimestamps(n.ITEM_TYPES.SEARCH_RESULTS).length&&0===a.chunks.getTimestamps(n.ITEM_TYPES.MAIN_SLOT).length&&
(d.incrementCount("s-swac:partial-request-redirects"),u.location.href=a.fallbackUrl),fa(a),a.full&&E&&g.trigger(k.PROGRESSIVE_SCROLL_COMPLETE,{}))}function na(a){var e=u.ue;a.paramString===P&&(W(a.suffix),a.suffix&&(h[a.suffix].loadComplete(),delete M[a.suffix],delete h[a.suffix]),fa(a),E?a.requestType&&(e&&e.tag&&e.tag(U[a.requestType]),"regular"===a.requestType&&g.trigger(k.PROGRESSIVE_SCROLL_COMPLETE,{isError:!0})):(d.incrementCount("s-swac:force-reloads"),a.fallbackUrl?u.location.href=a.fallbackUrl:
u.location.reload(!0)))}function oa(){g.startPageStateDispatcher({paramString:P})}function J(a,e,b){a=c.canonicalizeParams(a,e);if(!0===b){b=c.getParamValue(V,p.PAGE);e=c.getParamValue(a,p.PAGE);var g="";a.hasOwnProperty(p.REFTAG)&&(g=a[p.REFTAG]);0===g.indexOf("sr_pg_")&&1===e-b&&(a[p.REFTAG]="sr_pg_"+b)}delete a[p.WILDCARD];ba(a);return a}function pa(){var a=!1;t.now("s-startup-dom-scan-complete").execute(function(b){a=!!b&&0===Object.keys(ca).length});return a}function ga(a){a=J(c.parseQueryString(a),
!0);a=c.canonicalizeParams(a);return D.get(c.paramsToString(a))}var n,V={},I={},P,Y,E=!1,ha=!1,X=!1,h={},M={};v.on(y,function(a,b,c){a=c&&c.paramString;Y&&a===P&&(u.location.href=Y)});(function(){function a(a,b){var e;if(!a.page)return!1;if(b===H.PAGINATION)return!0;for(e in a)if("ref"!==e&&"mockPcsResponse"!==e&&"page"!==e&&a.hasOwnProperty(e)&&!0===a[e])return!1;return!0}function e(a,e){var g={i:!1,me:!1,srs:!1,bbn:!1,n:!1,rh:!1},f=!0;v.each(g,function(r,l){var m=c.getParamValue(a,l)||"";r=c.getParamValue(e,
l)||"";var q;"i"===l&&("aps"===m.toLowerCase()&&(m=""),"aps"===r.toLowerCase()&&(r=""));if("rh"===l){if(m!==r)if(r=r.match(b)||[],m=m.match(b)||[],m.length!==r.length)g[l]=!0,f=!1;else for(q=0;q<m.length;q++)if(r[q]!==m[q]){g[l]=!0;f=!1;break}}else m!==r&&(g[l]=!0,f=!1)});u.ue&&u.ue.count&&v.each(g,function(a,b){u.ue.count("ajax-unapproved-param:"+b,(u.ue.count("ajax-unapproved-param:"+b)||0)+(a?1:0))});return f}function D(u,p,z,f){var r=J(u,!1,y),l,m,q;if(m=p&&p.href)q=m.indexOf("#"),Y=-1!==q?m.substring(0,
q):m;E=!(!z||!z.isProgressiveScroll);ha=!(!z||!z.isProgressiveScrollRetry);if(y){m=J(V,!1);m=v.diff(r,m);a:{for(l in m)if(m.hasOwnProperty(l)&&!0===m[l]){l=!0;break a}l=!1}m=l?m:!1;l=z&&z.hasOwnProperty("isRefinement")&&!0===z.isRefinement?!0:!1;if(!m)return!0;if(!(q=!pa())){q=I;if(!1===f||E)f=!0;else if(S&&!aa()){b:{var h;f=c.getParamValue(q,"i")||"";h=c.getParamValue(r,"i")||"";"aps"===f.toLowerCase()&&(f="");"aps"===h.toLowerCase()&&(h="");if(""!==f&&""===h)f=!0;else{h=c.getParamValue(q,"rh")||
"";f=c.getParamValue(r,"rh")||"";if(h!==f&&(f=f.match(b)||[],h=h.match(b)||[],0<h.length&&0===f.length)){f=!0;break b}f=c.getParamValue(q,"srs")||"";q=c.getParamValue(r,"srs")||"";f=""!==f&&""===q?!0:!1}}f=!f}else f=e(q,r);q=!f}if(q)return g.trigger(k.RELOAD_SEARCH_PAGE_STARTING,{}),!1;A.disableAllScanning();X=!1;n.pause();f=ga(c.paramsToString(r,!0));q=null!==f?f.customerAction:null;f={full:!0,isPagination:a(m,q),isRefinement:l,navigationState:ja.getNavigationState(z)};p&&p.href&&(f.assetMismatch=
"FALLBACK",f.fallbackUrl=p.href);E&&ha&&(f.isRetry=!0);n.request(J(u,!0,!0),f);ea(r);E||(w=Z.create());w.add(c.paramsToString(r,!1));g.trigger(k.LOAD_SEARCH_PAGE_STARTING,{isAjax:y});g.trigger("puis-ajax-actions:request-starting",{isAjax:y});g.trigger(k.LOAD_SEARCH_PAGE,{params:r,data:z,isPagination:a(m,q),isRefinement:l});g.trigger("puis-ajax-actions:request-in-progress",{params:r,data:z,isPagination:a(m,q),isRefinement:l});n.start()}d.incrementCount("s-swac:pages");y||(ea(r),w.add(c.paramsToString(r,
!1)),g.trigger(k.LOAD_SEARCH_PAGE_STARTING,{isAjax:y}),y=!0,t.when("ready").execute("s-route-handler-load-state",oa));d.setCount("s-on-search-route","s-on-search-route",1,{wb:1});d.publish("s-on-search-route","s-on-search-route",{wb:1});return!0}function h(a,b,g,f){var c=J(a,!1,y),l;Q.beginRequest();if(!y||!aa()||e(I,c)||!f)return l=!1===D(a,b,g)?!1:!0,f&&f(l),l;t.now("navigation-smash-extension").execute(function(e){var c=(new Date).getTime();e&&e.willAppHandleURL?(d.setCount("navigation-smash-extension-will-app-handle-url-present",
null,1),e.willAppHandleURL({url:b.href,successCallback:function(e){d.setCount("navigation-smash-extension-will-app-handle-url-success",null,1);d.setCount("navigation-smash-extension-will-app-handle-url-latency",null,(new Date).getTime()-c);e="true"===String(e).toLowerCase()?!0:!1;l=!1===D(a,b,g,e)?!1:!0;e?d.setCount("navigation-smash-extension-will-app-handle-url-true",null,1):d.setCount("navigation-smash-extension-will-app-handle-url-false",null,1);f&&f(l)},failCallback:function(){d.setCount("navigation-smash-extension-will-app-handle-url-failure",
null,1);d.setCount("navigation-smash-extension-will-app-handle-url-latency",null,(new Date).getTime()-c);l=!1===D(a,b,g)?!1:!0;f&&f(l)}})):(d.setCount("navigation-smash-extension-will-app-handle-url-not-present",null,1),l=!1===D(a,b,g)?!1:!0,f&&f(l))})}var y=!1;n=F(g,ma,na,L);g.addRoute(ka,h);g.addRoute(T,function(a,b,e,f){a.hasOwnProperty(p.REFTAG)||(a[p.REFTAG]=a[p.WILDCARD]);d.setCount("s-on-search-with-ref","s-on-search-with-ref",1,{wb:1});d.publish("s-on-search-with-ref","s-on-search-with-ref",
{wb:1});return h(a,b,e,f)});d.setTimer("cf","s-swac",{wb:1});d.publish("ld","s-swac",{wb:1});da.isAjaxableRequest=e})();return{ACTIONS:k,FILTERS_POPOVER_NAME:"filter_view",PARAMS:p,SEARCH_PATH:"/s",getCurrentKeywords:function(){return c.getParamValue(I,p.KEYWORDS)||""},getSearchMetadata:function(){return G.get()},recordInitializedSlotComponent:function(a){delete ca[a]},requestPartialContent:function(a,b){a=c.parseQueryString(a);var d=c.paramsToString(a,!1);w.add(d);b=v.extend(b,{full:!1,overrideParams:I});
n.pause();b.suffix&&(h[b.suffix]=C.newPageTransitionScope("partialPage"),h[b.suffix].beginRequest());d=n.request(J(a,!0),b);b.suffix&&(g.trigger(k.LOAD_SEARCH_PAGE_STARTING+b.suffix,{isAjax:!0}),g.trigger("puis-ajax-actions:request-starting"+b.suffix,{isAjax:!0}),g.trigger(k.LOAD_SEARCH_PAGE+b.suffix,{params:a}),g.trigger("puis-ajax-actions:request-in-progress"+b.suffix,{params:a}));n.start();return d},prefetchAtf:function(a,b){var g=null;t.now("s-optimized-pagination-config").execute(function(h){h&&
!0===h.enabled&&(G.get()&&0===G.get().asinOnPageCount?d.setCount("swac.noAtfPrefetchUnderNoResultsPage",null,1):la?d.setCount("swac.cookieDisabled",null,1):(h=J(c.parseQueryString(a),!0),g=n.request(h,{prefetchAtf:!0,prefetchOrigin:b})))});return g||R.resolve()},getPrefetchAtfContext:ga,_ut:da}},{alternativeUrl:L})});"use strict";t.when("a-util","s-url-parameters","rush-util","s-request-status-constants","s-simple-queue","s-web-ajax").register("s-web-data-store",function(v,A,x,F,ia,c){function N(){H.start()}
function d(){H.pause()}function K(c){c=A.canonicalizeParams(c);return A.paramsToString(c)}function G(c){var d=c.match(/^data-(.+?)(:.*)?$/);return d?d[1]:c}function B(){var c;t.now("s-swrs-version").execute(function(d){c=d||""});return c}function k(c){var d={};d["X-Amazon-s-swrs-version"]=B();d["X-Amazon-s-mismatch-behavior"]=c.assetMismatch;d["X-Amazon-s-fallback-url"]=c.fallbackUrl;return d}var C={CLIENT_SIDE_METRICS_INFO:"client-side-metrics-info",DEBUG_VIEW_ATF:"debug-view-atf",FILTERS_LINK_VIEW:"filters-link-view",
FILTERS_PANEL_VIEW:"filters-panel-view",LEFT_SLOT:"left-slot",MAIN_SLOT:"main-slot",PAGINATION:"pagination",PERSIST_TO_HEAD:"persist-to-head",REDIRECT:"redirect",RESULT_INFO_BAR:"result-info-bar",SEARCH_METADATA:"search-metadata",SEARCH_RESULTS:"search-results",SEARCH_RESULTS_METADATA:"results-metadata",TITLE_AND_META:"title-and-meta",UPPER_SLOT:"upper-slot"},O=function(){var c={},d;for(d in C)C.hasOwnProperty(d)&&(c[C[d]]=d);return c}(),R=v.extend,L=x.isNullOrUndefined,S=x.isBlank,H=new ia;return function(t,
D,A,x){function B(c,b,d){var k=G(c);if(!(O.hasOwnProperty(k)&&b&&d&&d.paramString))return!1;H.add(function(){x({type:k,item:b,index:b.index,paramString:d.paramString,suffix:d.suffix||""})});return!0}function T(c,b){function d(b){return v.reduce(w,function(c,d){b&&d.type!==b||c.push(d.received);return c},[])}var t=K(c),x=b.overrideParams?K(b.overrideParams):t,w=[];if(b.full){if(p===t&&!b.isRetry)return;p=t}return U({params:c,headers:k(b),memo:{paramString:x,suffix:b.suffix||"",prefetchAtf:b.prefetchAtf,
isPagination:b.isPagination,isRefinement:b.isRefinement,prefetchOrigin:b.prefetchOrigin,navigationState:b.navigationState,asinIdToMetadata:b.asinIdToMetadata},success:function(){H.add(function(){D({paramString:x,requestStatus:F.REQUESTED,suffix:b.suffix||"",requestStartTime:b.requestStartTime,chunks:{getTimestamps:d,firstChunkReceivedTime:w[0]&&w[0].received},full:b.full,fallbackUrl:b.fallbackUrl,singleProductDisplay:b.singleProductDisplay,doNotFailOnEmptyChunk:b.doNotFailOnEmptyChunk})})},chunk:function(b){var c=
v.now();B.apply(null,arguments)&&w.push({type:G(b),received:c})},error:function(c,k,p,v){H.add(function(){var c=["s-web-data-store AJAX request error",k,p,t].join(", ");u.ue&&(u.ue.count("s-web-data-store AJAX request error",1),u.ue.count(c,1));A({paramString:t,fallbackUrl:b.fallbackUrl,requestStartTime:b.requestStartTime,chunks:{getTimestamps:d,firstChunkReceivedTime:w[0]&&w[0].received},full:b.full,requestType:v})})}},b.full)}var p,U=c(t.ajax);(function(){N();t.on(C.CLIENT_SIDE_METRICS_INFO,function(c){B(C.CLIENT_SIDE_METRICS_INFO,
c.data,c.memo)})})();return{ITEM_TYPES:C,request:function(c,b){b=R({full:!1,suffix:"",overrideParams:null,requestStartTime:v.now(),isPagination:!1,isRefinement:!1,navigationState:null},b);L(b.assetMismatch)&&(b.assetMismatch="ALLOW");S(b.fallbackUrl)&&(b.fallbackUrl="");return T(c,b)},pause:d,start:N}}})});
/* ******** */
(function(h){var u=window.AmazonUIPageJS||window.P,q=u._namespace||u.attributeErrors,f=q?q("SearchAssets@carousels",""):u;f.guardFatal?f.guardFatal(h)(f,window):f.execute(function(){h(f,window)})})(function(h,u,q){h.when("a-carousel-framework").register("s-carousel-searchgrid-common",function(f){return{recalculateHeight:function(e){var d;e&&(e.jquery||e instanceof Element)?(d=f.getCarousel(e))?(e=d.getAttr("pageSize"),d.setAttr("pageSize",e+1),d.setAttr("pageSize",e)):h.log("'recalculateHeight' was called on an element that was not an AUI carousel/was not yet intializedas an AUI carousel",
"WARN","s-carousel-searchgrid-common"):h.log("'recalculateHeight' can only function on a jQuery object or a DOM element","WARN","s-carousel-searchgrid-common")}}});"use strict";h.when("A","rush-framework","rush-util","a-carousel-framework","a-carousel-constants","s-is-mobile","s-tag-utils","s-asin-actions","s-actions","s-carousel-searchgrid-common").register("s-searchgrid-carousel",function(f,e,d,l,h,p,n,c,a,b){function k(k){var a=k.getAttr(h.PAGE_NUMBER),b=k.getAttr(h.TOTAL_PAGES),g=k.dom.$container.find(".a-carousel-goto-prevpage");
k=k.dom.$container.find(".a-carousel-goto-nextpage");g.toggleClass("aok-hidden",1===a);k.toggleClass("aok-hidden",a===b)}function w(a){!0!==x[a]&&(x[a]=!0,l.onInit(a,function(g){k(g);f.on("a:carousel:"+a+":change:pageNumber",function(a){k(a.carousel);n.recordIfNewRequestID("carouselButton")});f.on("a:carousel:"+a+":change:pageSize",function(a){k(a.carousel)});g.dom.$carousel.bind(c.IN_CART_BADGE_SHOWN,function(){g.dom.$carousel.find(".s-hidden-badge-spacing").removeClass("aok-hidden");b.recalculateHeight(g.dom.$carousel)});
p||n.recordIfNewRequestID("carouselExists")}))}function y(a){if(a!==q&&0===a.indexOf("sg-col-"))return a}function g(a){var k=a.attr("data-uuid");k===q&&(k=m(),a.attr("data-uuid",k));return k}function t(k,b){function w(){e.removeClass("s-color-swatch-interactive");d.find(".a-spinner-wrapper").remove();d.find(".interactive-wrapper").contents().unwrap()}var d=v(k),c=g(d),e=d.find(".sg-col-inner"),f=d.find(".s-product-header"),m=b.on(a.LOAD_SEARCH_PAGE+":"+c,function(){e.addClass("s-color-swatch-interactive");
d.wrapInner('\x3cdiv class\x3d"interactive-wrapper aok-relative"\x3e\x3c/div\x3e');d.find(".interactive-wrapper").prepend('\x3cdiv class\x3d"a-spinner-wrapper s-color-swatch-spinner"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium"\x3e\x3c/span\x3e\x3c/div\x3e')});u.addEventListener("pagehide",w);var x=b.on(a.RESULT_ITEM_READY+":"+c,function(a){a=v("\x3cdiv\x3e").html(a.item.html);var c=a.find(".s-result-item,.s-inner-result-item"),e=g(c);a.find("span.celwidget").contents().unwrap();c.removeAttr("data-component-type");
a.find(".sg-col-inner").prepend(f);a.find(".s-grid-status-badge-container-dark, .puis-status-badge-elevated-grid-dark-background").remove();var c=a.children(),h=d.find(".s-height-equalized"),l=h.css("padding-top"),p=h.outerHeight(),h=c.find(".s-height-equalized");h.css("padding-top",l);h.height(p);c=a.children();h=d.attr("class").split(" ").find(y);l=c.attr("class").split(" ").find(y);h!==q&&l!==q&&(c.removeClass(l),c.addClass(h));b.replace(k,a.html());m();u.removeEventListener("pagehide",w);x();
t(v(b.elem()).find(".s-result-item[data-uuid\x3d"+e+"]")[0],b)})}var v=f.$,x={},m=function(){var a=0;return function(){return"s-searchgrid-carousel:"+a++}}();e.registerComponent("s-searchgrid-carousel","s-searchgrid-carousel",function(a){var k=v(a.elem()),b=k.find(".a-carousel-container"),g=a.prop("name"),k=k.find(".s-result-item,.s-inner-result-item");d.isBlank(g)?a.log.error("Search Grid Carousel requires a non-empty name in rush componentProps. Can not initialize carousel."):(w(g),b.hasClass("a-carousel-initialized")||
(b.addClass("a-carousel-static"),l.createAll(),l.initializeAll()),f.each(k,function(k){t(k,a)}))})});"use strict";h.when("A","a-carousel-framework","a-carousel-constants","ready").register("s-carousel-searchgrid",function(f,e,d){function h(a,b,k){a=0;if(0<k)for(;-.5<b;)a++,b-=k;0>b&&a--;return f.isFiniteNumber(a)&&0<a?a:1}function r(a){a.onChange(d.PAGE_NUMBER,function(){a.getAttr(d.HIDE_OFF_SCREEN)&&a.dom.$carousel.children("li").css("visibility","")});a.onChange(d.ANIMATING,function(b){var k,w;
!b&&a.getAttr(d.HIDE_OFF_SCREEN)&&(k=a.getAttr(d.FIRST_VISIBLE_ITEM)-1,w=k+a.getAttr(d.PAGE_SIZE)-1,a.dom.$carousel.children("li").each(function(a,b){a=a>=k&&a<=w;c(b).css("visibility",a?"":"hidden")}))})}function p(a,b,k){var c=a.getAttr(d.TOTAL_PAGES),e=a.getAttr(d.PAGE_NUMBER),g=a.getAttr(d.FIRST_VISIBLE_ITEM),t=a.getAttr(d.HIDE_OFF_SCREEN),v=a.dom.$carousel.children("li");b=h(a,b,k);var f=(e-1)*b+1,m,p;a.setAttr(d.PAGE_SIZE,b);e>c?(g=(c-1)*b+1,a.setAttr(d.PAGE_NUMBER,c),a.setAttr(d.FIRST_VISIBLE_ITEM,
g)):g!==f&&(c=Math.ceil(g/b),g=(c-1)*b+1,a.setAttr(d.PAGE_NUMBER,c),a.setAttr(d.FIRST_VISIBLE_ITEM,g));m=g-1;p=m+b-1;v.each(function(a,b){b.style.visibility=!t||a>=m&&a<=p?"":"hidden";b.style.width=k+"px"});return g}function n(a){var b=a.getDimensions().viewport.width,k=a.dom.$carousel.children("li").get(0).getBoundingClientRect(),k=k.width?k.width:k.right-k.left,c=p(a,b,k),e;e=a.dom.$carousel;var g=e.children("li"),t=g.length,v=a.getAttr(d.PAGE_SIZE),f=a.getAttr(d.SET_SIZE),g=g.first().outerWidth(!0),
b=v>=f?b:t*g;e.css("width",b+"px");b={carousel:{width:b,outerWidth:e.outerWidth()},items:[]};for(e=0;e<t;e++)b.items.push({width:k,outerWidth:g});a.updateDimensionsCache(b);a.gotoIndex(c,{animationDuration:0,ignorePause:!0});a.triggerEvent("repaint")}var c=f.$;return{repaint:n,init:function(a){var b=a.getAttr(d.FIRST_VISIBLE_ITEM);a.setAttr(d.MIN_GUTTER,0);a.setAttr("currentGutter",0);n(a);1<b&&(b=Math.ceil(b/a.getAttr(d.PAGE_SIZE)),a.gotoPage(b));r(a)},resize:function(a,b){b.viewport&&b.viewport.width!==
q&&n(a)}}});h.when("A","a-carousel-framework","s-carousel-searchgrid").execute("s-register-search-grid-strategy",function(f,e,d){e.registerStrategy("display","searchgrid",d)});"use strict";h.when("jQuery","a-carousel-framework","a-carousel-constants","ready").register("s-carousel-searchgridvariablewidth",function(f,e,d){function h(a){a=a.getBoundingClientRect();return a.width?a.width:a.right-a.left}function r(a){var b=[],c,g;a.each(function(a,k){c=h(k);g=f(k).outerWidth(!0);b.push({width:c,outerWidth:g})});
return b}function p(a){var b=a.dom.$carousel.children("li"),c=a.getDimensions().viewport.width,g=0,d=[],e,f,m=b.size();a=a.getAttr("substractGotoPageButtonWidth")?a.getAttr("substractGotoPageButtonWidth"):0;var p=c-a;for(e=0;e<m;e++)f=h(b.get(e)),-.5<p-f?(g++,p-=f):(0===g&&(g=1),d.push(g),g=1,p=c-f-a-a);if(0<g){g=0;m=b.size()-1;e=h(b.get(m));for(c=c-a-a;0<=m&&-.5<c-e;)m--,g++,c-=e,0<=m&&(e=h(b.get(m)));0<g&&d.push(g)}return d}function n(a){var b=p(a),c=[],e=1,d=a.dom.$carousel.children("li").length,
f;b.map(function(a,k){for(f=0;f<a&&e<=d;f++)c[e]=k+1,e++});return c}function c(a){a.onChange(d.PAGE_NUMBER,function(){a.getAttr(d.HIDE_OFF_SCREEN)&&a.dom.$carousel.children("li").css("visibility","")});a.onChange(d.ANIMATING,function(b){var c,e;!b&&a.getAttr(d.HIDE_OFF_SCREEN)&&(c=a.getAttr(d.FIRST_VISIBLE_ITEM)-1,e=c+a.getAttr(d.PAGE_SIZE)-1,a.dom.$carousel.children("li").each(function(a,b){a=a>=c&&a<=e;f(b).css("visibility",a?"":"hidden")}))})}function a(a,b,c){var e=a.getAttr(d.TOTAL_PAGES),f=
a.getAttr(d.PAGE_NUMBER);b=a.getAttr(d.FIRST_VISIBLE_ITEM);var h=a.getAttr(d.HIDE_OFF_SCREEN),l=a.dom.$carousel.children("li"),m=p(a)[f-1],n=(f-1)*m+1,r,q;a.setAttr(d.PAGE_SIZE,m);f>e?(b=(e-1)*m+1,a.setAttr(d.PAGE_NUMBER,e),a.setAttr(d.FIRST_VISIBLE_ITEM,b)):b!==n&&(e=Math.ceil(b/m),b=(e-1)*m+1,a.setAttr(d.PAGE_NUMBER,e),a.setAttr(d.FIRST_VISIBLE_ITEM,b));r=b-1;q=r+m-1;l.each(function(a,b){b.style.visibility=!h||a>=r&&a<=q?"":"hidden";b.style.width=c[a]+"px"});return b}function b(b){var c=b.getDimensions().viewport.width,
e=b.dom.$carousel.children("li"),e=r(e),e=a(b,c,e),g,f;g=b.dom.$carousel;var h=g.children("li"),l=h.length,m=b.getAttr(d.PAGE_SIZE),q=b.getAttr(d.SET_SIZE),u=r(h);if(!(m>=q))for(f in c=0,r(h))c+=f.outerWidth;f=c;g.css("width",f+"px");g={carousel:{width:f,outerWidth:g.outerWidth()},items:[]};for(f=0;f<l;f++)g.items.push({width:u[f].width,outerWidth:u[f].outerWidth});b.updateDimensionsCache(g);b.setAttr("itemsPerPage",p(b));b.setAttr("pageForItemMap",n(b));b.gotoIndex(e,{animationDuration:0,ignorePause:!0});
b.triggerEvent("repaint")}return{repaint:b,init:function(a){var e=a.getAttr(d.FIRST_VISIBLE_ITEM);a.setAttr(d.MIN_GUTTER,0);a.setAttr("currentGutter",0);b(a);1<e&&(e=Math.ceil(e/a.getAttr(d.PAGE_SIZE)),a.gotoPage(e));c(a)},resize:function(a,c){c.viewport&&c.viewport.width!==q&&b(a)}}});h.when("jQuery","a-carousel-framework","s-carousel-searchgridvariablewidth").execute("s-register-search-grid-variable-width-strategy",function(f,e,d){e.registerStrategy("display","searchgridvariablewidth",d)});"use strict";
h.when("A","a-carousel-constants","a-carousel-utils","a-carousel-transition-slide").register("s-carousel-searchgrid-transition",function(f,e,d,h){function r(c,a,b,k){b?(c.setAttr(e.CURRENTLY_WRAPPING,!0),a.callback=b,a.easingFunction=a.easingFunction||c.getAttr(e.WRAP_EASING),a.animationSpeed=1.3*(f.isFiniteNumber(a.animationSpeed)?a.animationSpeed:c.getAttr(e.ANIMATION_SPEED))):a.callback=k}function p(c,a){(a.animationDuration===q||0<a.animationDuration)&&!a.silent&&c.setAttr(e.ANIMATING,!0)}function n(c,
a){var b=c.getAttr(e.TOTAL_PAGES),k=c.getAttr(e.PAGE_NUMBER),d=c.getAttr(e.PAGE_SIZE),f=c.getAttr(e.SET_SIZE),g=Math.ceil(a/d);a===f-d+1&&g!==k&&(g=b);g!==k&&0<g&&g<=b&&c.setAttr(e.PAGE_NUMBER,g)}d=f.copy(h);d.gotoPage=function(c,a,b){var d=c.getAttr(e.TOTAL_PAGES),f=c.getAttr(e.CIRCULAR),h=c.getAttr(e.PAGE_SIZE),g=c.getAttr(e.SET_SIZE),t=h*(a-1)+1;b=b||{};p(c,b);0<a&&a<=d&&c.setAttr(e.PAGE_NUMBER,a);!f&&1>a?(a=1,b.animationDuration=NaN):!f&&a>d&&(a=d,b.animationDuration=Math.pow(c.getAttr(e.ANIMATION_SPEED),
c.getAttr(e.SPRINGINESS)));a===d&&(t=Math.min(t,g-h+1));this.gotoIndex(c,t,b)};d.gotoIndex=function(c,a,b){var d,f,h,g,t,l;b=b||{};p(c,b);d=c.getAttr(e.CIRCULAR)&&!c.getAttr(e.CURRENTLY_WRAPPING);f=b.callback;h=this;g=null;t=c.getViewportWidth();n(c,a);c.setAttr(e.FIRST_VISIBLE_ITEM,a);1>a?d&&(g=-t,l=function(){f&&f();h.wrapToLast(c)}):a>c.getAttr(e.SET_SIZE)?d&&(g=c.getAttr(e.CURRENT_PIXEL)+t,l=function(){f&&f();h.wrapToFirst(c)}):g=c.getItemOffset(a);r(c,b,l,f);null!==g&&this.gotoPixel(c,g,b)};
return d});h.when("A","a-carousel-framework","s-carousel-searchgrid-transition").execute("s-register-search-grid-transition-strategy",function(f,e,d){e.registerStrategy("transition","s-carousel-searchgrid",d)});"use strict";h.when("A","a-carousel-constants","a-carousel-utils","a-carousel-transition-slide").register("s-carousel-searchgridvariablewidth-transition",function(f,e,d,h){function r(a,b,c,d){c?(a.setAttr(e.CURRENTLY_WRAPPING,!0),b.callback=c,b.easingFunction=b.easingFunction||a.getAttr(e.WRAP_EASING),
b.animationSpeed=1.3*(f.isFiniteNumber(b.animationSpeed)?b.animationSpeed:a.getAttr(e.ANIMATION_SPEED))):b.callback=d}function p(a,b){(b.animationDuration===q||0<b.animationDuration)&&!b.silent&&a.setAttr(e.ANIMATING,!0)}function n(a,b){var c=a.getAttr("pageForItemMap")[b],e;e=a.getAttr("substractGotoPageButtonWidth")?a.getAttr("substractGotoPageButtonWidth"):0;return 1!==c?a.getItemOffset(b)-e:a.getItemOffset(b)}function c(a,b){var c=a.getAttr("itemsPerPage"),d=c.length,f=a.getAttr(e.PAGE_NUMBER),
g=a.getAttr(e.SET_SIZE),h=a.getAttr("pageForItemMap")[b];b===g-c[c.length-1]+1&&h!==f&&(h=d);h!==f&&0<h&&h<=d&&a.setAttr(e.PAGE_NUMBER,h)}d=f.copy(h);d.gotoPage=function(a,b,c){var d=a.getAttr("itemsPerPage"),f,g,h,l,n,m;a.setAttr(e.PAGE_SIZE,d[b-1]);a.setAttr(e.TOTAL_PAGES,d.length);f=d.length;g=a.getAttr(e.CIRCULAR);h=d[b-1];l=a.getAttr(e.SET_SIZE);n=1;for(m=0;m<b-1;m++)n+=d[m];c=c||{};p(a,c);0<b&&b<=f&&a.setAttr(e.PAGE_NUMBER,b);!g&&1>b?(b=1,c.animationDuration=NaN):!g&&b>f&&(b=f,c.animationDuration=
Math.pow(a.getAttr(e.ANIMATION_SPEED),a.getAttr(e.SPRINGINESS)));b===f&&(n=Math.min(n,l-h+1));this.gotoIndex(a,n,c)};d.gotoIndex=function(a,b,d){var f,h,g,l,q,u;d=d||{};p(a,d);f=a.getAttr(e.CIRCULAR)&&!a.getAttr(e.CURRENTLY_WRAPPING);h=d.callback;g=this;l=null;q=a.getViewportWidth();c(a,b);a.setAttr(e.FIRST_VISIBLE_ITEM,b);1>b?f&&(l=-q,u=function(){h&&h();g.wrapToLast(a)}):b>a.getAttr(e.SET_SIZE)?f&&(l=a.getAttr(e.CURRENT_PIXEL)+q,u=function(){h&&h();g.wrapToFirst(a)}):l=n(a,b);r(a,d,u,h);null!==
l&&this.gotoPixel(a,l,d)};return d});h.when("A","a-carousel-framework","s-carousel-searchgridvariablewidth-transition").execute("s-register-search-grid-variable-width-transition-strategy",function(f,e,d){e.registerStrategy("transition","s-carousel-searchgridvariablewidth",d)});"use strict";h.when("A","a-carousel-transition-slide","rush-util","s-is-mobile","a-carousel-framework","a-carousel-constants").register("s-carousel-searchgrid-transition-circular-strategy",function(f,e,d,h,r,p){var n=f.extend({},
e);n.gotoPage=function(c,a,b){var d=c.getAttr(p.TOTAL_PAGES),d=a%d-1;e.gotoPage(c,a,b);h&&c.dots!==q&&0<c.dots.length&&(c.dots.removeClass("a-selected"),c.dots.eq(d).addClass("a-selected"))};n.init=function(c){function a(){c.autoRotateEnabled&&c.gotoNextPage()}function b(){c.autoRotateEnabled=!0}function k(){null!==c.autoRotateRestartTimeoutHandler&&(clearTimeout(c.autoRotateRestartTimeoutHandler),c.autoRotateRestartTimeoutHandler=null);c.autoRotateEnabled=!1}function p(){c.autoRotateRestartTimeoutHandler=
f.delay(b,4E3)}var n=c.getAttr("name"),g="."+c.getAttr("wrapperClass"),q=!0===c.getAttr("disableCarouselDotRotation");d.isBlank(n)?c.log.error("Carousel requires non-empty 'name' attribute in carousel options. Can not initialize carousel."):h&&!q&&d.isBlank(g)?c.log.error("Carousel on mobile requires non-empty 'wrapperClass' attribute in carousel options with dot rotation enabled. Can not initialize carousel."):(c.autoRotateEnabled=!1,c.autoRotateRestartTimeoutHandler=null,c.intervalHandler=null,
q||(c.dots=c.dom.$container.closest(g).find("ul.a-pagination \x3e li")),f.declarative("herorotator-"+n,"mouseenter touchstart",k),f.declarative("herorotator-"+n,"mouseleave touchend",p),b(c),c.intervalHandler=f.interval(a,4E3),c.dom.$container.attr("data-initialized",""),e.init(c))};r.registerStrategy("transition","s-carousel-searchgrid-circular",n)});h.when("A","s-layout-helper").register("s-carousel-searchgrid-item-normalization",function(f,e){return{normalizeSearchCarouselAsinHeaders:function(d){var l=
{};d?0<d.length&&(f.each(d,function(d,e){l[e]=[d]}),e.normalizeHeightsWithMargin(l,".s-card-container")):h.log("normalizeSearchCarouselAsinHeaders called with an invalid parameter: "+d,"WARN","s-layout-helper")}}})});
/* ******** */
(function(f){var m=window.AmazonUIPageJS||window.P,u=m._namespace||m.attributeErrors,b=u?u("SearchAssets@components",""):m;b.guardFatal?b.guardFatal(f)(b,window):b.execute(function(){f(b,window)})})(function(f,m,u){f.when("A","rush-framework","a-modal").register("s-black-curtain",function(b,p,g){p.registerComponent("s-black-curtain","s-black-curtain",function(e){e=e.elem();e=b.$(e);var a=e.find(".s-black-curtain-modal-content");e.removeClass("aok-hidden");g.get(a).show();e.addClass("aok-hidden")})});
f.when("A","rush-framework").register("s-event-counter",function(b,p){var g=m.ue&&m.ue.count;g&&p.registerComponent("s-event-counter","s-event-counter",function(e){function a(){var b=c,a=g(b)||0;g(b,a+1)}var d=e.prop("eventName"),c=e.prop("counterName");d&&c&&(b.on(d,a),e.teardown=function(){b.off(d,a)})})});f.when("A","jQuery","rush-framework","amzn-safe-frame-viewability","s-add-to-cart-controller","s-hidden-content-actions","s-web-application-controller","s-actions").register("s-hidden-content",
function(b,p,g,e,a,d,c,h){var y=a.ACTIONS,l=e.geom;g.registerComponent("s-hidden-content","s-hidden-content",function(a){function e(a){var c;b.show(a);c=a.offset().top;b.hide(a);return c}function g(a){var c;b.show(a);c=a.height();b.hide(a);return c}function f(a){var b;a.removeClass("aok-hidden");b=a.get(0);b=l(b);b=100*(b&&b.self&&b.self.iv||0)>=H;a.addClass("aok-hidden");return b}function w(){m=!0}function z(){var b=e(k),c=H/100;k.find(".s-related-products-replace").length||(m?d.triggers.hide(q,
r,I):(d.triggers.markShown(q),f(k)?d.triggers.showFirst(r,E):p("html, body").animate({scrollTop:b-u*c},I,function(){p("html, body").stop();d.triggers.showFirst(r,E)}),k.find(".hidden-divider").first().prependTo(k.parents(".s-hidden-content-wrapper").first()),a.trigger(M,{showingUuid:r})))}function J(a){a.showingUuid!==r&&F&&b.fadeOut(k,a.time,"ease-out",function(){k.addClass("aok-hidden");F=!1;d.triggers.show(q,a.showingUuid,a.time)})}function A(a){a.showingUuid===r&&b.slideDown(k,a.time,"ease-out")}
function K(a){a.showingUuid===r&&0===k.find(".s-related-products-replace").length&&b.fadeIn(k,E,"ease-out",function(){k.removeClass("aok-hidden");F=!0})}function G(a){if(a&&a.item&&a.item.asin&&a.item.html){var b=".s-related-products-replace-"+a.item.asin,c=k.find(b).first();c.removeClass(b);c.html(a.item.html);c.removeClass("s-related-products-replace");c.addClass("s-related-products-loaded");z()}}function t(a){a.showingUuid!==r&&k.find(".hidden-divider").first().remove()}var B=p(a.elem()),k=B.find(".s-revealable-content"),
q=a.prop("widget"),n="#"+q,r=a.prop("uuid"),C=a.prop("event"),M=q+":remove-dividers",F=!1,m=!1,u,I=parseInt(a.prop("anime-time-fast"),10),E=parseInt(a.prop("anime-time-slow"),10),H=parseInt(a.prop("percent-to-scroll"),10);(function(){return a.util.isBlank(C)?(a.log.error(Error("Missing required component property: event")),!1):a.util.isBlank(q)?(a.log.error(Error("Missing required component property: widget")),!1):a.util.isBlank(r)?(a.log.error(Error("Missing required component property: uuid")),
!1):!0})()&&function(){u=g(k);a.util.isNumber(I)||(I=600);a.util.isNumber(E)||(E=1200);a.util.isNumber(H)||(H=25);a.on(d.listeners.markShown(q),w);a.on(d.listeners.slideAndFade(r),A);a.on(d.listeners.slideAndFade(r),K);a.on(d.listeners.fade(q),K);a.on(d.listeners.hide(q),J);a.on(M,t);if("submit"===C)a.on(y.ADD_TO_CART_SUBMIT_SUCCESS,function(b){b.asin!==a.prop("asin")||!b.form.parents(n).length||F||B.parents(".s-hidden-content-wrapper").first().has(b.form).length||z()});a.on(h.RESULT_ITEM_READY+":"+
r,G);if("submit"===C)a.on(y.ADD_TO_CART_SUBMIT_START,function(b){b.asin!==a.prop("asin")||!b.form.parents(n).length||F||B.parents(".s-hidden-content-wrapper").first().has(b.form).length||(b=k.find(".s-hidden-content-carousel").first().attr("data-related-ajaxUrl"))&&k.find(".s-related-products-replace").length&&!k.find(".s-related-products-loaded").length&&c.requestPartialContent(b,{suffix:":"+r})})}()})});"use strict";f.when("A","3p-promise","rush-framework","amzn-safe-frame-viewability","s-delayed-queue-controller",
"s-url-parameters","s-web-application-controller").register("s-impression-logger",function(b,f,g,e,a,d,c){function h(c){a.add(function(){b.ajax(c,{method:"get"})})}function y(c,d){a.add(function(){b.ajax(c,{method:"post",accepts:"application/json",contentType:"application/json",paramsFormat:"json",params:{events:d}})})}function l(a,b){this.endpoint=a;this.flushCallback=b;this.items=[];this.timeout=null}function L(){var a=this;this.batches={};b.$(m).bind("beforeunload",function(){b.each(a.batches,
function(a){a.flush()})})}var D={leading:!1},v=e.geom,x;l.prototype.add=function(a){var b=this;this.items.push({url:a,params:d.parseQueryString(a)});15<=this.items.length&&this.flush();this.timeout||(this.timeout=setTimeout(function(){b.flush()},250))};l.prototype.flush=function(){/unagi-\w\w.amazon.com\/1\/events\/com.amazon.eel.SponsoredProductsEventTracking.(prod|gamma)/.test(this.endpoint)?y(this.endpoint,b.map(this.items,function(a){return{data:a.params}})):1===this.items.length?h(this.items[0].url):
h(this.endpoint+"?params\x3d"+JSON.stringify(b.map(this.items,function(a){return a.params})));clearTimeout(this.timeout);this.timeout=null;this.flushCallback()};L.prototype.log=function(a,b){var c=this,d;b?(d=a.split("?")[0],this.batches[d]||(this.batches[d]=new l(d,function(){delete c.batches[d]})),this.batches[d].add(a)):h(a)};x=new L;g.registerComponent("s-impression-logger","s-impression-logger",function(a){function d(){b.off("afterReady",n);b.off("scroll",n);b.off("resize",n);b.off("orientationchange",
n);b.each(p,function(a){a&&a()})}function l(){k||d()}var h=a.elem(),e=a.prop("url"),y=a.prop("batchable")||!1,g=a.prop("requiredElementSelector"),f=parseInt(a.prop("percentageShownToFire"),10)||0,k=!1,p=[],n;if(e)return n=b.throttle(function(){var a;if(a=!k)a=v(h),a=100*(a&&a.self&&a.self.iv||0)>=f;a&&(g?(a=b.$(h).find(g),a=0===a.length?!1:!(a.is(":hidden")||"hidden"===a.css("visibility"))):a=!0);a&&(k=!0,x.log(e,y),l())},250,D),b.on("afterReady",n),b.on("scroll",n),b.on("resize",n),b.on("orientationchange",
n),p.push(a.on(c.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,n)),{teardown:l}})});"use strict";f.when("jQuery","rush-framework").register("s-impression-counter",function(b,f){function g(a){var d=a.elem(),c=a.prop("presenceCounterName"),h=a.prop("hiddenCounterName");if((a=a.prop("testElementSelector"))&&(c||h)){d=b(d).find(a);a=0<d.length;if(c){var y=a?1:0,l=e(c)||0;e(c,l+y)}a&&h&&(c=d.is(":visible")?0:1,d=e(h)||0,e(h,d+c))}}var e=m.ue&&m.ue.count;e&&f.registerComponent("s-impression-counter","s-impression-counter",
g)});f.when("A").register("s-layout-helper",function(b){function p(a,d){return b.reduce(a,function(a,b){var e=b.offsetTop;d&&(e=parseInt(b.style.marginTop.replace("px",""),10)||0,e=b.offsetTop-e);return Math.max(e,a)},0)}function g(a,d,c,h){var g=[];b.each(a,function(a){a=h?e(a).find(d).not(d+" "+d).get():e(a).find(d).get();var f=p(a,c);b.each(a,function(a){var b={};b.item=a;b.height=f-a.offsetTop;g.push(b)})});return g}var e=b.$;return{normalizeHeights:function(a,d){a?(a=g(a,d,!1,!1),b.each(a,function(a){a.item.style.setProperty("padding-top",
a.height+"px","important")})):f.log("normalizeHeights called with an invalid parameter: "+a,"WARN","s-layout-helper")},normalizeHeightsWithMargin:function(a,d){a?(a=g(a,d,!0,!0),b.each(a,function(a){var b=parseInt(a.item.style.marginTop.replace("px",""),10)||0;a.item.style.setProperty("margin-top",a.height+b+"px","important")})):f.log("normalizeHeightsWithMargin called with an invalid parameter: "+a,"WARN","s-layout-helper")},groupElementsByTopValue:function(a){return b.reduce(a,function(a,b){var e=
b.offsetTop;a[e]=(a[e]||[]).concat(b);return a},{})}}});"use strict";f.when("A","rush-framework","rush-dom").register("s-messaging-widget-results-header",function(b,f,g){function e(a){var b=a.closest(".s-widget");a.each(function(a,b){g.remove(b)});b.remove()}var a=b.$;f.registerComponent("s-messaging-widget-results-header","s-messaging-widget-results-header",function(b){b=a(b.elem());var c,h;for(c=b.closest(".s-widget").next();0<c.find(".s-messaging-widget-results-header").length;)h=c,c=c.next(),
g.remove(h[0]);(c=a(b).closest(".s-widget"))?(c=c.prevAll().not(".aok-hidden"),c=0<c.length&&a(c[0]).hasClass("s-asin")):c=void 0;if(!c)a:{for(c=b.closest(".s-widget").next();0<c.length;){if(!c.is(":hidden")){c=c.hasClass("s-widget")||c.hasClass("celwidget");break a}c=c.next()}c=!1}if(!c){var f;a:{var l;h=-1;l=b.closest(".s-widget");if(0===l.length)f=!1;else{c=l.offset().top;l=l.next();do{if(!l.length){f=!1;break a}l.is(":hidden")||(f=l,h=a(f).offset().top);l=l.next()}while(h<c);f=a(f).hasClass("s-asin")}}c=
!f}c&&e(b)})});f.when("A","rush-framework","s-web-application-controller","s-component-utils","amzn-safe-frame-viewability","s-prefetch-origins","s-csm-utils","s-pagination-selectors").register("s-pagination",function(b,p,g,e,a,d,c,h){function y(b){b=a.geom(b);return 0<(b&&b.self&&b.self.iv||0)}function l(a){f.when("s-device-context","mash").execute("s-mash-guard",function(b,c){b.APP&&a(c)})}var m=b.$,D=g.ACTIONS,v=c.count,x=c.getPageSuffix,w=c.getRequestScopedCsmOptions,z=0;p.registerComponent("s-pagination",
"s-pagination",function(a){function c(){var a,b;q&&!n&&(a=(new Date).getTime()-q,b=w(),v("NextButtonClicked",a,b),v("NextButtonClicked"+x(),a,b),n=!0)}function p(){var a=w();v("BackButtonClicked",1,a);v("BackButtonClicked"+x(),1,a)}function u(){var a,b;!q&&y(k[0])&&(q=(new Date).getTime(),a=w(),v("NextButtonVisible",1,a),v("NextButtonVisible"+x(),1,a),f.now("s-optimized-pagination-config").execute(function(c){c&&0>=c.prefetchTargetIndex&&(b=k.find(h.NEXT_PAGE_ANCHOR_SELECTOR_WITHIN_CONTAINER),1===
b.length&&(g.prefetchAtf(b[0].search,d.PAGINATION),v("PrefetchPagination",1,a),v("loadToPaginationVisible",q-z,a)))}))}function t(){var a;0<b.$(h.VISIBLE_NEXT_PAGE_ANCHOR_SELECTOR).length&&(a=w(),v("NextButtonInitialized",1,a),v("NextButtonInitialized"+x(),1,a));k&&(k.undelegate(h.INDEXED_NEXT_PAGE_ANCHOR_SELECTOR,"click",c),k.undelegate(h.NEXT_PAGE_ANCHOR_SELECTOR,"click",c),k.undelegate(h.PREVIOUS_PAGE_ANCHOR_SELECTOR,"click",p));k=m(h.PAGINATION_CONTAINER_SELECTOR);k.delegate(h.INDEXED_NEXT_PAGE_ANCHOR_SELECTOR,
"click",c);k.delegate(h.NEXT_PAGE_ANCHOR_SELECTOR,"click",c);k.delegate(h.PREVIOUS_PAGE_ANCHOR_SELECTOR,"click",p);q=0;z=(new Date).getTime();n=!1;u()}var B=m(a.elem()),k,q,n=!1;t();b.on(b.constants.BROWSER_EVENTS.SCROLL,u);a.on(D.LOAD_SEARCH_PAGE,e.remove(a),{hide:!0});a.on(D.PAGINATION_LINK_COMPLETE,e.replace(a));a.on(D.LOAD_SEARCH_PAGE_COMPLETE,t);l(function(a){B.delegate(h.PREVIOUS_PAGE_ANCHOR_SELECTOR,"click",function(b){m.isFunction(a.goBack)&&(b.stopPropagation(),b.preventDefault(),a.goBack())})});
g.recordInitializedSlotComponent("s-pagination")})});f.register("s-pagination-selectors",function(){return{PAGINATION_CONTAINER_SELECTOR:"[cel_widget_id^\x3dMAIN-PAGINATION] .s-pagination-container",PREVIOUS_PAGE_ANCHOR_SELECTOR:"a.s-pagination-previous",NEXT_PAGE_ANCHOR_SELECTOR:"a.s-pagination-next",INDEXED_NEXT_PAGE_ANCHOR_SELECTOR:".s-pagination-selected + a",NEXT_PAGE_ANCHOR_SELECTOR_WITHIN_CONTAINER:"a.s-pagination-next",VISIBLE_NEXT_PAGE_ANCHOR_SELECTOR:"a.s-pagination-next:visible"}});f.when("rush-framework").register("s-remove-on-init",
function(b){b.registerComponent("s-remove-on-init","s-remove-on-init",function(b){b.remove(b.elem())})});"use strict";f.when("A","R","rush-logger").register("s-result-sort",function(b,f,g){b.on("a:dropdown:s-result-sort-select:select",function(b){var a=b.nativeItemNode;(a=a&&a.getAttribute("data-url"))?f.to({url:a}):g.error(Error("Could not find sort URL in option with value: "+(b&&b.value)),"Could not find sort URL in option with value: "+(b&&b.value),"s-result-sort")})});"use strict";f.when("A",
"a-modal","rush-framework","amzn-safe-frame-manager","amzn-safe-frame-host","amzn-safe-frame-constants").register("s-safe-modal",function(b,p,g,e,a,d){var c=d.EVENTS,h={},m={};g.registerComponent("s-safe-modal","s-safe-modal",function(l){function g(a){a?(b.show(q),b.hide(n)):(b.hide(q),b.show(n))}function u(b){b=k.replace(K,b);t.setAttribute(d.DATA_SRCDOC_ATTR_NAME,b);a.reloadFrame(t);x?a.enableAutoResize(t):a.disableAutoResize(t);g(!1)}function v(b){(x=!1!==b)?a.enableAutoResize(t):a.disableAutoResize(t)}
var x=!0,w=l.prop("frameId"),z=b.$(l.elem()),J=document.createElement("div"),A=l.prop("popoverName"),K=l.prop("html"),G=l.prop("contentUnavailableText"),t=e.getFrame(w),B=z.find(d.FRAME_CONTAINER_SELECTOR),k=t.getAttribute(d.DATA_SRCDOC_ATTR_NAME),q=z.find(".s-safe-modal-spinner"),n=z.find(".s-safe-modal-content"),r=p.create(J,{name:A,header:"\x26nbsp;",popoverLabel:A,hideHeader:!1,dataStrategy:"preload"}),C=b.throttle(function(){r.isActive()&&r.updatePosition()},250);l={frameId:w,frame:t,popoverName:A,
triggerElem:J,modal:r,setUrl:function(a){g(!0);C();b.ajax(a,{method:"get",success:function(a){u(a||G)},error:function(){u(G)}})},setContents:u,setWidth:function(a){if(a=parseInt(a,10))e.setFrameWidth(w,a),b.trigger(d.EVENTS.SET_WIDTH,w,{value:a})},setAttribution:function(a){t.setAttribute(d.ATTRIBUTION_ATTR,a)},setAutoResize:v,contentUnavailableText:G};b.$(t).load(function(){x?a.enableAutoResize(t):(a.disableAutoResize(t),C())});b.on("a:popover:afterHide:"+A,b.debounce(function(){u("");v(!0);r.attrs("header",
"\x26nbsp;");g(!0);a.disableAutoResize(t)},500,!0));b.on(c.SET_HEIGHT,function(a,b){b.value&&w===a&&C()});b.on(c.SET_WIDTH,function(a,b){(b=b.value)&&w===a&&(B.width(b),C())});b.on(c.COLLAPSE,function(a){w===a&&(r.hide(),b.show(B))});h[A]=l;m[w]=l;"s-safe-modal-singleton"===A&&f.declare("s-safe-modal-singleton",l)});return{getByName:function(a){return h.hasOwnProperty(a)?h[a]:u},getByFrameId:function(a){return m.hasOwnProperty(a)?m[a]:u},whenSingleton:function(a){f.when("s-safe-modal-singleton").execute(a)}}});
f.declare("s-skyscraper-slot","The s-skyscraper-slot page slot is deprecated.")});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("SearchAssets@configs",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.declare("s-device-os-value","UNRECOGNIZED");b.when("s-device-env").register("s-device-context",function(a){a=(a||"").toUpperCase();return{APP:"APP"===a,WEB:"WEB"===a}});b.when("s-device-os-value").register("s-device-os",function(a){a=a||"UNRECOGNIZED";return{IOS:"IOS"===a,ANDROID:"ANDROID"===
a,UNRECOGNIZED:"UNRECOGNIZED"===a}});b.declare("s-is-mobile",!1)});
/* ******** */
(function(e){var f=window.AmazonUIPageJS||window.P,r=f._namespace||f.attributeErrors,c=r?r("SearchAssets@controllers",""):f;c.guardFatal?c.guardFatal(e)(c,window):c.execute(function(){e(c,window)})})(function(e,f,r){e.when("A","amzn-safe-frame-host","amzn-safe-frame-constants","amzn-safe-frame-manager","s-safe-modal").register("s-ad-feedback-controller",function(c,a,h,f,k){function l(d,b){var m,c=b.length;if(d){for(;c--;)if(m=b[c],!d.hasOwnProperty(m))return!1;return!0}return!1}function b(d,b){var m=
0<c.trim(b||"").length;m&&(d.attrs("header",b),d.attrs("popoverLabel",b));d.attrs("hideHeader",!m)}function m(d,m,h,f){return function(a){a.preventDefault();k.whenSingleton(function(a){var g=a.modal,e=a.contentUnavailableText;a.setAttribution(h+":ad-feedback");a.setWidth(f);b(g,d);c.ajax(m,{method:"get",success:function(d){a.setContents(d||e);g.show()},error:function(){a.setContents(e);g.show()}})})}}function d(d,b){var a=f.getFrame(d),g=a&&a.getAttribute(h.ATTRIBUTION_ATTR),p;if(g){b.adPlacementMetaData.feedbackType=
"loomSearch";try{p=JSON.stringify(b)}catch(k){e.log("Error serializing placementData for frameId "+d,"ERROR","s-ad-feedback-controller")}p&&c.ajax("/af/feedback-link",{method:"get",params:{ie:"UTF-8",pl:p},success:function(b){if(l(b,t))if("ok"!==b.status)e.log("Ad Feedback API response had status \x3d\x3d\x3d "+b.status,"ERROR",g);else{var a=b.feedbackLinkText,c=b.feedbackFormModalHeaderText,p=b.feedbackFormModalUrl,k=b.feedbackFormModalWidth;b=b.feedbackLinkAccessibilityText;a=q(document.createElement("a")).addClass("s-ad-feedback-link").text(a).attr("href",
"#");b&&a.attr("aria-hidden","false").attr("aria-label",b);a.click(m(c,p,g,k));c=f.getFrame(d);q(c).closest(h.FRAME_CONTAINER_SELECTOR).find(h.FRAME_FOOTER_SELECTOR).empty().append(a)}else e.log("Ad Feedback API response was invalid.","ERROR",g)},error:function(b,d,a){e.log("Error during Ad Feedback API request; status: "+d+", err: "+a,"ERROR",g)},abort:function(){e.log("Ad Feedback API request was aborted.","WARN",g)}})}else e.log("No attribution string present for frameId "+d+" with placementData "+
JSON.stringify(b),"ERROR","s-ad-feedback-controller")}function p(b,a){a=a.data;l(a,n)&&d(b,a)}function g(b,d){(d=q(d).closest(h.FRAME_CONTAINER_SELECTOR).find(h.FRAME_FOOTER_SELECTOR).data("eventData"))&&p(b,d)}var q=c.$,n=["adPlacementMetaData","adCreativeMetaData"],t=["status","feedbackFormModalUrl","feedbackFormModalHeaderText","feedbackFormModalWidth","feedbackLinkText"];c.on(h.EVENTS.SHOW_FOOTER,p);f.eachFrame(g);return{generateLinkIfFooterVisible:g}});"use strict";e.when("A","s-simple-queue",
"s-web-application-controller").register("s-delayed-queue-controller",function(c,a,h){function e(b){m.add(b)}function k(){m.start()}function l(){m.pause()}var b=c.$(f),m=new a;return h.attachController("s-delayed-queue",function(d){d.on(h.ACTIONS.LOAD_SEARCH_PAGE_STARTING,l);d.on(h.ACTIONS.LOAD_SEARCH_PAGE,l);c.on("afterLoad",k);d.on(h.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,k);b.bind("beforeunload",k);return{add:e,start:k,pause:l}})});"use strict";e.when("A","amzn-safe-frame-host","s-web-application-controller").register("s-safe-frame-controller",
function(c,a,h){return h.attachController("s-safe-frame-controller",function(f){f.on(h.ACTIONS.LOAD_SEARCH_PAGE,function(){a.initSafeFrameHost()});f.on(h.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,function(){a.broadcastEvent("cf",{});a.broadcastEvent("atf",{});a.broadcastEvent("load",{})});e.when("cf").execute("s-safe-frame-controller-cf",function(){a.broadcastEvent("cf",{})});e.when("af").execute("s-safe-frame-controller-atf",function(){a.broadcastEvent("atf",{})});c.on.load(function(){a.broadcastEvent("cf",
{});a.broadcastEvent("atf",{});a.broadcastEvent("load",{})})})});"use strict";e.when("R","s-web-application-controller","rush-util","rush-router-url-parser").register("s-redirect-controller",function(c,a,e,u){return a.attachController("s-redirect-controller",function(c){c.on(a.ACTIONS.REDIRECT_READY,function(a){a=a&&a.item&&a.item.redirectUrl;e.isBlank(a)?c.log.fatal(Error("page redirects must always have a URL")):(a=u.parse(a).href,f.history.replaceState(f.history.state||{},document.title,a),f.location.reload(!0))})})});
"use strict";e.when("jQuery","s-web-application-controller").register("s-scroll-controller",function(c,a){function e(a){(a&&a.data||{}).isProgressiveScroll||c("html,body").scrollTop(-100)}return a.attachController("s-scroll-controller",function(c){c.on(a.ACTIONS.LOAD_SEARCH_PAGE,e)})});e.when("jQuery","s-web-application-controller").register("s-title-and-meta-controller",function(c,a){var e;return a.attachController("s-title-and-meta-controller",function(f){function k(a,d,e){var g=e.find('meta[name\x3d"'+
d+'"]');b(a[d])?g.length?g.attr("content",a[d]):e.append(c("\x3cmeta\x3e").attr({name:d,content:a[d]})):g.remove()}function l(a,d,e){var g=e.find('link[rel\x3d"'+d+'"]');b(a[d])?g.length?g.attr("href",a[d]):e.append(c("\x3clink\x3e").attr({rel:d,href:a[d]})):g.remove()}var b=f.util.isNotBlank;e={title:function(a,b){document.title=a[b]||""},description:k,keywords:k,canonical:l,prev:l,next:l,noindex:function(a,b,e){var c=e.find('meta[name\x3d"robots"]');!0===a[b]?c.length?c.attr("content","noindex"):
e.append('\x3cmeta name\x3d"robots" content\x3d"noindex"\x3e'):c.remove()}};f.on(a.ACTIONS.TITLE_AND_META_READY,function(a){var b=a&&a.item,f=c("head");b&&c.each(e,function(a,c){c(b,a,f)})})})});"use strict";e.when("A","a-modal","s-search-ajax-controller").execute(function(c,a,h){function r(b){c.on("a:popover:afterHide:"+b,function(){a.remove(b)})}function k(a,c,d){function k(a){a&&a.response&&(f.ue&&f.ue.count&&f.ue.count("adFeedback:desktop:multiAsinAF:success",1),c.update(a.response))}function g(a){var b=
"Retry Attempt: "+l+". Error while fetching feedback form: "+a;a="Feedback Form get failed with error: "+a;l++;3>=l?(f.ue&&f.ue.count&&f.ue.count("adFeedback:desktop:multiAsinAF:retry",1),e.log(b,"ERROR","adFeedback:desktop:multiAsinAF"),h("af/multi-creative/feedback-form",n).then(k,g)):(f.ue&&f.ue.count&&f.ue.count("adFeedback:desktop:multiAsinAF:error",1),e.log(a,"ERROR","adFeedback:desktop:multiAsinAF"),c.update("\x3cb\x3e"+d+"\x3c/b\x3e"))}var l=0,n={method:"post",contentType:"application/json; charset\x3dutf-8",
paramsFormat:"json",params:{pl:JSON.stringify(a)}};h("af/multi-creative/feedback-form",n).then(k,g)}var l=c.$;c.declarative("multi-ad-feedback-form-trigger","click",function(b){var c,d,h=b&&b.data&&b.data.multiAdfFormLoadErrorText,g=b&&b.data&&b.data.multiAdfModalHeader,q=Math.random().toString(16).substr(2),n=b&&b.$event;try{c=JSON.parse(b&&b.data&&b.data.multiAdfPayload)}catch(t){e.log("Error parsing payload information: "+t,"ERROR","adFeedback:desktop:multiAsinAF");return}try{d=c.adPlacementMetaData.slotName}catch(t){e.log("Error getting slotName information: "+
t,"ERROR","adFeedback:desktop:multiAsinAF")}b="multi_af_modal_"+d+q;d="multi-af-modal-"+d+q;n&&c&&b&&(c.feedbackFormContainerId=b,n.stopPropagation&&n.stopPropagation(),n=l('\x3cdiv a-popover-id\x3d"'+b+'" /\x3e'),g=a.create(n,{name:b,header:g,content:'\x3cdiv class\x3d"'+d+'" style\x3d"width: 100%; height: 100%; position: relative;"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium" style\x3d"position: relative; left: 40%;top: 40%;"\x3e\x3c/span\x3e\x3c/div\x3e'}),g.show(),k(c,g,h),f.ue&&f.ue.count&&
f.ue.count("adFeedback:desktop:multiAsinAF:formDisplayed",1),r(b))})})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("SearchAssets@debug",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("rush-framework","s-actions","s-component-utils").register("s-debug-views-atf",function(a,b,c){a.registerComponent("s-debug-views-atf","s-debug-views-atf",function(a){a.on(b.DEBUG_VIEWS_ATF,c.append(a))})})});
/* ******** */
(function(e){var g=window.AmazonUIPageJS||window.P,m=g._namespace||g.attributeErrors,b=m?m("SearchAssets@declaratives",""):g;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,g,m){e.when("A","R").execute("s-mobile-link-declarative-action",function(b,n){function a(a){n.to({url:a})}var d,h=["watch.amazon.","app.primevideo."],k=/[?&]ru=([^&]*)/,f=[["/detail","aiv://aiv/view"],["/watch","aiv://aiv/play"],["/home","aiv://aiv/home"]],m=b.capabilities.ios;d=a;e.when("mash",
"rush-logger").execute("s-mobile-link-mash-launchIntentURL",function(l,b){function e(c){l.openInExternalBrowser({url:c,failCallback:function(a){b.error(a,"MASH Open in external browser for "+c+" failed","s-mobile-link")}})}function n(c){var a=new XMLHttpRequest;a.onreadystatechange=function(){};a.open("GET",c,!0);a.send()}function p(c){var a;if(!c.includes("/gp/video/ssoredirect"))return c;0===c.indexOf("http://")||0===c.indexOf("https://")?n(c):(a=g.location,n(a.protocol+"//"+a.host+"/"+c));return(a=
k.exec(c))?decodeURIComponent(a[1]):c}function q(a){var b,l,d;for(l=0;l<h.length;l+=1)for(d=0;d<f.length;d+=1)b="https://"+h[l]+"[^/]+"+f[d][0],a=a.replace(new RegExp(b),f[d][1]);return a}d=function(c,d){var b;"true"===d&&-1===c.indexOf("/music/")?(c=b=p(c),m&&(c=q(c)),l.launchIntentURL({url:c,failCallback:function(){e(b)}})):a(c)}});b.declarative("s-link","click",function(a){var b=a&&a.$event||{};a=a&&a.data;b.stopPropagation&&b.stopPropagation();b.preventDefault&&b.preventDefault();a&&a.url&&d(a.url,
a.isIntentURL)})});"use strict";e.when("A","jQuery","ready").execute("s-filters-declarative-action",function(b,e){b.declarative("s-nav-ref-image-layout-hover","mouseenter mouseleave",function(a){var b=a&&a.data,h=e(":first-child",a&&a.$currentTarget),k=null,f=null;a=a||{};"mouseenter"===a.type?(k=b.hoverOffsetX,f=b.hoverOffsetY):"mouseleave"===a.type&&(k=b.offsetX,f=b.offsetY);null!==k&&h.css("background-position",[k,"px ",f,"px"].join(""))})});e.when("A","s-navigate-utils","rush-metrics-adapter").execute("s-suggest-lop-web-declarative-module",
function(b,e,a){b.declarative("s-suggest-lop-web-declarative","click",function(d){function h(){e.navigatePage(g)}function k(){a.setCount("s-web-aapi.i18n-preferences.set-language.fails","s-web-aapi",1,{wb:1});a.publish("s-web-aapi.i18n-preferences.set-language.fails","s-web-aapi",{wb:1})}function f(e){var f=d.data.postUrl,g={language:d.data.LOP},h={Accept:'application/vnd.com.amazon.api+json; type\x3d"customer.i18n-preferences.set-language/v1"',"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"customer.i18n-preferences.set-language.request/v1"',
"x-api-csrf-token":d.data.token};a.setCount("s-web-aapi.i18n-preferences.set-language.times","s-web-aapi",1,{wb:1});a.publish("s-web-aapi.i18n-preferences.set-language.times","s-web-aapi",{wb:1});b.$.ajax({url:f,type:"POST",headers:h,xhrFields:{withCredentials:!0},data:JSON.stringify(g),error:k,complete:e})}var g=d.data.navigateToUrl;"true"!==d.data.isRecognized?h():f(h)})})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("SearchAssets@filters",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("rush-framework","s-web-application-controller","s-component-utils","jQuery").register("s-filters-panel-view",function(a,c,e,g){function d(){var a=!1;b.now("s-ajax-customer-action-flagging-enabled").execute(function(b){a=!!b});return a}var f=c.ACTIONS;a.registerComponent("s-filters-panel-view",
"s-filters-panel-view",function(a){var b=e.remove(a);a.on(f.LOAD_SEARCH_PAGE,function(c){c&&!0===c.isPagination&&d()?g(a.elem()).find(".s-left-ads-item").each(function(){a.remove(this)}):b()});a.on(f.FILTERS_PANEL_VIEW_READY,e.append(a))})});"use strict";b.when("jQuery","R","ready").register("s-filters-controller",function(a,b){a(document).delegate(".s-navigation-checkbox","click",function(c){var d=a(c.currentTarget).closest("a").attr("href");d&&"#"!==d&&(c.preventDefault(),b.to({url:d}))})})});
/* ******** */
(function(b){var a=window.AmazonUIPageJS||window.P,d=a._namespace||a.attributeErrors,c=d?d("SearchAssets@guardRails",""):a;c.guardFatal?c.guardFatal(b)(c,window):c.execute(function(){b(c,window)})})(function(b,a,d){b.when("jQuery","s-actions","s-web-application-controller").execute("s-skyscraper-counter",function(c,b,d){var e=a.ue&&a.ue.count;e&&d.attachController("s-skyscraper-counter",function(a){a.on(b.LOAD_SEARCH_PAGE_COMPLETE,function(){var a=e("maxSkyscrapers")||0,b=c(".s-left-ads-item").length;
e("maxSkyscrapers",Math.max(a,b))})})})});
/* ******** */
(function(a){var f=window.AmazonUIPageJS||window.P,g=f._namespace||f.attributeErrors,b=g?g("SearchAssets@kitchenSink",""):f;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,f,g){"use strict";a.when("A","R","s-url-parameters","s-clean-url","GLUXWidget","s-glux-widget-refresh").register("s-glux-widget-refresh-page",function(b,a,c){function d(b){var a=c.parseQueryString(b),d=parseInt(c.getParamValue(a,"refresh"),10);d||(d=0);c.setParamValue(a,"ref","glow_cls");c.removeParamValue(a,
"page");c.removeParamValue(a,"spIA");c.setParamValue(a,"refresh",d+1);return b.replace(/[?](.*)/i,"?"+c.paramsToString(a,!0))}b.on("packard:glow:destinationChangeAll",function(){var b=d(f.location.href);a.to({url:b})});return{replaceUrl:d}});a.declare("s-startup-dom-scan-disabled",!1);a.when("rush-framework","rush-metrics-adapter","s-startup-dom-scan-disabled","ready").execute("s-start-scanner",function(b,e,c){!0!==c&&(e.setTimer("bb","s-startup-component-scan",{wb:1}),e.setTimer("cf","s-startup-component-scan",
{wb:1}),b.turnOnAutoScanner(),a.declare("s-startup-dom-scan-complete",!0),e.publish("ld","s-startup-component-scan",{wb:1}),a.when("s-ads-metrics-utils").execute("s-collect-init-page-ads-metrics",function(b){var a=document.getElementById("search");a&&b.record(a.innerHTML)}))});"use strict";a.when("s-clean-url","rush-logger").execute("s-clean-url-replace",function(b,e){var c=/[&|?]c=ts/;try{b&&f.history&&history.replaceState&&(b&&b.match(c)||history.replaceState(history.state,"cleanUrl",b)),a.declare("s-start-application")}catch(d){e.error(d,
"Replacing history state with "+b+" failed","s-clean-url-replace")}});"use strict";a.when("rush-util").register("s-max-widget-index-main-slot",function(a){var e=a.assert,c=a.isNumber,d=0;return{recordMax:function(a){a=parseInt(a,10);e(c(a),"`index` must be a number");a>d&&(d=a)},getMax:function(){return d},reset:function(){d=0}}});a.when("s-metadata").register("s-search-metadata",function(b){function e(b){c=b;a.when("mash").execute("s-set-search-context",function(a){a&&a.dispatchEvent&&a.dispatchEvent({type:"com.amazon.search.mash.searchContext",
detail:c})})}var c;e(b);return{get:function(){return c},set:e}});"use strict";a.declare("s-request-status-constants",{REQUESTED:"requested",CACHED:"cached"});a.declare("s-slots",["s-pagination","s-search-results"])});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SearchAssets@loadingSpinner",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(d){var h=window.AmazonUIPageJS||window.P,k=h._namespace||h.attributeErrors,e=k?k("SearchAssets@navbar",""):h;e.guardFatal?e.guardFatal(d)(e,window):e.execute(function(){d(e,window)})})(function(d,h,k){d.when("A","R","s-web-application-controller","s-navbar-proxy","rush-util","s-search-ajax-checker","rush-metrics-adapter","s-url-parameters").register("s-navbar-controller",function(e,b,l,c,g,x,r,k){function a(a,f,b){g.assert(g.isNotBlank(a),"must provide a non-empty attribution string");g.assert(g.isFunction(f),
"must provide a callback function");return function(){try{return f.apply(b,arguments)}catch(c){d.log(c&&c.message||"Unknown error in callback.","FATAL",a)}}}function w(){var a=e.trim(c.getUrl()||"");return g.isBlank(a)?null:l.SEARCH_PATH+"?"+a}function y(a){var f=w(),c,e,d;if(null!==f){d=l.getPrefetchAtfContext(f);if(e=null!==d)c=k.parseQueryString(f),r.setCount("nav-prefetch-suggestion-click","nav-ajax",c.hasOwnProperty("crid")?1:0);c=x.enabled();r.setCount("nav-ajax-usage","nav-ajax",c?1:0);d=e?
"nav-prefetch-hit."+d.prefetchOrigin:"nav-prefetch-hit.search-bar.none";r.setCount(d,"nav-ajax",1);c||e?b.to({url:f}):h.location=f;a.preventDefault()}}function m(){var a=l.getCurrentKeywords();c.setKeywords(a)}function n(b,f,d){c.onKeydown(a(b,f,d))}function p(b,f,d){c.onKeyup(a(b,f,d))}function q(b,f,d){c.onSubmit(a(b,f,d))}return l.attachController("s-navbar-controller",function(a){q("s-navbar-controller",y);a.on(l.ACTIONS.LOAD_SEARCH_PAGE_STARTING,m);m();return{getKeywords:function(a){return c.getKeywords(a)},
getUrl:function(){return c.getUrl()},generateSearchUrl:w,onKeyup:p,onKeydown:n,onSubmit:q}})});d.when("A","search-js-autocomplete","s-web-application-controller","s-url-parameters").register("s-navbar-proxy",function(e,b,l,c){function g(a){return e.trim(a||"").replace(t," ")}var h=e.$,k=/ref=([\w\-]+)/,t=/\s+/g;return{getUrl:function(){var a,e,g,m,n;try{a=c.parseQueryString(h("#navbar .nav-searchbar").serialize());e=b.searchAlias&&b.searchAlias();g=b.merchant&&b.merchant();var p=l.getSearchMetadata()||
{},q=p.ladderMap||{},u=p.browseLadder,f;m=!e&&b.searchNode&&(f=b.searchNode())?q[f]||"n:"+f:u&&g?u:void 0;var v=(h("#navbar .nav-searchbar").attr("action")||"").match(k);n=v?v[1]:void 0;g&&c.setParamValue(a,"me",g);e&&c.setParamValue(a,"i",e);m&&c.setParamValue(a,"rh",decodeURIComponent(m));n&&c.setParamValue(a,"ref",n);return c.paramsToString(a,!0)}catch(t){d.log(t,"Failed to build a Search URL from the Navbar.","ERROR","s-navbar-proxy")}},setKeywords:function(a){function c(){return g(a)}b.keyword&&
b.keyword(c)},setSearchScoping:function(){},onKeydown:function(a){b.keydown&&b.keydown(a)},onKeyup:function(a){b.keyup&&b.keyup(a)},getKeywords:function(a){return b.keyword?!0===a?g(b.keyword()):b.keyword():""},onSubmit:function(a){h.isFunction(a)&&b.submit&&b.submit(a)}}});d.register("s-search-ajax-checker",function(){return{enabled:function(){return!1}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SearchAssets@pageTags",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SearchAssets@polyfills",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(d){var k=window.AmazonUIPageJS||window.P,h=k._namespace||k.attributeErrors,a=h?h("SearchAssets@progressiveScroll",""):k;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,k,h){d.when("A","R","rush-framework","s-web-application-controller","s-component-utils","amzn-safe-frame-viewability","s-progressive-scroll-position","s-progressive-scroll-request-param","s-prefetch-origins","s-csm-utils").register("s-infinite-scroll",function(a,D,b,e,d,f,K,t,h,r){function m(a){p("s-ps-error",
(p("s-ps-error")||0)+1);k.ueLogError&&k.ueLogError(Error(a),{message:a,logLevel:"ERROR",attribution:"s-infinite-scroll"})}var x=e.ACTIONS,u=a.$,p=r.count,E=r.getRequestScopedCsmOptions,v=r.getPageSuffix;b.registerComponent("s-infinite-scroll","s-infinite-scroll",function(b){function e(){var a=f.geom(h[0]),b;if(b=l)b=a&&a.self&&a.self.t&&a.win&&a.win.b&&a.win.h?a.self.t<a.win.b+1*a.win.h:!1;b&&(l(),b=a.win.sy+a.self.t,a=a.win.h-1*a.win.h,K.record({clientTop:a,windowScrollY:b-a}),D.to({url:t.toUrl(r),
history:!1},{isProgressiveScroll:!0,isProgressiveScrollRetry:!1}))}function c(){var c=b.on(x.LOAD_SEARCH_PAGE_COMPLETE,e);a.on(a.constants.BROWSER_EVENTS.SCROLL,e);return function(){c();a.off(a.constants.BROWSER_EVENTS.SCROLL,e)}}function k(){b.util.hide(F);b.util.hide(n);b.util.show(q.find(".s-progressive-scroll-spinner"))}function d(a){var c=h.closest(".s-result-item"),e=c.hasClass("aok-hidden");a.isError?(b.util.hide(q.find(".s-progressive-scroll-spinner")),b.util.show(n)):(b.util.hide(n),e&&c.each(function(a,
c){b.remove(c)}))}var q=u(b.elem()),g=q.find(".s-progressive-scroll-declarative"),h=g.children(),r=(h.data("sProgressiveScrollLink")||{}).url,F=q.find(".s-progressive-scroll-see-more-results"),n=q.find(".s-progressive-scroll-try-again"),l;g.length?h.length?b.util.isBlank(r)?m("Progressive Scroll next page URL was either missing or blank"):n.length?(l=c(),b.teardown=function(){l&&l()},b.on(x.LOAD_SEARCH_PAGE,k),b.on(x.PROGRESSIVE_SCROLL_COMPLETE,d),g=E(),p("MoreResultsButtonInitialized",1,g),p("MoreResultsButtonInitialized"+
v(),1,g)):m("Progressive Scroll Try again button is missing"):m("Did not find the expected pagination container element"):m("Did not find the expected nested declarative element")})});d.when("A","R","Rush","rush-framework","s-web-application-controller","s-component-utils","amzn-safe-frame-viewability","s-progressive-scroll-position","s-progressive-scroll-util","s-progressive-scroll-request-param","s-csm-utils","rush-metrics-adapter").register("s-infinite-scroll-defer-latency",function(a,D,b,e,g,
f,d,t,I,r,m,x){function u(a){v("s-ps-error",(v("s-ps-error")||0)+1);k.ueLogError&&k.ueLogError(Error(a),{message:a,logLevel:"ERROR",attribution:"s-infinite-scroll-defer-latency"})}var p=g.ACTIONS,E=a.$,v=m.count,L=m.getRequestScopedCsmOptions,M=m.getPageSuffix;e.registerComponent("s-infinite-scroll-defer-latency","s-infinite-scroll-defer-latency",function(c){function e(){var a,g;G&&B&&y&&(a=B+Math.max(0,G-y),g=Math.min(B,y),c.trigger(b.metrics.EVENTS.TIME_CLICKED,{timeOverride:g}),c.trigger(b.metrics.EVENTS.ABOVE_THE_FOLD_COMPLETE,
{timeOverride:a}),c.trigger(b.metrics.EVENTS.FUNCTIONAL_COMPLETE,{timeOverride:a}),c.trigger(b.metrics.EVENTS.LOAD_COMPLETE),x.setCount("infinite-scroll-new-latency-metric",h,1),w.closest(".s-result-item").remove(),f.remove(c))}function g(a){G=a.timeOverride||(new Date).getTime();H&&H();e()}function q(){var a;if(C)y||(a=k.scrollY+(k.innerHeight||document.documentElement.clientHeight),a>=C&&(z&&z(),y=(new Date).getTime(),e()));else{a=d.geom(w[0]);var b;b=a&&a.self&&a.self.t&&a.win&&a.win.b&&a.win.h?
0>a.self.t?!1:a.self.t<a.win.b+1*a.win.h:!1;b&&(C=a.win.sy+a.self.t,a=a.win.h-1*a.win.h,t.record({clientTop:a,windowScrollY:C-a}),H=c.on(I.EVENTS.ABOVE_THE_FOLD_COMPLETE,g),D.to({url:r.toUrl(J),history:!1},{isProgressiveScroll:!0,isProgressiveScrollRetry:!1}))}}function m(){var b=c.on(p.LOAD_SEARCH_PAGE_COMPLETE,q);a.on(a.constants.BROWSER_EVENTS.SCROLL,q);return function(){b();a.off(a.constants.BROWSER_EVENTS.SCROLL,q)}}function N(){c.util.hide(Q);c.util.hide(A);c.util.show(n.find(".s-progressive-scroll-spinner"))}
function O(){B=(new Date).getTime()}function F(a){var b=w.closest(".s-result-item"),e=b.hasClass("aok-hidden");a.isError?(c.util.hide(n.find(".s-progressive-scroll-spinner")),c.util.show(A)):(c.util.hide(A),e&&b.each(function(a,b){c.remove(b)}))}var n=E(c.elem()),l=n.find(".s-progressive-scroll-declarative"),w=l.children(),J=(w.data("sProgressiveScrollLink")||{}).url,P=(w.data("sProgressiveScrollLink")||{}).deferLatencyMeasure,Q=n.find(".s-progressive-scroll-see-more-results"),A=n.find(".s-progressive-scroll-try-again"),
y,B,C,G,z,H;I.setDeferredLatencyMeasure(P);l.length?w.length?c.util.isBlank(J)?u("Progressive Scroll next page URL was either missing or blank"):A.length?(z=m(),c.teardown=function(){z&&z()},c.on(p.LOAD_SEARCH_PAGE,N),c.on(p.SEARCH_RESPONSE_STARTING,O),c.on(p.PROGRESSIVE_SCROLL_COMPLETE,F),l=L(),v("MoreResultsButtonInitialized",1,l),v("MoreResultsButtonInitialized"+M(),1,l)):u("Progressive Scroll Try again button is missing"):u("Did not find the expected pagination container element"):u("Did not find the expected nested declarative element")})});
d.when("s-url-parameters").register("s-progressive-scroll-util",function(a){var d=!1;return{EVENTS:{ABOVE_THE_FOLD_COMPLETE:"s-progressive-scroll-util:aboveTheFoldComplete"},isProgressiveScrollRequest:function(b){b=a.parseQueryString(b);return"1"===a.getParamValue(b,"pscroll")},useDeferredLatencyMeasure:function(){return d},setDeferredLatencyMeasure:function(a){d="true"===a}}});d.when("rush-router-url-parser","rush-util","s-url-parameters").register("s-progressive-scroll-request-param",function(a,
d,b){return{toUrl:function(e){var g;d.assert(d.isNotBlank(e),"`url` can not be blank");g=b.parseQueryString(e);e=a.parse(e);e.search="?"+b.paramsToString(g,!0);return a.toUrl(e)}}});d.when("A","R","s-progressive-scroll-request-param","s-progressive-scroll-position").execute(function(a,d,b,e){a.declarative("s-progressive-scroll-link","click",function(a){var f=a.$event,h,t=!1;f&&f.target&&f.currentTarget&&(h=f.target.parentNode.parentNode.className)&&h.includes("try-again")&&(t=!0);f&&f.currentTarget&&
f.currentTarget.parentNode&&e.record({clientTop:f.currentTarget.getBoundingClientRect().top,windowScrollY:k.scrollY});d.to({url:b.toUrl(a.data.url),history:!1},{isProgressiveScroll:!0,isProgressiveScrollRetry:t});f.preventDefault&&f.preventDefault();f.stopPropagation&&f.stopPropagation()})});d.register("s-progressive-scroll-position",function(){var a;return{record:function(d){a=d},get:function(){return a},clear:function(){a=h}}})});
/* ******** */
(function(b){var g=window.AmazonUIPageJS||window.P,e=g._namespace||g.attributeErrors,c=e?e("SearchAssets@resultsInfoBar",""):g;c.guardFatal?c.guardFatal(b)(c,window):c.execute(function(){b(c,window)})})(function(b,g,e){b.when("A","rush-framework","s-web-application-controller","s-device-context").register("s-result-info-bar",function(c,b,e,m){var k=c.$,v=e.ACTIONS,w={leading:!1};b.registerComponent("s-result-info-bar","s-result-info-bar",function(b){function e(){var a=n.find(".s-mobile-toolbar");
m.APP&&(d=a,l=d.outerHeight())}var p=b.elem(),q=k(p),d,n,l=0,f=!1,r=0,h="up",t=0,u;u=c.throttle(function(){var a=k(document).scrollTop(),b=k(document).height()-k(g).height(),a=a>b?b:a;a>r&&"down"!==h?(t=a,h="down"):a<r&&"up"!==h&&(t=a,h="up");a<l?f&&(d.removeClass("s-mobile-toolbar-offscreen"),f=!1):5<Math.abs(a-t)&&("up"===h?f&&(d.removeClass("s-mobile-toolbar-offscreen"),f=!1):f||(d.addClass("s-mobile-toolbar-offscreen"),f=!0));r=a},50,w);b.teardown=function(){c.off(c.constants.BROWSER_EVENTS.SCROLL,
u)};b.on(v.RESULT_INFO_BAR_READY,function(a){(a=a&&a.item&&a.item.html)?b.replaceInnerHTML(p,a):b.removeChildren(p);a=q.find(".s-mobile-toolbar");m.APP&&(d=a,l=d.outerHeight())});m.APP&&(d=q.find(".s-mobile-toolbar"),d.length||(b.on(v.LOAD_SEARCH_PAGE_COMPLETE,e),n=q.siblings("[data-component-type\x3d's-search-results']"),d=n.find(".s-mobile-toolbar")),l=d.outerHeight(),c.on(c.constants.BROWSER_EVENTS.SCROLL,u))})})});
/* ******** */
(function(f){var q=window.AmazonUIPageJS||window.P,l=q._namespace||q.attributeErrors,d=l?l("SearchAssets@searchResults",""):q;d.guardFatal?d.guardFatal(f)(d,window):d.execute(function(){f(d,window)})})(function(f,q,l){f.when("A","jQuery","rush-framework","s-component-utils","s-actions").register("s-search-result",function(d,f,r,v,a){r.registerComponent("s-search-result","s-search-result",function(c){var m=c.elem(),n=f(m),r=c.util.assert,l=c.util.isNotBlank,m=m.getAttribute("data-uuid"),y=n.find(".sg-col-inner"),
t=v.replace(c,{children:!1,empty:!0});try{r(l(m),"must have a non-empty `data-uuid` attribute")}catch(x){c.log.error(x,"failed component setup validation");return}c.on(a.LOAD_SEARCH_PAGE+":"+m,function(){y.addClass("s-color-swatch-interactive");n.wrapInner('\x3cdiv class\x3d"interactive-wrapper aok-relative"\x3e\x3c/div\x3e');n.find(".interactive-wrapper").prepend('\x3cdiv class\x3d"a-spinner-wrapper s-color-swatch-spinner"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium"\x3e\x3c/span\x3e\x3c/div\x3e')});
c.on(a.RESULT_ITEM_READY+":"+m,function(a){var e=a.item,c;var p=a.item.html,g=n.find(".s-height-equalized");0===g.length?c=p:(c=g.css("padding-top"),g=g.outerHeight(),p=f("\x3cdiv\x3e").html(p),p.find(".s-height-equalized").css("padding-top",c).height(g),c=p.html());e.html=c;t(a);d.trigger("a:image:lazyLoad")});q.addEventListener("pagehide",function(){y.removeClass("s-color-swatch-interactive");n.find(".a-spinner-wrapper").remove();n.find(".interactive-wrapper").contents().unwrap()})})});f.when("jQuery",
"rush-framework","s-web-application-controller","rush-util","A","s-scroll-watcher","s-layout-helper","s-prefetch-origins","s-pagination-selectors","s-search-results-actions","s-carousel-searchgrid-item-normalization").register("s-search-results",function(d,l,r,v,a,c,m,n,B,E,y){function t(a,c,d){var g="";if(d)try{g=" "+JSON.stringify(d)}catch(f){g=" Error serializing object: "+f.message}if(!a)throw Error(c+g);}var x=r.ACTIONS;l.registerComponent("s-search-results","s-search-results",function(e){function l(){var b=
q.ue,h;b&&b.tag&&(h=0<k.find("\x3e.s-result-item").filter('[data-asin\x3d""]').length,b.tag("hasInlineWidgets:"+(h?"true":"false")))}function p(){var b=q.ue,h;b&&b.tag&&(h=k.find('\x3e.s-result-item[data-asin!\x3d""]').filter(function(){var b=d(this);return b.is(":hidden")||0===b.css("opacity")||"hidden"===b.css("visibility")}),b.tag(h.length?"search_results:hidden:true":"search_results:hidden:false"))}function g(){k.find("\x3e.s-result-item").each(function(b,h){e.remove(h)})}function F(b){var h=
!1;k.find("\x3e.s-result-item").each(function(a,c){a=Number(d(c).data("index"));a=isNaN(a)?99:a;if(b.index<a)return e.insertBefore(c,b.html),h=!0,!1});!1===h&&e.append(k[0],b.html)}function G(){k.find(".s-prefetch-image").remove();g();w.find(".s-result-list-placeholder").removeClass("aok-hidden");z=null}function H(b){t(v.isObject(b),"payload must be an object");var a=b.item;t(v.isObject(a),"item must be an object",a);t(v.isNotBlank(a.html),"item.html must be a non-empty string",a);t(v.isNumber(a.index),
"item.index must be a number",a);F(b.item);u()}function C(){var b,h,e,g;f.now("s-optimized-pagination-config").execute(function(f){f&&0<f.prefetchTargetIndex&&a.delay(function(){e=k.find('\x3e.s-result-item[data-asin!\x3d""]').get();f.prefetchTargetIndex>e.length||(g=e[e.length-f.prefetchTargetIndex],b=d(B.PAGINATION_CONTAINER_SELECTOR),z=c(g,b[0],function(){h=b.find(B.NEXT_PAGE_ANCHOR_SELECTOR_WITHIN_CONTAINER);1===h.length&&r.prefetchAtf(h[0].search,n.PAGINATION)}))},0)})}function I(){w.find(".s-result-list-placeholder").addClass("aok-hidden");
p();A();u();C()}function D(){a.delay(function(){z&&z.handleScrollUpdate()},0)}function J(){A();u()}function K(){u()}function L(a){d(a.truncateContainer).parents(".s-searchgrid-carousel.s-carousel-normalize-asin-height").length&&u()}var w,k,z,A,u;A=a.throttle(function(){var a=k.find("\x3e.s-result-item"),a=m.groupElementsByTopValue(a.get());m.normalizeHeights(a,".s-height-equalized")},10);u=a.throttle(function(){var a=d(e.elem()).find(".s-searchgrid-carousel.s-carousel-normalize-asin-height");y.normalizeSearchCarouselAsinHeaders(a)},
10);(function(){w=d(e.elem());k=w.is(".s-main-slot.s-result-list")?w:w.find(".s-main-slot.s-result-list");t(1===k.length,"Could not find the result list [selector\x3d.s-main-slot.s-result-list].");l();p();e.on(x.LOAD_SEARCH_PAGE,G);e.on(x.RESULT_ITEM_READY,H);e.on(x.LOAD_SEARCH_PAGE_COMPLETE,I);e.on(E.ITEM_HEIGHT_CHANGED,J);a.on(a.constants.BROWSER_EVENTS.RESIZE,K);a.on("a:truncate:updated",L);A();u();C();a.on(a.constants.BROWSER_EVENTS.SCROLL,D);e.teardown=function(){a.off(a.constants.BROWSER_EVENTS.SCROLL,
D)};r.recordInitializedSlotComponent("s-search-results")})()})})});
/* ******** */
(function(h){var g=window.AmazonUIPageJS||window.P,n=g._namespace||g.attributeErrors,e=n?n("SearchAssets@utils",""):g;e.guardFatal?e.guardFatal(h)(e,window):e.execute(function(){h(e,window)})})(function(h,g,n){h.when("s-search-metadata").register("s-ads-metrics-utils",function(e){var f=[[/top-slot_hsa/g,"SponsoredBrandsTopSlotContentV2"],[/brand-footer-slot_hsa/g,"SponsoredBrandsFooterSlotContentV2"],[/skyscraper_adPlacements/g,"DisplayAdsSkyscraperSlotContentV2"],[/footer-slot_adPlacements/g,"DisplayAdsFooterSlotContentV2"]],
d=g.ue&&g.ue.count||function(){},b;b=function(){var a={},c=(e.get()||{}).rid;c&&(a.scope=c);return a}();return{record:function(a){var c=0,k,e;if(a)for(;c<f.length;c++)if(k=f[c][0],e=f[c][1],k=a.match(k))g.ue&&g.ue.tag&&g.ue.tag(e),d(e,(d(e,n,b)||0)+k.length,b)}}});h.when("jQuery").register("s-component-utils",function(e){function f(d,b){return d.is(b)?d:d.find(b)}return{remove:function(d,b){b=b||{};b.hide=!!b.hide;b.selector=b.selector||"";return function(){var a=d.elem(),c=e(a);b.selector&&(c=f(c,
b.selector),a=c[0]);a&&(d.removeChildren(a),b.hide&&c.addClass("aok-hidden"))}},append:function(d,b){b=b||{};b.selector=b.selector||"";return function(a){a=a&&a.item&&a.item.html||"";var c=d.elem(),k=e(c);d.util.isNotBlank(a)&&(b.selector&&(k=f(k,b.selector),c=k[0]),c&&(d.append(c,a),k.removeClass("aok-hidden")))}},replace:function(d,b){b=e.extend(!0,{empty:!1,selector:"",children:!0},b);return function(a){a=a&&a.item&&a.item.html||"";var c=d.elem(),k=e(c);b.selector&&(k=f(k,b.selector),c=k[0]);c&&
(d.util.isNotBlank(a)?b.children?(d.replaceInnerHTML(c,a),k.removeClass("aok-hidden")):d.replace(c,a):b.empty&&(b.children?d.removeChildren(c):d.remove(c)))}}}});h.when("s-search-metadata","rush-util").register("s-csm-utils",function(e,f){var d=f.isNotBlank,b=f.isNullOrUndefined;return{getRequestScopedCsmOptions:function(){var a={},c=(e.get()||{}).rid;c&&(a.scope=c);return a},getPageSuffix:function(){var a=(e.get()||{}).page;a||(a="1");return"Page"+a},getSourceTemplateName:function(a){var c,k;if(!b(a)&&
(a=a.closest("[cel_widget_id]"),!b(a)))for(a=a.attr("class")||"",a=a.split(" "),k=0;k<a.length;k++)if(c=(a[k]||"").split("\x3d"),c=1<c.length&&"template"===c[0]?c[1]:"",d(c))return c},incrementCount:function(a){var c;g.ue&&g.ue.count&&(c=g.ue.count(a)||0,g.ue.count(a,c+1))},count:g.ue&&g.ue.count||function(){}}});h.register("s-img-preloader",function(){var e=/[\r\n]+/g,f=/<img\s+[^>]+>/g,d=/srcset\s*=\s*['"]([^'"]+)['"]/i,b=/src\s*=\s*['"]([^'"]+)['"]/i;return function(a,c){var k=0,l,g=[],h=a.match(f);
if(!h)return g;for(;k<h.length;k++)l=h[k].replace(e," "),(a=l.match(d))?(l=new Image,l.srcset=a[1],g.push(l)):!(a=l.match(b))||c&&c(a[1])||(l=new Image,l.src=a[1],g.push(l));return g}});h.when("s-search-metadata","s-csm-utils").register("s-navigation-metrics",function(e,f){function d(d){d.state&&"hide"===d.state.action||(b=k(),a("NavigationButtonClicked",1,b),a("NavigationButtonClicked"+c(),1,b))}var b,a=f.count,c=f.getPageSuffix,k=f.getRequestScopedCsmOptions;h.when("load").execute("navigationMetricsBindPopStateChangeHandler",
function(){g.addEventListener("popstate",d)})});"use strict";h.when("jQuery").register("s-navigation-state-utils",function(e){return{getNavigationState:function(f){var d,b=null;h.now("sf-sheet-accordions").execute(function(a){a&&(d=a.getAccordionsState())&&!e.isEmptyObject(d)&&(b=b||{},b.accordionsState=d)});(f=f&&f.suppressedNavigationContentIds)&&Array.isArray(f)&&f.length&&(b=b||{},b.suppressedNavigationContentIds=f);return b}}});h.register("s-navigate-utils",function(){return{navigatePage:function(e){g.location.href=
e}}});h.when("rush-util","s-url-parameters","rush-router-url-parser").register("s-reftag-utils",function(e,f,d){function b(a,b){var d;if(e.isNullOrUndefined(a)||e.isNullOrUndefined(b))return!1;for(d=0;d<b.length;d++)if(-1<a.indexOf(b[d]))return!0;return!1}var a=/(\/|%2F|&|\?)(ref(_)?)(=|%3D)(\w*)(\?|%3F|&|$)/g;return{appendStringToReftag:function(c,d,f){var g=!1;return e.isNullOrUndefined(c)||e.isNullOrUndefined(d)?c:c.replace(a,function(a,c,e,v,t,r,u){a=d;b(r,[d])?a="":!g&&b(r,f)&&(a="",g=!0);return c+
e+t+r+a+u})},getAjaxUrlReftag:function(a){a=f.parseQueryString(a);return f.getParamValue(a,"ref")||""},replaceAjaxUrlReftag:function(a,b){var e=f.parseQueryString(a);f.setParamValue(e,"ref",b);return d.parse(a).pathname+"?"+f.paramsToString(e)}}});h.when("a-util","amzn-safe-frame-viewability","s-csm-utils").register("s-scroll-watcher",function(e,f,d){return function(b,a,c){function e(a){return(a=f.geom(a))&&a.self?0<(a.self.iv||0):!1}function g(){var d;null!==c&&null!==b&&(!h&&e(b)&&(h=(new Date).getTime(),
c(),d=q(),m("PrefetchByTarget",1,d),m("loadToTargetVisible",h-p,d)),!h&&e(a)&&(h=(new Date).getTime(),c(),m("PrefetchByFallbackTarget",1,d)))}var h=0,p=(new Date).getTime(),m=d.count,q=d.getRequestScopedCsmOptions;g();return{handleScrollUpdate:g}}});h.when("rush-util").register("s-search-requests-util",function(e){return{create:function(){var f=[];return{add:function(d){e.isNotBlank(d)&&f.push(d)},includes:function(d){return 0<=f.indexOf(d)}}}}});"use strict";h.register("s-search-scope-utils",function(){return{setSearchScope:function(){}}});
"use strict";h.when("A","rush-util","rush-router-url-parser","rush-router-pattern-parser").register("s-url-parameters",function(e,f,d,b){function a(a){var b;if(!q[a])for(b in m)if(m[b].test(a)){q[a]=b;break}return q[a]||a}function c(b,c){var d=[],e,f;for(e in b)if(f=a(e),c||!0!==p[f])null===b[e]?d.push(encodeURIComponent(f)):d.push(encodeURIComponent(f)+"\x3d"+encodeURIComponent(b[e]));return d.sort().join("\x26")}function k(a){a=(a||"").split("?");a=1<a.length?a.slice(1).join("?"):a[0];return b.parseQueryString(a)}
function g(b,c){var d;c=a(c);for(d in b)if(c===a(d)){d!==c&&delete b[d];delete b[c];break}}var h=f.isBlank,p={portalDebug:!0,qid:!0,rrid:!0,pf:!0},m={},q={};(function(){e.state.bind("s-url-parameters",function(a,b){e.each(a,function(a,c){!0===b[c]&&c&&a&&(m[c]=new RegExp("^("+a+")$"))})});e.each(e.state("s-url-parameters")||{},function(a,b){b&&a&&(m[b]=new RegExp("^("+a+")$"))})})();return{getCanonicalParamName:a,canonicalizeParams:function(b,c){var d={},e,f;for(e in b)if(f=a(e),c||!0!==p[f])d[f]=
b[e];return d},getParamValue:function(b,c){var d=b[c],e;if(d)return d;c=a(c);if(d=b[c])return d;for(e in b)if(c===a(e))return b[e]},setParamValue:function(b,c,d){var e;c=a(c);var f=!1;for(e in b)if(c===a(e)){f=!0;e!==c&&delete b[e];b[c]=d;break}f||(b[c]=d)},paramsToString:c,parseQueryString:k,addParamToUrl:function(a,b,e){var f;if(h(a)||h(b)||h(e))return a;f=k(a);f[b]=e;a=d.parse(a);a.search="?"+c(f,!0);return d.toUrl(a)},removeValueFromParamString:function(a,b){a=k(a);g(a,b);return c(a)},removeParamValue:g}});
"use strict";h.when("A","3p-promise").register("s-simple-queue",function(e,f){function d(a){return new f(function(b){b(a())})}function b(){this.items=[];this.running=!1}var a=e.$.isFunction,c=e.$.proxy;b.prototype.add=function(b){if(a(b))this.items.push(b),this.next();else throw Error("s-simple-queue: argument to add() is not a function.");};b.prototype.next=function(){var a,b;return!0===this.running&&0<this.items.length?(a=this.items.shift(),b=c(this.next,this),d(a).then(b,b)):f.resolve()};b.prototype.start=
function(){this.running=!0;return this.next()};b.prototype.pause=function(){this.running=!1};return b});"use strict";h.register("s-data-store-with-max-size",function(){return function(e){function f(a){return d.hasOwnProperty(a)?d[a]:null}var d={},b=[];return{get:f,add:function(a,c){var f;b.length>=e&&(f=b.shift(),delete d[f]);b.push(a);d[a]=c},remove:function(a){var c;c=f(a);null!==c&&(c=b.indexOf(c),-1!==c&&b.splice(c,1),delete d[a])}}}});h.register("s-tag-utils",function(){var e={};return{recordIfNewRequestID:function(f){g.ue&&
g.ue.tag&&g.ue.id!==e[f]&&(g.ue.tag(f,f),g.uex&&g.uex("ld",f,{wb:1}));e[f]=g.ue&&g.ue.id}}});h.when("jQuery").register("s-viewport-utils",function(e){return{inInitialViewport:function(f){var d,b,a;d=!1;var c=document.documentElement,h=document.body;b=g.scrollY||g.pageYOffset||c.scrollTop||h.scrollTop;a=g.scrollX||g.pageXOffset||c.scrollLeft||h.scrollLeft;var l=c.clientHeight,n=c.clientWidth,p=c.clientTop||h.clientTop||0,c=c.clientLeft||h.clientLeft||0;f=e(f);f[0].parentNode&&1<f.height()&&1<f.width()&&
(d=f[0].getBoundingClientRect(),b=d.top+b-p,a=d.left+a-c,d=b<=l&&a<=n);return d}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SearchAssets@verticalTabs",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(g){var f=window.AmazonUIPageJS||window.P,r=f._namespace||f.attributeErrors,v=r?r("AmazonSafeFrameHostJavaScript",""):f;v.guardFatal?v.guardFatal(g)(v,window):v.execute(function(){g(v,window)})})(function(g,f,r){(function(){function v(a,b,c){return Math.min(0<a?c-a:0<b?Math.min(b,c):0,b-a)}function A(a,b,c,e){e=Math.pow(10,e);return Math.round(Math.min(c,Math.max(b,a))*e)/e}function Z(){var a=["hidden","webkitHidden","mozHidden","msHidden","oHidden"],b=a.length,c;for(c=0;c<b;c++)if(a[c]in
document)return a[c]}function F(a){return"function"===typeof a}function G(){if(l){if(null!==document.body.getAttribute("abp")||null===l.offsetParent||0===l.offsetHeight||0===l.offsetLeft||0===l.offsetTop||0===l.offsetWidth||0===l.clientHeight||0===l.clientWidth)return!0;if(f.getComputedStyle!==r){var a=f.getComputedStyle(l,null);if(a&&("none"===a.getPropertyValue("display")||"hidden"===a.getPropertyValue("visibility")))return!0}}return!1}function aa(){l=document.createElement("div");l.className="pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links";
l.style.cssText="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;";document.body.appendChild(l);var a=0,b=G();b||(H=f.setInterval(function(){a++;if((b=G())||6<=a)f.clearInterval(H),l&&(document.body.removeChild(l),l=r),(I=b)&&J.run()},150))}function p(a){for(var b=document.querySelectorAll(d.FRAME_SELECTOR),c=b&&b.length||0,e,f;c--;)if(e=b[c],f=e.getAttribute(d.FRAME_ID_ATTR),f===a)return e}function K(a){!a.getAttribute(d.SRC_ATTR_NAME)&&
("true"===a.getAttribute(d.USE_SRCDOC_FALLBACK_ATTR_NAME)||ba&&a.getAttribute(d.DATA_SRCDOC_ATTR_NAME))&&(a.removeAttribute(d.SANDBOX_ATTR_NAME),a.onload=function(){a.onload=function(){};var b='javascript:window.frameElement.getAttribute("'+d.DATA_SRCDOC_ATTR_NAME+'");';if(f.document.documentMode&&a.contentWindow)try{a.contentWindow.location=b}catch(c){}a.setAttribute(d.SRC_ATTR_NAME,b)},a.setAttribute(d.SRC_ATTR_NAME,""))}function L(a,b){if(b){var c=f.uet,e=a&&a.getAttribute&&a.getAttribute(d.METRICS_SCOPE_ATTR);
c&&e&&c("x1",e,{wb:1},b)}b=a&&a.getAttribute&&a.getAttribute(d.DATA_SRCDOC_ATTR_NAME);c=a&&a.getAttribute&&a.getAttribute(d.SRCDOC_ATTR_NAME);b&&!c&&(a[d.SRCDOC_ATTR_NAME]=b,K(a))}function ca(a){return a&&a.getAttribute&&(a=a.getAttribute(d.CAPABILITIES_ATTR_NAME))?a.trim().split(da).filter(function(a){return M.hasOwnProperty(a)}).reduce(function(a,c){a[M[c]]=!0;return a},{}):{}}function ea(a,b){return!0===ca(a)[b]}function N(a,b,c,e){a.addEventListener?a.addEventListener(b,c,!0===e):a.attachEvent&&
a.attachEvent("on"+b,c)}function m(a,b){a&&a.contentWindow&&a.contentWindow.postMessage&&a.contentWindow.postMessage(JSON.stringify(b),"*")}function B(a){k.eachFrame(function(b,c){m(c,a)})}function q(a,b){!0===fa[a]&&(C[a]=b);B({action:"TRIGGER",eventName:a,eventData:b})}function O(a){m(a,{action:"REGISTERED",geom:z.geom(a),isVisible:D.isPageVisible(),hasAdBlocker:x.hasAdBlocker(),completedEventData:C})}function t(a,b,c){g.when("A").execute(function(e){e&&e.trigger(a,b,c)})}function y(a,b,c){g.when("A").execute(function(e){c&&
(b=e.throttle(b,c));e.on(a,b)})}function ga(a,b,c,e){ea(a,d.CAPABILITIES.AJAX)?g.when("A").execute(function(d){d.ajax(b,{accepts:e.accepts,cache:e.cache,contentType:e.contentType,method:e.method,params:e.params,paramsFormat:e.paramsFormat,timeout:e.timeout,success:function(b,e){m(a,{action:"AJAX_SUCCESS",requestId:c,response:b,status:e})},error:function(b,e,d){m(a,{action:"AJAX_ERROR",requestId:c,status:e,error:d})},abort:function(){m(a,{action:"AJAX_ABORT",requestId:c})},chunk:function(b){m(a,{action:"AJAX_CHUNK",
requestId:c,chunk:b})}})}):m(a,{action:"AJAX_ERROR",requestId:c,status:"403 Forbidden",error:"Frame missing capability: "+d.CAPABILITIES.AJAX})}var d={ADDITIONAL_ATTRIBUTION_ATTR:"data-additional-attribution",ATTRIBUTION_ATTR:"data-frame-attribution",ATTRIBUTION_SEPARATOR:":",AUTO_LOAD_ATTR_NAME:"data-auto-load",CAPABILITIES_ATTR_NAME:"data-capabilities",DATA_SRCDOC_ATTR_NAME:"data-srcdoc",FRAME_CONTAINER_SELECTOR:".amzn-safe-frame-container",FRAME_FOOTER_SELECTOR:".amzn-safe-frame-footer",FRAME_ID_ATTR:"data-frame-id",
FRAME_SELECTOR:".amzn-safe-frame",FRAME_SIZING_SELECTOR:".amzn-safe-frame-sizing",HEIGHT_ATTR:"height",HIDDEN_CLASS:"aok-hidden",HOST_METRICS_SCOPE:"amznSafeFrameHost",IFRAME_ELEM_NAME:"iframe",METRICS_SCOPE_ATTR:"data-metrics-scope",SAFEFRAME_VIEW_NAME:"safeFrameContents.html",SANDBOX_ATTR_NAME:"sandbox",SRC_ATTR_NAME:"src",SRCDOC_ATTR_NAME:"srcdoc",USE_SRCDOC_FALLBACK_ATTR_NAME:"data-use-srcdoc-fallback",WIDTH_ATTR:"width",CAPABILITIES:{AUI:"AUI",AJAX:"AJAX"},EVENTS:{COLLAPSE:"amzn-safe-frame-event:collapse",
ERROR:"amzn-safe-frame-event:error",SET_HEIGHT:"amzn-safe-frame-event:set-height",SET_WIDTH:"amzn-safe-frame-event:set-width",SHOW_FOOTER:"amzn-safe-frame-event:show-footer"}},z={geom:function(a){var b=document.documentElement,c=0,e=0,d=0,g=0,k=0,l=0,m=0,n=0,p=void 0,r=void 0,q=void 0;try{c=f.screenTop||f.screenY||0,e=f.screenLeft||f.screenX||0,d=f.innerWidth||b.clientWidth||0,g=f.innerHeight||b.clientHeight||0,k=f.scrollY||f.pageYOffset||0,l=f.scrollX||f.pageXOffset||0,m=c+g,n=e+d}catch(w){n=m=l=
k=g=d=e=c=0}finally{b={t:c,l:e,w:d,h:g,b:m,r:n,sx:l,sy:k}}try{var h=a.getBoundingClientRect();h.height=h.height||h.bottom-h.top;h.width=h.width||h.right-h.left;var h=q=h,c=d,t=v(h.top,h.bottom,g),u=v(h.left,h.right,c),e=0<t&&0<u?t*u:0,z=h.height*Math.min(h.width,c),p={t:h.top,l:h.left,r:h.right,b:h.bottom,w:h.width,h:h.height,z:+f.getComputedStyle(a,null).zIndex,xiv:A(u/h.width,0,1,2),yiv:A(t/h.height,0,1,2),iv:A(e/z,0,1,2)},x=document.body,y=document.documentElement,r={t:q.top,l:q.left,r:d-q.right,
b:g-q.bottom,xs:Math.max(x.scrollWidth,y.scrollWidth)>d?1:0,yx:Math.max(x.scrollHeight,y.scrollHeight)>g?1:0}}catch(w){r=p=null}return{win:b,self:p,exp:r}}},D={isPageVisible:function(){var a=Z();return a?function(){return!document[a]}:function(){return!0}}()},n={isFunction:F,createHandlerList:function(){var a={},b={};return{add:function(c,e){F(c)&&(e=e||"___DEFAULT___",!0===b[e]?g.now().execute(c):(a[e]=a[e]||[],a[e].push(c)))},run:function(c){c=c||"___DEFAULT___";b[c]=!0;c=a[c]||[];for(var e=c.length,
d=0;d<e;d++)g.now().execute(c[d])}}}},J=n.createHandlerList(),I=!1,l=void 0,H=void 0,x={init:function(){setTimeout(aa,0)},onAdBlockDetected:function(a){J.add(a)},hasAdBlocker:function(){return I}},P=n.createHandlerList();(function(a,b){var c=f[a];c&&(f[a]=function(){var a;try{a=Array.prototype.slice.call(arguments),b.apply(f,a)}finally{c.apply(f,a)}})})("uet",function(a){a&&P.run(a)});var E={onUet:function(a,b){P.add(b,a)}},k={getFrame:p,getFrameAttribution:function(a,b){a=(a=p(a))?a.getAttribute(d.ATTRIBUTION_ATTR):
void 0;var c=["safeFrame"];a&&c.push(a);b&&c.push(b);return c.join(d.ATTRIBUTION_SEPARATOR)},getAdditionalAttribution:function(a){if(a=p(a))return a.getAttribute(d.ADDITIONAL_ATTRIBUTION_ATTR)},getMetricsScope:function(a){if(a=p(a))return a.getAttribute(d.METRICS_SCOPE_ATTR)},setFrameHeight:function(a,b){if(a=p(a))b=Math.max(+b||0,0),a.setAttribute(d.HEIGHT_ATTR,b)},setFrameWidth:function(a,b){var c=p(a);b=Math.max(+b||0,0);c&&0<b&&g.when("A").execute(function(a){a.$(c).closest(d.FRAME_CONTAINER_SELECTOR).find(d.FRAME_SIZING_SELECTOR).css(d.WIDTH_ATTR,
b+"px")})},collapseFrame:function(a){var b=p(a);b&&g.when("A").execute(function(a){a.$(b).closest(d.FRAME_CONTAINER_SELECTOR).addClass(d.HIDDEN_CLASS)})},showFooter:function(a,b){var c=p(a);c&&g.when("A").execute(function(a){a=a.$(c).closest(d.FRAME_CONTAINER_SELECTOR).find(d.FRAME_FOOTER_SELECTOR);a.removeClass(d.HIDDEN_CLASS);a.data("eventData",b)})},getContents:function(a){if(a=p(a))return a.getAttribute(d.DATA_SRCDOC_ATTR_NAME)||a.getAttribute(d.SRCDOC_ATTR_NAME)},eachFrame:function(a){for(var b=
document.querySelectorAll(d.FRAME_SELECTOR),c=b.length,e,f;c--;)e=b[c],(f=e.getAttribute(d.FRAME_ID_ATTR))&&a(f,e)}},ha={wb:1},ia=n.isFunction,Q=f.ueLogError,u=f.ue&&f.ue.count,R=f.ue&&f.ue.tag,S={wb:"ues",bb:"uet",af:"uet",cf:"uet",be:"uet",ld:"uex"},w={sendMetrics:function(a,b,c){var d;d=(d=S.hasOwnProperty(b)?S[b]:r)&&f[d];(a=k.getFrameAttribution(a,c))&&ia(d)&&d(b,a,ha)},logError:function(a,b,c,d){var f=k.getAdditionalAttribution(a);a=k.getFrameAttribution(a,f);b={logLevel:d,attribution:a,message:b};
a&&Q&&Q(c||b,c?b:null)},count:function(a,b,c){a=k.getFrameAttribution(a,b);u&&a&&u(a,+c||0)},incrementCount:function(a,b,c){a=k.getFrameAttribution(a,b);c=+c||1;u&&a&&u(a,(u(a)||0)+c)},tagRequest:function(a,b){a=k.getFrameAttribution(a,b);R&&a&&R(a)}},ba=!(d.SRCDOC_ATTR_NAME in document.createElement(d.IFRAME_ELEM_NAME)),da=/\s*,\s*/g,M=Object.keys(d.CAPABILITIES).reduce(function(a,b){a[d.CAPABILITIES[b]]=b;return a},{}),fa={atf:!0,cf:!0,load:!0},C={},n=function(){},T=f.uet||n,U=f.uex||n,V=f.ue&&
f.ue.count||n,W={},X={};T("bb",d.HOST_METRICS_SCOPE,{wb:1});var Y={REGISTER:function(a,b,c,d){O(b);!0!==W[c]&&(W[c]=!0,(b=k.getMetricsScope(c))&&T("cf",b,{wb:1},a.timestamp||d))},SEND_METRICS:function(a,b,c){w.sendMetrics(c,a.metric,a.scope)},LOG_ERROR:function(a,b,c){(b=a.message)&&14<b.length&&"window.onerror"===b.substring(0,14)&&(b=V("SafeFrameUncaughtJSError")||0,V("SafeFrameUncaughtJSError",b+1));w.logError(c,a.message,a.exception,a.logLevel);t(d.EVENTS.ERROR,c,a)},COUNT_METRIC:function(a,b,
c){w.count(c,a.counterName,a.value)},INCREMENT_METRIC:function(a,b,c){w.incrementCount(c,a.counterName,a.value)},SET_HEIGHT:function(a,b,c){k.setFrameHeight(c,a.value);t(d.EVENTS.SET_HEIGHT,c,a)},SET_WIDTH:function(a,b,c){k.setFrameWidth(c,a.value);t(d.EVENTS.SET_WIDTH,c,a)},COLLAPSE:function(a,b,c){k.collapseFrame(c);t(d.EVENTS.COLLAPSE,c,a)},SHOW_FOOTER:function(a,b,c){k.showFooter(c,a);t(d.EVENTS.SHOW_FOOTER,c,a)},GET_CONTENTS:function(a,b,c){m(b,{action:"LOAD_CONTENTS",contents:k.getContents(c)})},
CLIENT_READY:function(a,b,c){!0!==X[c]&&(X[c]=!0,(a=k.getMetricsScope(c))&&U("ld",a,{wb:1}))},AJAX:function(a,b,c){ga(b,a.url,a.requestId,a.options)},TAG_REQUEST:function(a,b,c){w.tagRequest(c,a.tagName)}};N(f,"message",function(a){var b=(new Date).getTime(),c;try{c=JSON.parse(a.data)}catch(d){c={}}if(a=c.frameId){var e=k.getFrame(a);if(e&&Y.hasOwnProperty(c.action))Y[c.action](c,e,a,b)}},!1);N(document,"visibilitychange",function(){B({action:"VISIBILITY_CHANGE",isVisible:D.isPageVisible()})},!1);
y("resize",function(){k.eachFrame(function(a,b){m(b,{action:"RESIZE",geom:z.geom(b)})})},1E3);y("scroll",function(){k.eachFrame(function(a,b){m(b,{action:"SCROLL",geom:z.geom(b)})})},1E3);y("load",function(){q("atf",{});q("load",{})});y("orientationchange",function(){q("orientationchange",{})});E.onUet("af",function(){q("atf",{})});E.onUet("cf",function(){q("cf",{})});x.onAdBlockDetected(function(){B({action:"AD_BLOCKER_DETECTED"})});n={broadcastEvent:q,initSafeFrameHost:function(){C={};k.eachFrame(function(a,
b){O(b)});U("ld",d.HOST_METRICS_SCOPE,{wb:1})},reloadFrame:function(a){a.removeAttribute(d.SRCDOC_ATTR_NAME);a.removeAttribute(d.SRC_ATTR_NAME);L(a)},enableAutoResize:function(a){m(a,{action:"ENABLE_AUTO_RESIZE"})},disableAutoResize:function(a){m(a,{action:"DISABLE_AUTO_RESIZE"})}};g.declare("amzn-safe-frame-constants",d);g.declare("amzn-safe-frame-viewability",z);g.declare("amzn-safe-frame-page-visibility",D);g.declare("amzn-safe-frame-ad-block-detect",x);g.declare("amzn-safe-frame-csm-interceptor",
E);g.declare("amzn-safe-frame-manager",k);g.declare("amzn-safe-frame-logging",w);g.declare("amzn-safe-frame-host",n);g.declare("amzn-safe-frame-polyfills",K);g.declare("amzn-safe-frame-auto-loader",function(a,b){"true"===(a&&a.getAttribute&&a.getAttribute(d.AUTO_LOAD_ATTR_NAME))&&L(a,b)});g.when("ready").execute(x.init);n.initSafeFrameHost()})()});
/* ******** */
(function(b){var d=window.AmazonUIPageJS||window.P,e=d._namespace||d.attributeErrors,a=e?e("SearchShoppingPageGridAssets",""):d;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,d,e){b.when("rush-metrics-adapter","jQuery","ready").execute("s-result-grid-metrics",function(a,c){var b;"undefined"!==typeof CSS&&c.isFunction(CSS.supports)&&CSS.supports("grid-auto-flow: dense")?a.setCount("flexigrid:cssGridSupport","s-result-grid-metrics",1):a.setCount("flexigrid:cssGridSupport",
"s-result-grid-metrics",0);c=c(".s-result-list \x3e .s-flex-geom");b=c.filter(":hidden");0<b.length&&a.setCount("flexigrid:resultsHidden","s-result-grid-metrics",b.length);c=c.filter(":visible");0<c.length&&a.setCount("flexigrid:results","s-result-grid-metrics",c.length)})});
/* ******** */
(function(e){var f=window.AmazonUIPageJS||window.P,m=f._namespace||f.attributeErrors,c=m?m("APEAdaptiveSkyscraperWidgetAssets",""):f;c.guardFatal?c.guardFatal(e)(c,window):c.execute(function(){e(c,window)})})(function(e,f,m){"use strict";e.when("Rush","s-web-application-controller","ape-adaptive-skyscraper-constants","ape-adaptive-skyscraper-execute","ape-adaptive-skyscraper-metrics","s-skyscraper-slot","af").execute("ape-adaptive-skyscraper",function(c,f,e,u,B){function v(){try{u.execute()}catch(b){B.incrementMetric(e.METRIC_ERROR)}}
c.on(f.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,function(){setTimeout(v,e.PAGINATION_EXECUTE_TIMEOUT)});v()});"use strict";e.register("ape-adaptive-skyscraper-constants",function(){return{RESEND_ACTIVATE_EVENT_TIMEOUT:600,PAGINATION_EXECUTE_TIMEOUT:600,METRIC_DONE:"adplacements:adaptive-skyscraper:done",METRIC_ERROR:"adplacements:adaptive-skyscraper:error",METRIC_NO_ADAP_SKYS:"adplacements:adaptive-skyscraper:no-adaptive-skyscrapers",METRIC_NO_BLOCKING:"adplacements:adaptive-skyscraper:no-blocking-elements",
METRIC_NO_SPACE:"adplacements:adaptive-skyscraper:no-space"}});"use strict";e.when("ape-adaptive-skyscraper-constants","ape-adaptive-skyscraper-metrics","A").register("ape-adaptive-skyscraper-execute",function(c,e,m){function u(e){function f(){var b=e.querySelector("iframe");b&&b.contentWindow&&b.contentWindow.postMessage&&m.$.isFunction(b.contentWindow.postMessage)&&b.contentWindow.postMessage(JSON.stringify({action:"TRIGGER",eventName:"adaptiveSkyReady"}),"*")}f();setTimeout(f,c.RESEND_ACTIVATE_EVENT_TIMEOUT)}
return{execute:function(){function m(){function a(a){a=q[String(a)].querySelector("div");a.style.display="none";a.style.marginTop=""}function d(a,d){a=q[String(a)].querySelector("div");a.style.display="block";a.style.marginTop=String(d)+"px"}var h,l;h=1;for(l=0;h<n&&l<r.length;h++)"active"!==t[h]?a(h):(d(h,r[l]),l++);for(;h<n;h++)a(h)}function v(a){var d;if(a.data){try{d=JSON.parse(a.data)}catch(h){d={}}d&&d.frameId&&d.action&&"COLLAPSE"===d.action&&(a=x[d.frameId],"number"===typeof a&&0!==a&&(t[a]=
"inactive",m()))}}var b,q={},y,r=[],z,x={},n=0,A=f.innerHeight,w=[],t={};b={tops:[],bottoms:[]};b=function(){var a={},d,h,l,p={},b=0,g={},k=document.getElementsByClassName("slot\x3dSKYSCRAPER template\x3dSAFE_FRAME");0>=k.length&&(k=document.getElementsByClassName("slot\x3dLEFT template\x3dSAFE_FRAME"));for(l=0;l<k.length;l++)d=k[l].children[0],h=d.getElementsByTagName("iframe")[0].getAttribute("data-frame-id"),a[b]=d,p[h]=b,g[b]="active",b++;return{cachedFrameContainers:a,numByFrameId:p,numSkyscrapers:b,
skyscraperStates:g}}();q=b.cachedFrameContainers;x=b.numByFrameId;n=b.numSkyscrapers;t=b.skyscraperStates;1>=n?function(a,d){e.incrementMetric(c.METRIC_NO_ADAP_SKYS);d&&u(a["0"])}(q,1===n):(z=Math.ceil(q["0"].offsetTop+619+A),y=function(){var a=document.getElementsByClassName("s-result-list");if(0>=a.length)return 0;a=a[a.length-1];return Math.ceil(a.offsetTop+a.offsetHeight)}(),b=document.getElementsByClassName?document.getElementsByClassName("AdHolder"):document.querySelector(".AdHolder"),(!b||
b.length&&0>=b.length)&&e.incrementMetric(c.METRIC_NO_BLOCKING),b=function(a,d,h){var b=[h],p=[d],e={},g={},k,c,f;if(0>=a.length)return{tops:b,bottoms:p};for(k=0;k<a.length;k++)c=Math.floor(a[k].offsetTop),f=Math.ceil(c+a[k].offsetHeight),c>d&&c<h&&!e[c]&&(b.push(c),e[c]=!0),f>=d&&f<h&&!g[f]&&(p.push(f),g[f]=!0);[b,p].forEach(function(a){a.sort(function(a,d){return a-d})});return{tops:b,bottoms:p}}(b,z,y),w=function(a,d){for(var h=[],b=0,c=0,f=0,g=a.length+d.length,k,e;f<g&&c<d.length&&b<a.length;)f++,
k=d[c],e=a[b],k>=e?b++:c<d.length-2&&d[c+1]<e?c++:619>e-k?c++:(h.push([k,e]),c++,b++);return w=h}(b.tops,b.bottoms),r=function(a,d,b,c){var e=[];d=d.reverse();var f=1;a=Number(a.offsetTop);var g,k;if(0>=d.length)return e;for(g=d.pop();f<b&&g;)g[0]<a&&(g[0]=a),g[0]>g[1]||619>g[1]-g[0]?((k=d.pop())&&g[0]>k[0]&&(k[0]=g[0]),g=k):(e.push(g[0]-a-619),f++,a=g[0],g[0]+=619+c);return e}(q["0"],w,n,A),function(a,d){var b;if(!(a.length>=d||(a=d-a.length-1,0>=a)))for(b=0;b<a;b++)t[d-b-1]="inactive"}(r,n),0>=
r.length&&e.incrementMetric(c.METRIC_NO_SPACE),function(a,b,c,e){function f(a){return function(b){try{a(b)}catch(d){}}}a.addEventListener?a.addEventListener(b,f(c),!0===e):a.attachEvent&&a.attachEvent("on"+b,f(c))}(f,"message",v),m(),function(a,b){var c;for(c=0;c<a;c++)"active"===b[c]&&u(q[String(c)])}(n,t),e.incrementMetric(c.METRIC_DONE))}}});"use strict";e.register("ape-adaptive-skyscraper-metrics",function(){return{incrementMetric:function(c){f.ue&&f.ue.count&&c&&f.ue.count(c,(f.ue.count(c)||
0)+1)}}})});
/* ******** */
(function(t){var u=window.AmazonUIPageJS||window.P,p=u._namespace||u.attributeErrors,f=p?p("SponsoredBrandsVideoAssets",""):u;f.guardFatal?f.guardFatal(t)(f,window):f.execute(function(){t(f,window)})})(function(t,u,p){t.when("A","rush-framework","sbv-single-product","sbv-slideshow-product-mixin").register("sbv-slideshow-single-product",function(f,n,h,g){var c=function(){this.attribution=this.name="sbv-slideshow-single-product"};f.mixin(c.prototype,g);var d=new c;n.registerComponent(d.name,d.attribution,
function(b){var c=f.$(b.elem()),a=c.find(".sbv-product:first"),a=0===a.length?c.children().get(-1):a.get(0);d.setup(d.attribution,c,a,b,h)})});"use strict";t.when("A","rush-framework","sbv-single-product","sbv-multi-brand-video-mixin").register("sbv-multi-brand-video",function(f,n,h,g){var c=function(){this.attribution=this.name="sbv-multi-brand-video"};f.mixin(c.prototype,g);var d=new c;n.registerComponent(d.name,d.attribution,function(b){var c=f.$(b.elem());d.setup(d.attribution,c,null,null,b,h,
null)})});t.when("A","base-mixin","sbv-multi-brand-video-carousel").register("sbv-multi-brand-video-mixin",function(f,n,h){return{setup:function(g,c,d,b,k,a,e){d=c.find(".sbv-mbv-carousel-container");c=n.setup(g,c,k).build();c.reportAceVideoResponseReceived();h.initialize(d,c,g,k.prop("instrumentationPixelUrl"))}}});"use strict";t.when("A","rush-framework","sbv-video-single-mixin","sbv-single-product","sbv-store-ingress").register("sbv-video-single-product",function(f,n,h,g,c){var d=function(){this.attribution=
this.name="sbv-video-single-product"};f.mixin(d.prototype,h);var b=new d;n.registerComponent(b.name,b.attribution,function(d){var a=f.$(d.elem()),e=a.find(".sbv-product:first").get(0),q=a.find(".sbv-store-ingress:first").get(0);b.setup(b.attribution,a,e,q,d,g,c)})});"use strict";t.when("A","rush-framework","sbv-single-link","sbv-video-single-mixin").register("sbv-video-single-link",function(f,n,h,g){var c=function(){this.attribution=this.name="sbv-video-single-link"};f.mixin(c.prototype,g);var d=
new c;n.registerComponent(d.name,d.attribution,function(b){var c=f.$(b.elem()),a=c.find(".sbv-link:first").get(0);d.setup(d.attribution,c,a,null,b,h,null)})});t.when("A","base-mixin","sbv-video").register("sbv-video-single-mixin",function(f,n,h){return{dupeCheck:function(g,c){var d=g.prop("widgetGroupId")||"";c=0;if("1"===(g.prop("pageNumber")||"")){if("loom-mobile-inline-slot"===d||"loom-desktop-inline-slot"===d)return"NO_DUPE_INLINE";if("loom-mobile-bottom-slot"===d||"loom-desktop-bottom-slot"===
d){g=document.getElementsByClassName("sbv-video-single-product");for(var d=g.length,b="",k="",a=0;a<d;a++){var e=g[a].getAttribute("data-component-props"),e=JSON.parse(e);if("1"===e.pageNumber)if(c++,""===b)b=e.advertiserId||"",k=e.campaignId||"";else if(e.advertiserId===b&&e.campaignId===k)return"DUPE_BOTTOM"}}}return 1<c?"NO_DUPE_BOTTOM_MULTI":"NO_DUPE_BOTTOM_SINGLE"},init:function(g,c,d,b,k,a,e){var q=c.find(".sbv-video:first"),l=n.setup(g,c,k).withVideoPreviewImageSrc(k.prop("videoPreviewImageSrc")).withContentHash(k.prop("contentHash")||
"").withVideoSrc(k.prop("videoSrc")).withHasAudio("true"===k.prop("hasAudio")).withStoreName(k.prop("storeName")||"").withStoreUrl(k.prop("storeUrl")||"").withStoreCta(k.prop("storeCta")||"").withVideoType(k.prop("videoType")||"").build();c.hasClass("aok-hidden")&&c.hasClass("sbv-abd")||"none"==c.css("display")?l.reportAdRenderSuppressed():(l.reportAceVideoResponseReceivedWithDupeInfo(this.dupeCheck(k,l)),g=h.initialize(g,q.get(0),l,k.prop("instrumentationPixelUrl")),a.initialize(d,l,g),e&&b&&e.initialize(b,
l,g))},setup:function(g,c,d,b,k,a,e){this.init(g,c,d,b,k,a,e)}}});t.when("A").register("sbv-video-single-content-mixin",function(f){return{loadAdFeedback:function(n,h,g,c){try{if(c){var d=f.$(c).attr("data-cid"),b=f.$(c).attr("data-aid"),k=f.$(c).data("slotname"),a=f.$(c).data("searchkeywords"),e=f.$(c).data("keywordEncodingFailed"),q=f.$(c).data("selectionsignals"),l=f.$(c).data("advertiseridns");"true"===e&&n.reportAdFeedbackKeywordEncodingFailure();var m=JSON.stringify({adPlacementMetaData:{adElementId:h,
pageType:"Search",slotName:k,pageUrl:"",searchTerms:a},adCreativeMetaData:{adNetwork:"aax",adProgramId:1010,adImpressionId:"",adId:b,adCreativeDetails:[{campaignId:d,advertiserIdNS:""===l?null:l,selectionSignals:""===q?null:q}]}}),p=u.location.protocol+"//"+u.location.hostname+"/af/feedback-link?pl\x3d"+encodeURIComponent(m),w=new XMLHttpRequest;w.onreadystatechange=function(){if(4===w.readyState&&200===w.status){var b=JSON.parse(w.responseText);if(b&&"ok"===b.status){"html"in b&&b.html&&(g.addClass("aok-hidden"),
c.innerHTML=b.html,f.$(c).removeClass("aok-hidden"),n.reportAdFeedbackLoadSucceeded(w.status));if("script"in b&&b.script){var a=document.createElement("script");a.type="text/javascript";a.innerHTML=b.script;c.appendChild(a)}f.$(c).find("a").click(function(){n.reportAdFeedbackPopoverOpened()})}else n.reportAdFeedbackLoadFailed(w.status)}};w.open("GET",p,!0);w.send()}}catch(v){h=4E3<v.message.length?v.message.substring(0,3997)+"...":v.message,n.reportAdFeedbackLoadFailedFromErr(h)}}}});t.when("A","sbv-metrics-manager",
"sbv-automated-test-metrics-client","sbv-platform-compatibility","sbv-latency-event-handler").register("base-mixin",function(f,n,h,g){return{setup:function(c,d,b){g.setAppVersion(b.prop("appVersion"));return n.builder().withAttribution(c).withMetricsIdentifier(b.prop("metricsIdentifier")).withAdvertiserId(b.prop("advertiserId")).withCampaignId(b.prop("campaignId")).withSlotId(b.prop("slotId")).withSearchQuery(b.prop("searchQuery")).withWidgetIndex(b.prop("widgetIndex")).withDeviceEnv(b.prop("deviceEnv")||
"").withDeviceOs(b.prop("deviceOs")||"").withDeviceType(b.prop("deviceType")||"").withDevicePlatformVersion(b.prop("devicePlatformVersion")||"").withDeviceModel(b.prop("deviceModel")||"").withDeviceMake(b.prop("deviceMake")||"").withAppVersion(b.prop("appVersion")||"").withStage(b.prop("stage")).withClientId(b.prop("clientId")).withWeblabs(b.prop("weblabs")).withLanguage(b.prop("language")).withMarketplaceId(b.prop("marketplaceId")).withWidgetType(b.prop("widgetType")).withWidgetGroupId(b.prop("widgetGroupId")).withPageType(b.prop("pageType")).withPageNumber(b.prop("pageNumber")).withSushiSourceGroupEndpoint(b.prop("sushiSourceGroupEndpoint"))}}});
t.when("base-mixin","sbv-slideshow").register("sbv-slideshow-product-mixin",function(f,n){return{setup:function(h,g,c,d,b){var k=g.find(".sbv-slideshow-view-container:first").get(0);h=f.setup(h,g,d).build();h.reportSlideshowWidgetResponseReceived();k=n.initialize(k,h);(g=g.find(".sbv-slideshow-timer:first").get(0))&&g.dataset&&g.dataset.jsploadedtime&&(g=Date.now()-g.dataset.jsploadedtime,h.reportTimeWaitingForScriptToExecute(g));b.initialize(c,h,k)}}});t.when("A","3p-promise").register("sbv-adblock-detector",
function(f,n){var h={method:"HEAD",mode:"no-cors",headers:{"Content-Type":"plain/text"}};return{timeoutWrapper:function(g){return new n(function(c,d){var b=setTimeout(function(){clearTimeout(b);c()},g)})},fetchWrapper:function(g,c,d){d=this.timeoutWrapper(d);g=u.fetch(g,c);return n.race([g,d])},init:function(){if(f.$(".sbv-video-single-product").find(".sbv-compliant-abd").length){var g=this.fetchWrapper("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?_\x3d1607460946161",h,2E3);return new n(function(c,
d){g.then(function(b){d(b)}).catch(function(b){c(b)})})}}}});t.when("af","ready").register("sbv-latency-event-handler");t.when("A","sbv-video-single-content-mixin").register("sbv-single-link",function(f,n){var h=function(){this.init=function(g,c,d){f.$(g).find("a").click(function(){c.reportLinkClicked(d&&d.getVideoCurrentTimeMs())});f.$(g).find(".sbv-link-cta-container").click(function(){c.reportCallToActionClicked(d&&d.getVideoCurrentTimeMs())});f.$(g).find(".sbv-link-img-container").click(function(){c.reportImageClicked(d&&
d.getVideoCurrentTimeMs())});f.$(g).find(".sbv-link-small-img-container").click(function(){c.reportImageClicked(d&&d.getVideoCurrentTimeMs())});f.$(g).find(".sbv-link-headline").click(function(){c.reportHeadlineClicked(d&&d.getVideoCurrentTimeMs())})}};f.mixin(h.prototype,n);return{initialize:function(g,c,d){var b=new h,k=f.$(g).find(".sbv-link-sponsored-label"),a=f.$(g).find(".sbv-link-ad-feedback").get(0);b.init(g,c,d);b.loadAdFeedback(c,"video-single-link",k,a)}}});"use strict";t.when("A","sbv-sushi-client").register("sbv-metrics-manager",
function(f,n){function h(a,e){function q(a,e){var c=l(d.VM_POST_FAILURE);c[b.VIEW_METRICS_FAILURE]=a;c[b.ERROR_MESSAGE]=e;m(c)}function l(a){var l=f.$.extend({},v);l[b.EVENT_TYPE]=a;l[b.METRICS_SEQUENCE_NUMBER]=g++;l[b.NETWORK_TYPE]=navigator&&navigator.connection&&navigator.connection.type||"Unknown";return l}function m(b,a){h&&h.processEvent(b,k);t&&t.processEvent(b)}var g=0,h=n.newClient(a,u,e,"AceVisClientMetrics"),v=null,t=null;this.setSushiClient=function(b){h=b};this.setDefaultEventAttributes=
function(a){v=f.$.extend({},a);v[b.USER_AGENT]=navigator.userAgent};this.setAutomatedTestMetricsClient=function(b){t=b};this.reportAceVideoResponseReceived=function(){var b=l(d.ACE_VIDEO_RESPONSE_RECEIVED);m(b)};this.reportAceVideoResponseReceivedWithDupeInfo=function(a){var e=l(d.ACE_VIDEO_RESPONSE_RECEIVED);e[b.DEBUG_INFO_CONTENT]=a;m(e)};this.reportDupe=function(a,e){var c=l(d.DUPE);c[b.LOGIC]=a;c[b.REASON]=e;m(c)};this.reportDupeByCampaignAndAdvertiserId=function(){var b=l(d.DUPE_BY_ADVID_CAMPAIGNID);
m(b)};this.reportDupeByContentHash=function(){var b=l(d.DUPE_BY_CONTENT_HASH);m(b)};this.reportAdBlockDetected=function(){var b=l(d.AD_BLOCK_DETECTED);m(b)};this.reportTimeWaitingForScriptToExecute=function(a){var e=l(d.TIME_WAITING_FOR_SCRIPT_TO_EXECUTE);e[b.LOAD_TIME_MS]=a;m(e)};this.reportAdRenderSuppressed=function(){var b=l(d.AD_RENDER_SUPPRESSED);m(b)};this.reportSlideshowWidgetResponseReceived=function(){var b=l(d.SLIDESHOW_WIDGET_RESPONSE_RECEIVED);m(b)};this.reportSlideshowClicked=function(a,
e){var c=l(d.SLIDESHOW_CLICKED);c[b.SLIDESHOW_TOTAL_SLIDES]=a;c[b.SLIDESHOW_CURRENT_INDEX]=e;m(c)};this.reportSlideshowSwiped=function(a){var e=l(d.SLIDESHOW_SWIPED);e[b.SLIDESHOW_TOTAL_SLIDES]=a;m(e)};this.reportSlideshowOnScreen=function(a){var e=l(d.SLIDESHOW_ON_SCREEN);e[b.SLIDESHOW_TOTAL_SLIDES]=a;m(e)};this.reportSlideshowOffScreen=function(a,e){var c=l(d.SLIDESHOW_OFF_SCREEN);c[b.SLIDESHOW_TOTAL_SLIDES]=a;c[b.TIME_ON_SCREEN_MS]=e;m(c)};this.reportSlideshowLoop=function(a,e){var c=l(d.SLIDESHOW_LOOP);
c[b.SLIDESHOW_TOTAL_SLIDES]=a;c[b.SLIDESHOW_LOOP_COUNT]=e;m(c)};this.reportSlideshowLoadFailed=function(a,e){var c=l(d.SLIDESHOW_LOAD_FAILED);c[b.SLIDESHOW_TOTAL_SLIDES]=a;c[b.ERROR_MESSAGE]=e;m(c)};this.reportSlideshowLoadCompleted=function(a){var e=l(d.SLIDESHOW_LOAD_COMPLETED);e[b.SLIDESHOW_TOTAL_SLIDES]=a;m(e)};this.reportAdFeedbackLoadFailed=function(a){var e=l(d.AD_FEEDBACK_LOAD_FAILED);e[b.STATUS_CODE]=a;m(e)};this.reportAdFeedbackLoadFailedFromErr=function(a){var e=l(d.AD_FEEDBACK_LOAD_FAILED_FROM_ERR);
e[b.ERROR_MESSAGE]=a;m(e)};this.reportAdFeedbackLoadSucceeded=function(a){var e=l(d.AD_FEEDBACK_LOAD_SUCCEEDED);e[b.STATUS_CODE]=a;m(e)};this.reportAdFeedbackKeywordEncodingFailure=function(){var a=l(d.AD_FEEDBACK_KEYWORD_ENCODING_FAILURE);m(a)};this.reportAdFeedbackPopoverOpened=function(){var a=l(d.AD_FEEDBACK_POPOVER_OPENED);m(a)};this.reportMissingVideoFunction=function(a){var e=l(d.MISSING_VIDEO_FUNCTION);e[b.ERROR_MESSAGE]=a;m(e)};this.reportPreviewImageLoadSuccess=function(a,e){var c=l(d.PREVIEW_IMAGE_LOAD_SUCCESS);
c[b.LOAD_TIME_MS]=a;c[b.RETRY_COUNT]=e;m(c)};this.reportPreviewImageLoadFailure=function(a,e){var c=l(d.PREVIEW_IMAGE_LOAD_FAILURE);c[b.LOAD_TIME_MS]=a;c[b.STATUS_CODE]=e;m(c)};this.reportVideoDomainVerificationFailure=function(a){var e=l(d.VIDEO_DOMAIN_VERIFICATION_FAILURE);e[b.ERROR_MESSAGE]=a;m(e)};this.reportVideoReadyForPlayback=function(a,e,c,q,g,k){var f=l(d.VIDEO_READY_FOR_PLAYBACK);f[b.LOAD_TIME_MS]=a;f[b.RETRY_COUNT]=e;f[b.PERCENT_DOWNLOADED]=c;f[b.VIDEO_TOTAL_LENGTH_MS]=q;f[b.START_TIME_MS]=
g;f[b.END_TIME_MS]=k;m(f)};this.reportVideoPlaybackInitiated=function(a){var e=l(d.VIDEO_PLAYBACK_INITIATED);e[b.VIDEO_CURRENT_TIME_MS]=a;m(e)};this.reportVideoPlaybackStarted=function(a,e,c){var q=l(d.VIDEO_PLAYBACK_STARTED);q[b.VIDEO_CURRENT_TIME_MS]=a;q[b.PERCENT_DOWNLOADED]=e;q[b.DROPPED_FRAMES]=c;m(q)};this.reportTimeToFirstFrame=function(a,e,c,q,g){var f=l(d.TIME_TO_FIRST_FRAME);f[b.LOAD_TIME_MS]=a;f[b.PERCENT_DOWNLOADED]=e;f[b.DROPPED_FRAMES]=c;f[b.START_TIME_MS]=q;f[b.END_TIME_MS]=g;m(f)};
this.reportVideoBufferingStarted=function(a,e,c){var q=l(d.VIDEO_BUFFERING_STARTED);q[b.VIDEO_CURRENT_TIME_MS]=a;q[b.PERCENT_DOWNLOADED]=e;q[b.DROPPED_FRAMES]=c;m(q)};this.reportVideoBufferingEnded=function(a,e,c){var q=l(d.VIDEO_BUFFERING_ENDED);q[b.VIDEO_CURRENT_TIME_MS]=a;q[b.PERCENT_DOWNLOADED]=e;q[b.DROPPED_FRAMES]=c;m(q)};this.reportVideoPlaybackFailure=function(a,e,c){var q=l(d.VIDEO_PLAYBACK_FAILURE);q[b.VIDEO_CURRENT_TIME_MS]=a;q[b.ERROR_MESSAGE]=e;q[b.ERROR_CODE]=c;m(q)};this.reportVideoDurationPlayed=
function(a,e,c){var q=l(d.VIDEO_DURATION_PLAYED);q[b.VIDEO_BOUNDRY_CROSSED_TIME_MS]=a;q[b.PERCENT_DOWNLOADED]=e;q[b.DROPPED_FRAMES]=c;m(q)};this.reportPlaybackCompleted=function(a,e){var c=l(d.PLAYBACK_COMPLETED);c[b.VIDEO_CURRENT_TIME_MS]=a;c[b.DROPPED_FRAMES]=e;m(c)};this.reportVideoOnScreen=function(a){var e=l(d.VIDEO_ON_SCREEN);e[b.PERCENT_DOWNLOADED]=a;m(e)};this.reportVideoOffScreen=function(a,e,c){var q=l(d.VIDEO_OFF_SCREEN);q[b.TIME_ON_SCREEN_MS]=a;q[b.WAS_BUFFERING]=e;q[b.VIDEO_CURRENT_TIME_MS]=
c;m(q)};this.reportVideoView=function(a,e){var c=l(d.VIDEO_VIEW);c[b.CONTINUOUS_PLAYBACK_DURATION_MS]=a;m(c);e&&h&&h.flush(h,!0)};this.reportVideoPauseInitiated=function(a){var e=l(d.VIDEO_PAUSED_INITIATED);e[b.VIDEO_CURRENT_TIME_MS]=a;m(e)};this.reportVideoPaused=function(a,e,c){var q=l(d.VIDEO_PAUSED);q[b.VIDEO_CURRENT_TIME_MS]=a;q[b.PERCENT_DOWNLOADED]=e;q[b.DROPPED_FRAMES]=c;m(q)};this.reportVideoSoundOn=function(a,e){var c=l(d.VIDEO_SOUND_ON);c[b.VIDEO_CURRENT_TIME_MS]=a;c[b.SOUND_TOGGLE_METHOD]=
e;m(c)};this.reportVideoSoundOff=function(a,e){var c=l(d.VIDEO_SOUND_OFF);c[b.VIDEO_CURRENT_TIME_MS]=a;c[b.SOUND_TOGGLE_METHOD]=e;m(c)};this.reportVideoClicked=function(a){var e=l(d.VIDEO_CLICKED);e[b.VIDEO_CURRENT_TIME_MS]=a;m(e)};this.reportProductClicked=function(a){var e=l(d.PRODUCT_CLICKED);a!==p&&(e[b.VIDEO_CURRENT_TIME_MS]=a);m(e)};this.reportProductTitleClicked=function(){var a=l(d.PRODUCT_TITLE_CLICKED);m(a)};this.reportProductReviewCountClicked=function(){var a=l(d.PRODUCT_REVIEW_COUNT_CLICKED);
m(a)};this.reportProductPriceClicked=function(){var a=l(d.PRODUCT_PRICE_CLICKED);m(a)};this.reportLinkClicked=function(a){var e=l(d.LINK_CLICKED);e[b.VIDEO_CURRENT_TIME_MS]=a;m(e)};this.reportCallToActionClicked=function(a){var e=l(d.CALL_TO_ACTION_CLICKED);e[b.VIDEO_CURRENT_TIME_MS]=a;m(e)};this.reportHeadlineClicked=function(a){var e=l(d.HEADLINE_CLICKED);e[b.VIDEO_CURRENT_TIME_MS]=a;m(e)};this.reportImageClicked=function(a){var e=l(d.IMAGE_CLICKED);e[b.VIDEO_CURRENT_TIME_MS]=a;m(e)};this.reportStoreIngressClicked=
function(a){var e=l(d.STORE_INGRESS_CLICKED);e[b.VIDEO_CURRENT_TIME_MS]=a;m(e)};this.reportBlankScreenLoadFailure=function(){var a=l(d.BLANK_SCREEN_LOAD_FAILURE);m(a)};this.reportPlaybackFailedToStartAfterPlay=function(){var a=l(d.PLAYBACK_FAILED_TO_START_AFTER_PLAY);m(a)};this.reportAudioToggleIconDisplayed=function(){var a=l(d.AUDIO_TOGGLE_ICON_DISPLAYED);m(a)};this.reportPlayButtonShown=function(){var a=l(d.PLAY_BUTTON_SHOWN);m(a)};this.reportPlayButtonClicked=function(a){var e=l(d.PLAY_BUTTON_CLICKED);
e[b.VIDEO_CURRENT_TIME_MS]=a;m(e)};this.reportDurationTickerDisplayed=function(a){var e=l(d.VIDEO_DURATION_TICKER_SHOWN);e[b.VIDEO_CURRENT_TIME_MS]=a;m(e)};this.reportVideoAborted=function(a){var e=l(d.VIDEO_ABORTED);e[b.VIDEO_CURRENT_TIME_MS]=a;m(e)};this.reportVideoSuspended=function(a){var e=l(d.VIDEO_SUSPENDED);e[b.VIDEO_CURRENT_TIME_MS]=a;m(e)};this.reportVideoPlayPromiseRejected=function(a){var e=l(d.VIDEO_PLAY_PROMISE_REJECTED);e[b.ERROR_MESSAGE]=a;m(e)};this.reportVideoPlayPromiseNotSupported=
function(){var a=l(d.VIDEO_PLAY_PROMISE_NOT_SUPPORTED);m(a)};this.reportDebugInfoCopiedSuccess=function(a){var e=l(d.DEBUG_INFO_COPIED_SUCCESS);e[b.DEBUG_INFO_CONTENT]=a;m(e)};this.reportDebugInfoCopiedFailure=function(a){var e=l(d.DEBUG_INFO_COPIED_FAILURE);e[b.ERROR_MESSAGE]=a;m(e)};this.reportDebugInfoCopiedMessageShown=function(){var a=l(d.DEBUG_INFO_COPIED_MESSAGE_SHOWN);m(a)};this.reportDebugInfoCopiedMessageHidden=function(){var a=l(d.DEBUG_INFO_COPIED_MESSAGE_HIDDEN);m(a)};this.reportViewMetricsPostRequestFailure=
q;this.reportViewMetricsVideoViewed=function(a){var e=l(d.VM_VIDEO_VIEWED);m(e);this.emitViewMetrics(a,c.VIEWED)};this.reportViewMetricsVideoProgressFiveSeconds=function(a){var e=l(d.VM_VIDEO_PROGRESS_FIVE_SECONDS);m(e);this.emitViewMetrics(a,c.PROGRESS_FIVE_SECONDS)};this.reportViewMetricsVideoFirstQuartile=function(a){var e=l(d.VM_VIDEO_FIRST_QUARTILE);m(e);this.emitViewMetrics(a,c.FIRST_QUARTILE)};this.reportViewMetricsVideoMidpoint=function(a){var e=l(d.VM_VIDEO_MIDPOINT);m(e);this.emitViewMetrics(a,
c.MIDPOINT)};this.reportViewMetricsVideoThirdQuartile=function(a){var e=l(d.VM_VIDEO_THIRD_QUARTILE);m(e);this.emitViewMetrics(a,c.THIRD_QUARTILE)};this.reportViewMetricsVideoComplete=function(a){var e=l(d.VM_VIDEO_COMPLETE);m(e);this.emitViewMetrics(a,c.COMPLETE)};this.reportViewMetricsVideoUnmute=function(a){var e=l(d.VM_VIDEO_UNMUTE);m(e);this.emitViewMetrics(a,c.UNMUTE)};this.emitViewMetrics=function(a,e){if(a===p)q(e,"instrumentationPixelUrl is undefined");else{var b=JSON.stringify({v:{def:"iab",
event:e}});a="/"===a.substr(-1)?a+"v/":a+"/v/";fetch(a+encodeURI(b),{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:b}).then(function(a){if(!a.ok&&0!==a.status)throw Error(a.status+" "+a.statusText);}).catch(function(a){q(e,a.message)})}};this.getDebugMetricAttributes=function(){var a=v[b.SEARCH_QUERY],c=v[b.ADVERTISER_ID],q=v[b.CAMPAIGN_ID],l=v[b.CONTENT_HASH],d=v[b.METRICS_IDENTIFIER],m=v[b.CLIENT_ID],g;a:{if(e&&(g=e.split("-")[1])){g=g.split(".")[0].toUpperCase();
break a}g="UNKNOWN"}return{searchQuery:a,advertiserId:c,campaignId:q,contentHash:l,metricsIdentifier:d,clientId:m,region:g,stage:v[b.STAGE]}}}function g(){function a(){var a=[];a[b.METRICS_IDENTIFIER]=c;a[b.ADVERTISER_ID]=l;a[b.CAMPAIGN_ID]=d;a[b.CONTENT_HASH]=g;a[b.WIDGET_INDEX]=n;a[b.DEVICE_ENV]=t;a[b.DEVICE_OS]=E;a[b.DEVICE_TYPE]=u;a[b.DEVICE_PLATFORM_VERSION]=F;a[b.DEVICE_MODEL]=B;a[b.DEVICE_MAKE]=G;a[b.APP_VERSION]=y;a[b.STAGE]=z;a[b.SLOT_ID]=f;a[b.SEARCH_QUERY]=k;a[b.CLIENT_ID]=H;a[b.WEBLABS]=
I;a[b.LANGUAGE]=J;a[b.VIDEO_PREVIEW_IMAGE_SRC]=K;a[b.VIDEO_SRC]=L;a[b.VIDEO_TYPE]=C;a[b.HAS_AUDIO]=r;a[b.STORE_NAME]=x;a[b.STORE_URL]=A;a[b.STORE_CTA]=Q;a[b.MARKETPLACE_ID]=R;a[b.WIDGET_TYPE]=S;a[b.WIDGET_GROUP_ID]=T;a[b.PAGE_TYPE]=U;a[b.PAGE_NUMBER]=O;return a}var e="sbv-search-widget",c=p,l=p,d=p,g=p,f=p,k=p,n=p,t=p,E=p,u=p,F=p,B=p,G=p,y=p,z=p,H=p,I=p,J=p,K=p,L=p,C=p,r=p,x=p,A=p,Q=p,R=p,V="https://unagi-na.amazon.com/1/events/com.amazon.eel.sbv.client.prod.events",P=p,S=p,T=p,U=p,O=p,M=p;this.withAttribution=
function(a){e=a||"sbv-search-widget";return this};this.withSearchQuery=function(a){k=a;return this};this.withMetricsIdentifier=function(a){c=a;return this};this.withAdvertiserId=function(a){l=a;return this};this.withCampaignId=function(a){d=a;return this};this.withContentHash=function(a){g=a;return this};this.withSlotId=function(a){f=a;return this};this.withWidgetIndex=function(a){n=a;return this};this.withDeviceEnv=function(a){t=a;return this};this.withDeviceOs=function(a){E=a;return this};this.withDeviceType=
function(a){u=a;return this};this.withDevicePlatformVersion=function(a){F=a;return this};this.withDeviceModel=function(a){B=a;return this};this.withDeviceMake=function(a){G=a;return this};this.withAppVersion=function(a){y=a;return this};this.withStage=function(a){z=a;return this};this.withClientId=function(a){H=a;return this};this.withWeblabs=function(a){I=a;return this};this.withLanguage=function(a){J=a;return this};this.withVideoPreviewImageSrc=function(a){K=a;return this};this.withVideoSrc=function(a){L=
a;return this};this.withVideoType=function(a){C=a;return this};this.withHasAudio=function(a){r=a;return this};this.withStoreName=function(a){x=a;return this};this.withStoreUrl=function(a){A=a;return this};this.withStoreCta=function(a){Q=a;return this};this.withMarketplaceId=function(a){R=a;return this};this.withSushiSourceGroupEndpoint=function(a){V=a||"https://unagi-na.amazon.com/1/events/com.amazon.eel.sbv.client.prod.events";return this};this.withAutomatedTestMetricsClient=function(a){P=a;return this};
this.withWidgetType=function(a){S=a;return this};this.withWidgetGroupId=function(a){T=a;return this};this.withPageType=function(a){U=a;return this};this.withPageNumber=function(a){if(a){var e=parseInt(a,10);if(!isNaN(e))return O=e,this}O=a;return this};this.build=function(){M=new h(e,V);P!==p&&M.setAutomatedTestMetricsClient(P);M.setDefaultEventAttributes(a());return M}}var c={VIEWED:"VIEWED",PROGRESS_FIVE_SECONDS:"PROGRESS_5_SEC",FIRST_QUARTILE:"FIRST_QUARTILE",MIDPOINT:"MIDPOINT",THIRD_QUARTILE:"THIRD_QUARTILE",
COMPLETE:"COMPLETE",UNMUTE:"UNMUTE"},d={ACE_VIDEO_RESPONSE_RECEIVED:"AceVideoResponseReceived",AD_BLOCK_DETECTED:"AdBlockDetected",AD_RENDER_SUPPRESSED:"AdRenderSuppressed",AUDIO_TOGGLE_ICON_DISPLAYED:"AudioToggleIconDisplayed",BLANK_SCREEN_LOAD_FAILURE:"BlankScreenLoadFailure",CALL_TO_ACTION_CLICKED:"CallToActionClicked",AD_FEEDBACK_KEYWORD_ENCODING_FAILURE:"AdFeedbackKeywordEncodingFailure",AD_FEEDBACK_LOAD_FAILED:"AdFeedbackLoadFailed",AD_FEEDBACK_LOAD_FAILED_FROM_ERR:"AdFeedbackLoadFailedFromErr",
AD_FEEDBACK_LOAD_SUCCEEDED:"AdFeedbackLoadSucceeded",AD_FEEDBACK_POPOVER_OPENED:"AdFeedbackPopoverOpened",DUPE:"Dupe",DUPE_BY_CONTENT_HASH:"DupeByContentHash",DUPE_BY_ADVID_CAMPAIGNID:"DupeByAdvIdCampaignId",DEBUG_INFO_COPIED_SUCCESS:"DebugInfoCopiedSuccess",DEBUG_INFO_COPIED_FAILURE:"DebugInfoCopiedFailure",DEBUG_INFO_COPIED_MESSAGE_SHOWN:"DebugInfoCopiedMessageShown",DEBUG_INFO_COPIED_MESSAGE_HIDDEN:"DebugInfoCopiedMessageHidden",HEADLINE_CLICKED:"HeadlineClicked",IMAGE_CLICKED:"ImageClicked",LINK_CLICKED:"LinkClicked",
MISSING_VIDEO_FUNCTION:"MissingVideoFunction",NO_VIDEO_SRC_ON_ELEMENT:"NoVideoSrcOnElement",PLAY_BUTTON_CLICKED:"PlayButtonClicked",PLAY_BUTTON_SHOWN:"PlayButtonShown",PLAYBACK_COMPLETED:"PlaybackCompleted",PREVIEW_IMAGE_LOAD_FAILURE:"PreviewImageLoadFailure",PREVIEW_IMAGE_LOAD_SUCCESS:"PreviewImageLoadSuccess",PRODUCT_CLICKED:"ProductClicked",PRODUCT_TITLE_CLICKED:"ProductTitleClicked",PRODUCT_REVIEW_COUNT_CLICKED:"ProductReviewCountClicked",PRODUCT_PRICE_CLICKED:"ProductPriceClicked",STORE_INGRESS_CLICKED:"StoreIngressClicked",
TIME_TO_FIRST_FRAME:"TimeToFirstFrame",VIDEO_BUFFERING_ENDED:"VideoBufferingEnded",VIDEO_BUFFERING_STARTED:"VideoBufferingStarted",VIDEO_CLICKED:"VideoClicked",VIDEO_DOMAIN_VERIFICATION_FAILURE:"VideoDomainVerificationFailure",VIDEO_DURATION_PLAYED:"VideoDurationPlayed",VIDEO_DURATION_TICKER_SHOWN:"VideoDurationTickerShown",VIDEO_OFF_SCREEN:"VideoOffScreen",VIDEO_ON_SCREEN:"VideoOnScreen",VIDEO_PAUSED:"VideoPaused",VIDEO_PAUSED_INITIATED:"VideoPausedInitiated",VIDEO_PLAYBACK_FAILURE:"VideoPlaybackFailure",
VIDEO_PLAYBACK_INITIATED:"VideoPlaybackInitiated",VIDEO_PLAYBACK_STARTED:"VideoPlaybackStarted",VIDEO_READY_FOR_PLAYBACK:"VideoReadyForPlayback",VIDEO_SOUND_OFF:"VideoSoundOff",VIDEO_SOUND_ON:"VideoSoundOn",VIDEO_VIEW:"VideoView",PLAYBACK_FAILED_TO_START_AFTER_PLAY:"PlaybackFailedToStartAfterPlay",VIDEO_ABORTED:"VideoAborted",VIDEO_SUSPENDED:"VideoSuspended",VIDEO_PLAY_PROMISE_REJECTED:"VideoPlayPromiseRejected",VIDEO_PLAY_PROMISE_NOT_SUPPORTED:"VideoPlayPromiseNotSupported",SLIDESHOW_WIDGET_RESPONSE_RECEIVED:"SlideshowWidgetResponseReceived",
SLIDESHOW_CLICKED:"SlideshowClicked",SLIDESHOW_SWIPED:"SlideshowSwiped",SLIDESHOW_ON_SCREEN:"SlideshowOnScreen",SLIDESHOW_OFF_SCREEN:"SlideshowOffScreen",SLIDESHOW_LOOP:"SlideshowLoop",SLIDESHOW_LOAD_COMPLETED:"SlideshowLoadCompleted",SLIDESHOW_LOAD_FAILED:"SlideshowLoadFailed",SLIDESHOW_IMAGE_LOAD_ERROR:"SlideshowImageLoadError",SLIDESHOW_IMAGE_LOAD_SUCCESS:"SlideshowImageLoadSuccess",VM_VIDEO_VIEWED:"ViewMetricsVideoViewed",VM_VIDEO_PROGRESS_FIVE_SECONDS:"ViewMetricsVideoProgressFiveSeconds",VM_VIDEO_FIRST_QUARTILE:"ViewMetricsVideoFirstQuartile",
VM_VIDEO_MIDPOINT:"ViewMetricsVideoMidpoint",VM_VIDEO_THIRD_QUARTILE:"ViewMetricsVideoThirdQuartile",VM_VIDEO_COMPLETE:"ViewMetricsVideoComplete",VM_VIDEO_UNMUTE:"ViewMetricsVideoUnmute",VM_POST_FAILURE:"ViewMetricsPostFailure"},b={APP_VERSION:"appVersion",CLIENT_ID:"clientId",SEARCH_QUERY:"searchQuery",CONTINUOUS_PLAYBACK_DURATION_MS:"continuousPlaybackDurationMs",DEVICE_MAKE:"deviceMake",DEVICE_MODEL:"deviceModel",DEVICE_ENV:"deviceEnv",DEVICE_OS:"deviceOs",DEVICE_TYPE:"deviceType",DEVICE_PLATFORM_VERSION:"devicePlatformVersion",
DEBUG_INFO_CONTENT:"debugInfoContent",DROPPED_FRAMES:"droppedFrames",LOGIC:"logic",REASON:"reason",ERROR_MESSAGE:"errorMessage",ERROR_CODE:"errorCode",EVENT_TYPE:"eventType",HAS_AUDIO:"hasAudio",LOAD_TIME_MS:"loadTimeMs",START_TIME_MS:"startTimeMs",END_TIME_MS:"endTimeMs",MARKETPLACE_ID:"marketplaceId",METRICS_SEQUENCE_NUMBER:"metricsSequenceNumber",METRICS_IDENTIFIER:"metricsIdentifier",ADVERTISER_ID:"advertiserId",CAMPAIGN_ID:"campaignId",CONTENT_HASH:"contentHash",NETWORK_TYPE:"networkType",PAGE_TYPE:"pageType",
PAGE_NUMBER:"pageNumber",PERCENT_DOWNLOADED:"percentDownloaded",RETRY_COUNT:"retryCount",LANGUAGE:"language",SLOT_ID:"slotId",SOUND_TOGGLE_METHOD:"soundToggleMethod",STAGE:"stage",STATUS_CODE:"statusCode",STORE_CTA:"storeCta",STORE_NAME:"storeName",STORE_URL:"storeUrl",TIME_ON_SCREEN_MS:"timeOnScreenMs",USER_AGENT:"userAgent",VIDEO_BOUNDRY_CROSSED_TIME_MS:"videoBoundaryCrossedTimeMs",VIDEO_CURRENT_TIME_MS:"videoCurrentTimeMs",VIDEO_SRC:"videoSrc",VIDEO_PREVIEW_IMAGE_SRC:"videoPreviewImageSrc",VIDEO_TOTAL_LENGTH_MS:"videoTotalLengthMs",
VIDEO_TYPE:"videoType",WAS_BUFFERING:"wasBuffering",WIDGET_INDEX:"widgetIndex",WEBLABS:"weblabs",WIDGET_TYPE:"widgetType",WIDGET_GROUP_ID:"widgetGroupId",SLIDESHOW_LOOP_COUNT:"slideshowLoopCount",SLIDESHOW_CURRENT_INDEX:"slideshowCurrentIndex",SLIDESHOW_TOTAL_SLIDES:"slideshowTotalSlides",VIEW_METRICS_FAILURE:"viewMetricsFailure"},k={n:1};return{DUPE_LOGIC:{SINGLE_PAGE:"SINGLE_PAGE",CROSS_PAGE:"CROSS_PAGE"},DUPE_REASON:{CONTENT_HASH:"CONTENT_HASH",CAMPAIGN_AND_ADV_ID:"CAMPAIGN_AND_ADV_ID"},EVENT_TYPES:d,
SOUND_TOGGLE_OFF_CAUSE:{ICON_TAP:"IconTap",VIDEO_OFF_SCREEN:"VideoOffScreen"},SOUND_TOGGLE_ON_CAUSE:{ICON_TAP:"IconTap"},DEFAULT_SUSHI_SOURCE_GROUP_ENDPOINT:"https://unagi-na.amazon.com/1/events/com.amazon.eel.sbv.client.prod.events",builder:function(){return new g}}});t.register("sbv-transportation-client",function(){var f=function(){},n=function(){function g(){if(u.XDomainRequest){var c=new u.XDomainRequest;c.onerror=f;c.ontimeout=f;c.onprogress=f;c.onload=f;c.timeout=0;return c}if(u.XMLHttpRequest){c=
new u.XMLHttpRequest;if(!("withCredentials"in c))throw"";return c}return null}return{send:function(c,d){if(d&&c){var b=g();if(!b)throw"";b.open("POST",c,!0);b.setRequestHeader&&b.setRequestHeader("Content-type","text/plain");b.send(d)}},isSupported:!0}}(),h=function(){return{send:function(g,c){if(g&&c&&!u.navigator.sendBeacon(g,c))throw"";},isSupported:!!u.navigator.sendBeacon}}();return{ajaxClient:n,beaconClient:h}});t.when("sbv-transportation-client","sbv-event-manager").register("sbv-sushi-client",
function(f,n){function h(c,d,b,k){this.endpoint=b;this.window=d;this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.eventSequence=this.lowPriorityTimer=this.highPriorityTimer=this.dictionaryIndex=this.batchSize=0;this.unloadHandlerCalled=!1;this.highPriorityFlushInterval=1E3;this.lowPriorityFlushInterval=1E4;this.transportationClient=f;var a=this;this.compressor=function(a){function e(b){if(b)switch(typeof b){case "number":return!(isNaN(b)||Infinity===b)&&b.toString().length>
a.dictionaryIndex.length;case "boolean":break;case "string":return b.length>a.dictionaryIndex.length;default:return!0}return!1}function b(e){a.eventsDictionary[e]="#"+a.dictionaryIndex++;a.reverseEventsDictionary[a.eventsDictionary[e]]=e;return a.eventsDictionary[e]}function c(d){if(e(d)){var f=0;d instanceof Array?f=2:d instanceof Function?f=null:d instanceof Object&&(f=1);switch(f){case 0:return a.eventsDictionary[d]?a.eventsDictionary[d]:b(d);case 2:for(var k=[],f=0;f<d.length;f++)k[f]=c(d[f]);
return k;case 1:f={};for(k in d)Object.prototype.hasOwnProperty.call(d,k)&&(f[a.eventsDictionary[k]?a.eventsDictionary[k]:b(k)]=-1===g.indexOf(k)?c(d[k]):d[k]);return f}}return d}return{compressData:c,buildPOSTObject:function(){return a.stringify({cs:{dct:a.reverseEventsDictionary},events:a.eventsQueue})}}}(this);this.onBeforeUnload=function(){!0!==a.unloadHandlerCalled&&(a.flush(a,!0),a.unloadHandlerCalled=!0)};this.stringify=function(a){try{return JSON.stringify(a)}catch(e){}return null};this.resetBatch=
function(){this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.highPriorityTimer=this.lowPriorityTimer=this.batchSize=this.dictionaryIndex=0};this.sendWithClient=function(a){if(null==this.endpoint||""===this.endpoint)this.ueCount("SushiClientEndpointMissing");else{if(a.isSupported){var e=this.compressor.buildPOSTObject();return a.send(this.endpoint,e)}throw"";}};this.sendWithPriority=function(){for(var a=0;a<arguments.length;a++){var e=arguments[a];try{return this.sendWithClient(e)}catch(b){}}return null};
this.flush=function(a,e){a.eventsQueue.length&&(e||!1!==a.window.navigator.onLine)&&(e=a.eventsQueue.length,a.sendWithPriority(a.transportationClient.beaconClient,a.transportationClient.ajaxClient),a.resetBatch(),a.ueCount("EventsSent",e))};this.startHighPriorityQueueTimer=function(){0===this.highPriorityFlushInterval?this.flush(this,!1):this.highPriorityTimer||(this.highPriorityTimer=setTimeout(this.flush,this.highPriorityFlushInterval,this,!1))};this.startLowPriorityQueueTimer=function(){this.lowPriorityTimer||
(this.lowPriorityTimer=setTimeout(this.flush,this.lowPriorityFlushInterval,this,!1))};this.generateMessageId=function(a,e){return a+"-"+e+"-"+this.eventSequence};this.getCurrentISODate=function(){var a=new Date,e=function(a){return 10>a?"0"+a:a};return Date.prototype.toISOString?a.toISOString():a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"};
this.decorateEvent=function(a){a.timestamp=this.getCurrentISODate();a.sequence=this.eventSequence;a.messageId=this.generateMessageId(a.request_id,Date.now?Date.now():(new Date).getTime())};this.startTimers=function(a){a.n?this.startHighPriorityQueueTimer():this.startLowPriorityQueueTimer()};this.encodeEvent=function(a,e,b){e=e.length;(499===this.eventsQueue.length||524288<this.batchSize+e)&&this.flush(this,!0);this.batchSize+=e;a={data:this.compressor.compressData(a)};this.eventsQueue.push(a);this.startTimers(b)};
this.addEvent=function(a,e){this.decorateEvent(a,e);var b=this.stringify(a);return b?(this.encodeEvent(a,b,e),!0):!1};this.isValidAPIParam=function(a,e){return a&&-1<a.constructor.toString().indexOf(e)};this.isMaxCallsReached=function(){this.eventSequence++;1E3<this.eventSequence&&this.ueCount("SushiClientMaxCallsReached");return 1E3<this.eventSequence};this.isValidAPICall=function(a){return!this.isMaxCallsReached()&&this.isValidAPIParam(a,"Object")};this.ueCount=function(a,e){if("undefined"!==typeof ue&&
ue&&ue.count)return e=0===e?0:e||(ue.count(k+":"+a)||0)+1,ue.count(k+":"+a,e),e};this.processEvent=function(a,e){var b=this.unloadHandlerCalled=!1;this.options=e||{};this.isValidAPICall(a)&&(b=this.addEvent(a,this.options));b?this.ueCount("ClientEventsSuccess"):this.ueCount("ClientEventsFailed");return b};n.addEventListener(c,u,"beforeunload",100,this.onBeforeUnload);n.addEventListener(c,document,"visibilitychange",100,this.onBeforeUnload);n.addEventListener(c,u,"blur",100,this.onBeforeUnload);n.addEventListener(c,
u,"pagehide",100,this.onBeforeUnload);u.app||(u.app={});var e=u.app.willDisappear;u.app.willDisappear=function(){e&&e();a.onBeforeUnload()}}var g=["messageId","timestamp"];return{newClient:function(c,d,b,g){return new h(c,d,b,g)}}});t.when("A").register("sbv-automated-test-metrics-client",function(f){function n(f){this.videoSingleProduct=f;this.processEvent=function(g){var c=this.videoSingleProduct.data("AUTOMATED_TEST_METRICS_ATTR");c===p&&(c=[]);c.push(g);this.videoSingleProduct.data("AUTOMATED_TEST_METRICS_ATTR",
c)}}return{newClient:function(f){return new n(f)}}});t.when("A").register("sbv-platform-compatibility",function(f){function n(){return f.capabilities.isAmazonApp&&f.capabilities.ios}var h=null,g=navigator;return{isIOS:function(){return f.capabilities.ios},isIOSWebView:n,canUseViewWillDisappearToReportMetrics:function(){if(!n()||!h)return!1;var c=h.split(".");if(2>c.length)return!1;var d=parseInt(c[0]),c=parseInt(c[1]);return 13<d||13===d&&18<=c},setAppVersion:function(c){h=c},isSafari:function(){return!(!g.vendor||
!g.vendor.match(/apple/i))},isWebView:function(){return f.capabilities.isAmazonApp},_setNavigator:function(c){g=c}}});t.when("A").register("sbv-platform-placement",function(f){function n(c){return"loom-mobile-top-slot"===c||"loom-desktop-top-slot"===c}function h(c){return"loom-mobile-inline-slot"===c||"loom-desktop-inline-slot"===c}function g(c){return"loom-mobile-bottom-slot"===c||"loom-desktop-bottom-slot"===c}return{getAllUpperPlacementSbvAdsProps:function(c,d){var b=h(c),k=g(c);return[].slice.call(f.$(".sb-video-creative")).map(function(a){return JSON.parse(a.getAttribute("data-component-props"))}).filter(function(a){var e=
a.widgetGroupId;if(d===a.pageNumber){if(b)return n(e);if(k)return n(e)||h(e)}return!1})},isTop:n,isInline:h,isBottom:g}});t.when("A","sbv-video-single-content-mixin").register("sbv-single-product",function(f,n){var h=function(){this.init=function(g,c,d){f.$(g).find("a:not(.sbv-store-ingress-link)").click(function(){var b=d&&d.getVideoCurrentTimeMs&&d.getVideoCurrentTimeMs();c.reportProductClicked(b)});var b=f.$(g).find(".sbv-product-img");b.data("imgsrc")&&b.attr("src",b.data("imgsrc"));b=f.$(g).find(".faceout-product-title");
f.$(b).find("a").click(function(){c.reportProductTitleClicked()});b=f.$(g).find(".faceout-product-review");f.$(b).find("a").click(function(){c.reportProductReviewCountClicked()});g=f.$(g).find(".faceout-product-price");f.$(g).find("a").click(function(){c.reportProductPriceClicked()})}};f.mixin(h.prototype,n);return{initialize:function(g,c,d){var b=new h,k=f.$(g).find(".sbv-sponsored-label"),a=f.$(g).find(".sbv-ad-feedback").get(0);b.init(g,c,d);b.loadAdFeedback(c,"video-single-product",k,a);return b}}});
t.when("A").register("sbv-store-ingress",function(f){function n(){this.init=function(h,g,c){f.$(h).find("a").click(function(){g.reportStoreIngressClicked(c&&c.getVideoCurrentTimeMs())})}}return{initialize:function(f,g,c){(new n).init(f,g,c)}}});t.register("sbv-retryable",function(){return function(f,n,h,g){function c(){0<k?(k--,d()):(a.cancel(),b())}var d=f,b=g,k=n,a=this;this._init=function(){d();this._intervalID=setInterval(c,h)};this.cancel=function(){clearInterval(this._intervalID)};this._init()}});
t.when("A","sbv-video-mixin").register("sbv-video",function(f,n){var h=function(){this.metricsManager=this.$muteClickRegion=this.$unmuteIcon=this.$muteIcon=this.videoPlayer=null;this.onScreenStartTime=0;this.videoTag=null};f.mixin(h.prototype,n);return{initialize:function(g,c,d,b){var f=new h;f.init(g,c,d,b);return f}}});t.when("A","sbv-viewability-manager","sbv-metrics-manager","sbv-video-player-builder","sbv-platform-compatibility","3p-promise","sbv-adblock-detector").register("sbv-video-mixin",
function(f,n,h,g,c,d,b){var k=0,a={isViewedLogged:!1,isProgressFiveSecondsLogged:!1,isFirstQuartileLogged:!1,isMidpointLogged:!1,isThirdQuartileLogged:!1,isCompleteLogged:!1,isUnmuteLogged:!1};return{load:function(){this.videoPlayer.load()},toggleAudio:function(){var a=!this.videoPlayer.isMuted();this.setMuteStatus(a,a?h.SOUND_TOGGLE_OFF_CAUSE.ICON_TAP:h.SOUND_TOGGLE_ON_CAUSE.ICON_TAP)},updateMuteClickRegionAriaPressed:function(){var a="true"===this.$muteClickRegion.attr("aria-pressed");this.$muteClickRegion.attr("aria-pressed",
!a)},setMuteButtonStatus:function(a){var b=this.$muteIcon,c=this.$unmuteIcon;a?(b.css("fill-opacity",1),c.css("fill-opacity",0)):(b.css("fill-opacity",0),c.css("fill-opacity",1))},setMuteStatus:function(a,b){var c=this.videoPlayer,d=this.metricsManager;this.setMuteButtonStatus(a);a?(c.mute(),d&&d.reportVideoSoundOff(c.getCurrentTimeMs(),b)):(c.unmute(),d&&d.reportVideoSoundOn(c.getCurrentTimeMs(),b))},initPreviewImage:function(){var a=this.videoTag.dataset.videopreviewsrc;this.videoTag.getAttribute("poster")!==
a&&this.videoTag.setAttribute("poster",a)},displayMuteClickRegion:function(a){a?(this.$muteClickRegion.addClass("aok-block"),this.$muteClickRegion.removeClass("aok-hidden"),this.metricsManager.reportAudioToggleIconDisplayed()):(this.$muteClickRegion.addClass("aok-hidden"),this.$muteClickRegion.removeClass("aok-block"))},displayDurationTicker:function(a){this.$durationTicker&&this.$durationTicker.length&&(a?(this.$durationTicker.removeClass("aok-hidden"),this.metricsManager.reportDurationTickerDisplayed()):
this.$durationTicker.addClass("aok-hidden"))},showPlayButton:function(a){var b=this.attribution;a?(this.$playButtonClickRegion.removeClass("aok-hidden"),this.metricsManager.reportPlayButtonShown()):(this.$playButtonClickRegion.addClass("aok-hidden"),n.registerElement(b,this.videoTag,.5,!0,!0,!0,this.onFiftyPercentViewability.bind(this)),n.registerElement(b,this.videoTag,.01,!0,!0,!0,this.onOnePercentViewability.bind(this)))},showDebugInfoCopiedHint:function(a){a?(this.$debugInfoCopiedHint.addClass("aok-block"),
this.$debugInfoCopiedHint.removeClass("aok-hidden"),this.metricsManager.reportDebugInfoCopiedMessageShown()):(this.$debugInfoCopiedHint.addClass("aok-hidden"),this.$debugInfoCopiedHint.removeClass("aok-block"),this.metricsManager.reportDebugInfoCopiedMessageHidden())},copyDebugInfoToClipboard:function(){var a=this,b=this.metricsManager;if(navigator&&navigator.clipboard&&navigator.clipboard.writeText){var c=JSON.stringify(this.metricsManager.getDebugMetricAttributes());navigator.clipboard.writeText(c).then(function(){b.reportDebugInfoCopiedSuccess(c);
a.showDebugInfoCopiedHint(!0);setTimeout(function(){a.showDebugInfoCopiedHint(!1)},3E3)}).catch(function(a){b.reportDebugInfoCopiedFailure(a.message)})}else b.reportDebugInfoCopiedFailure("No Supports Clipboard API")},manualPlay:function(){var a=this.videoPlayer,b=this.metricsManager;this.showPlayButton(!1);a.play();b.reportPlayButtonClicked(a.getCurrentTimeMs());b.reportVideoPlaybackInitiated(a.getCurrentTimeMs())},onOnePercentViewability:function(a,b){a=this.videoPlayer;var c=this.metricsManager;
b?(this.onScreenStartTime=this.getCurrentTimeMs(),c.reportVideoOnScreen(a.getPercentDownloaded())):(a.isMuted()||this.setMuteStatus(!0,h.SOUND_TOGGLE_OFF_CAUSE.VIDEO_OFF_SCREEN),b=this.getCurrentTimeMs()-this.onScreenStartTime,c.reportVideoOffScreen(b,0!=this.videoBufferingStartTime,a.getCurrentTimeMs()),this.onScreenStartTime=0,a.seekToStart(),a.resetContinuousPlaybackDurationMs())},onFiftyPercentViewability:function(a,b){a=this.videoPlayer;var d=this.metricsManager;b?(a.play(),a.resetContinuousPlaybackDurationMs(),
d.reportVideoPlaybackInitiated(a.getCurrentTimeMs()),this.viewSessionStartTime=this.getCurrentTimeMs()):(a.pause(),d.reportVideoPauseInitiated(a.getCurrentTimeMs()),d.reportVideoView(a.getContinuousPlaybackDurationMs(),c.isIOSWebView()),a.resetContinuousPlaybackDurationMs(),this.viewSessionBufferingDuration=0)},onVideoReadyForPlayback:function(a,b,c,d,f,g){this.metricsManager.reportVideoReadyForPlayback(a,b,c,d,f,g);this.onDurationLeftUpdated(0,d)},onVideoPlaybackFailure:function(a,b,c){this.displayMuteClickRegion(!1);
this.displayDurationTicker(!1);this.metricsManager.reportVideoPlaybackFailure(a,c,b)},onVideoPlaying:function(a,b,c){this.displayMuteClickRegion(!0);this.displayDurationTicker(!0);this.metricsManager.reportVideoPlaybackStarted(a,b,c)},onVideoPlaybackPaused:function(a,b,c){this.displayMuteClickRegion(!1);this.displayDurationTicker(!1);this.metricsManager.reportVideoPaused(a,b,c)},onVideoBufferingStarted:function(a,b,c){var d=this.metricsManager;this.videoBufferingStartTime=this.getCurrentTimeMs();
d.reportVideoBufferingStarted(a,b,c)},getCurrentTimeMs:function(){return Date.now()},onVideoBufferingEnded:function(a,b,c){var d=this.metricsManager;this.videoBufferingStartTime=0;d.reportVideoBufferingEnded(a,b,c)},onTimeToFirstFrame:function(a,b,c,d,f){this.metricsManager.reportTimeToFirstFrame(a,b,c,d,f)},onPlaybackCompleted:function(e,b,c){this.metricsManager.reportPlaybackCompleted(e,b);a.isCompleteLogged||(a.isCompleteLogged=!0,this.metricsManager.reportViewMetricsVideoComplete(c))},onDurationPlayed:function(a,
b,c){this.metricsManager.reportVideoDurationPlayed(a,b,c)},onContinuousDurationPlayed:function(a){this.metricsManager.reportVideoView(a,!0)},logClick:function(){var a=this.videoPlayer,b=this.metricsManager;b&&b.reportVideoClicked(a.getCurrentTimeMs())},getVideoCurrentTimeMs:function(){return this.videoPlayer.getCurrentTimeMs()},onVideoAborted:function(a){var b=this.metricsManager;b&&b.reportVideoAborted(a)},onVideoSuspended:function(a){var b=this.metricsManager;b&&b.reportVideoSuspended(a)},onDurationLeftUpdated:function(a,
b){this.$durationTickerSeconds&&this.$durationTickerSeconds.length&&(a=("0"+Math.floor((b-a)/1E3)).slice(-2),!isNaN(a)&&isFinite(a)&&this.$durationTickerSeconds.html(a))},onVideoUnmute:function(b){a.isUnmuteLogged||(a.isUnmuteLogged=!0,this.metricsManager.reportViewMetricsVideoUnmute(b))},onVideoViewMetricsEvent:function(b,c,d){!a.isViewedLogged&&2E3<=b&&(a.isViewedLogged=!0,this.metricsManager.reportViewMetricsVideoViewed(d));!a.isProgressFiveSecondsLogged&&5E3<=b&&(a.isProgressFiveSecondsLogged=
!0,this.metricsManager.reportViewMetricsVideoProgressFiveSeconds(d));!a.isFirstQuartileLogged&&b>=.25*c&&(a.isFirstQuartileLogged=!0,this.metricsManager.reportViewMetricsVideoFirstQuartile(d));!a.isMidpointLogged&&b>=.5*c&&(a.isMidpointLogged=!0,this.metricsManager.reportViewMetricsVideoMidpoint(d));!a.isThirdQuartileLogged&&b>=.75*c&&(a.isThirdQuartileLogged=!0,this.metricsManager.reportViewMetricsVideoThirdQuartile(d))},onVideoPlayPromiseRejected:function(a){var b=this.metricsManager;c.isIOS()&&
null!==a&&""!==a&&a.startsWith("NotAllowedError")&&this.showPlayButton(!0);b&&b.reportVideoPlayPromiseRejected(a)},onVideoPlayPromiseNotSupported:function(){var a=this.metricsManager;a&&a.reportVideoPlayPromiseNotSupported()},init:function(e,d,l,m){function h(a,b,e,c,d,f){r.onVideoReadyForPlayback(a,b,e,c,d,f)}function t(a,b,e,c,d){r.onTimeToFirstFrame(a,b,e,c,d)}function v(a,b,e){r.onVideoPlaybackFailure(a,b,e)}function u(a,b,e){r.onVideoPlaying(a,b,e)}function D(a,b,e){r.onVideoPlaybackPaused(a,
b,e)}function E(a,b,e){r.onVideoBufferingStarted(a,b,e)}function W(a,b,e){r.onVideoBufferingEnded(a,b,e)}function F(a,b){r.onPlaybackCompleted(a,b,m)}function B(a,b,e){r.onDurationPlayed(a,b,e)}function G(a){r.onContinuousDurationPlayed(a)}function y(a){r.onVideoAborted(a)}function z(a){r.onVideoSuspended(a)}function H(a,b){r.onDurationLeftUpdated(a,b);r.onVideoViewMetricsEvent(a,b,m)}function I(a){r.onVideoPlayPromiseRejected(a)}function J(){r.onVideoPlayPromiseNotSupported()}function K(a,b){r.onOnePercentViewability(a,
b)}function L(a,b){r.onFiftyPercentViewability(a,b)}function C(){r.load();n.registerElement(e,r.videoTag,.5,!0,!0,!0,L);n.registerElement(e,r.videoTag,.01,!0,!0,!0,K)}d=f.$(d);this.videoTag=d.find("video:first").get(0);var r=this;r.attribution=e;r.metricsManager=l;a={isViewedLogged:!1,isProgressFiveSecondsLogged:!1,isFirstQuartileLogged:!1,isMidpointLogged:!1,isThirdQuartileLogged:!1,isCompleteLogged:!1,isUnmuteLogged:!1};if(this.videoTag===p||null===this.videoTag||this.videoTag.load===p||null===
this.videoTag.load)l.reportMissingVideoFunction(this.videoTag===p||null===this.videoTag?"videoTag is undefined":this.videoTag.outerHTML?this.videoTag.outerHTML:"load function is undefined and outerHTML is not supported");else{r.initPreviewImage();var x=g.builder(this.videoTag).withVideoReadyForPlaybackHandler(h).withTimeToFirstFrameHandler(t).withVideoPlaybackFailureHandler(v).withVideoPlayingHandler(u).withVideoPlaybackPausedHandler(D).withPlaybackCompletedHandler(F).withVideoBufferingStartedHandler(E).withVideoBufferingEndedHandler(W).withVideoPlayedToBoundaryHandler(2E3,
B).withVideoPlayedToBoundaryHandler(15E3,B).withVideoPlaybackFailedAfterPlayErrorCallback(function(){l.reportPlaybackFailedToStartAfterPlay()}).withVideoAbortedHandler(y).withVideoSuspendedHandler(z).withTimeUpdateHandler(H).withVideoPlayPromiseRejectedHandler(I).withVideoPlayPromiseNotSupportedHandler(J);c.isIOSWebView()&&!c.canUseViewWillDisappearToReportMetrics()&&(x=x.withVideoPlayedToContinuousBoundaryHandler(2E3,G));var A=x.build();r.videoPlayer=A;d.find("a").click(function(){r.logClick()});
x=d.find('[data-itemid\x3d"sbv-video-mute-click-region"]');r.$muteClickRegion=x;r.$muteIcon=d.find('[data-itemid\x3d"sbv-video-mute-icon"]');r.$unmuteIcon=d.find('[data-itemid\x3d"sbv-video-unmute-icon"]');r.setMuteButtonStatus(A.isMuted());x.click(function(){r.updateMuteClickRegionAriaPressed();r.toggleAudio();r.$debugInfoCopiedHint&&r.$debugInfoCopiedHint.length&&(k+=1,5===k&&(r.copyDebugInfoToClipboard(),k=0));if(!A.isMuted())r.onVideoUnmute(m)});x.keydown(function(a){if(" "===a.key||"Enter"===
a.key||"Spacebar"===a.key)a.preventDefault(),r.updateMuteClickRegionAriaPressed(),r.toggleAudio()});x=d.find(".sbv-duration-ticker-seconds");r.$durationTickerSeconds=x;x=d.find(".sbv-duration-ticker-container");r.$durationTicker=x;x=d.find('[data-itemid\x3d"sbv-video-play-click-region"]');r.$playButtonClickRegion=x;x.click(function(){r.manualPlay()});d=d.find(".sbv-video-debug-info-copied-message-container");r.$debugInfoCopiedHint=d;(d=b.init())?d.then(function(){navigator.onLine&&(r.load(),r.showPlayButton(!0),
l.reportAdBlockDetected())}).catch(function(){C()}):C()}}}});t.when("A","sbv-slideshow-mixin").register("sbv-slideshow",function(f,n){var h=function(){this.metricsManager=this.carousel=p;this.numOfSlides=this.currentSlideIndex=0};f.mixin(h.prototype,n);return{initialize:function(f,c){var d=new h;d.init(f,c);c.reportSlideshowLoadCompleted(d.numOfSlides);return d}}});t.when("A","a-carousel-framework","sbv-viewability-manager","sbv-metrics-manager").register("sbv-slideshow-mixin",function(f,n,h,g){var c=
0,d=0,b=0,k=this,a=function(a,b){k.carousel===p?k.metricsManager.reportSlideshowLoadFailed(k.numOfSlides,"slideshow.carousel is undefined"):b?(d=f.interval(function(){c+=1},1),k.metricsManager.reportSlideshowOnScreen(k.numOfSlides),e(!0)):(k.status="IDLE",k.metricsManager.reportSlideshowOffScreen(k.numOfSlides,c),clearInterval(d),c=0,e(!1))},e=function(a){a&&k.autoRotate===p?k.autoRotate=f.interval(function(){k.status="AUTO_PLAYING";k.carousel.gotoNextPage({accessibleSafe:!0})},2500):(b=0,k.autoRotate!==
p&&(clearInterval(k.autoRotate),k.autoRotate=p))};return{onFiftyPercentViewability:a,autoPlay:e,init:function(c,d){var g=f.$(c),p=g.get(0);k=this;k.metricsManager=d;n.onInit("sbv-slideshow-carousel",function(c){k.carousel=c;k.numOfSlides=k.carousel.getAttr("totalPages");k.status="IDLE";c=k.carousel.dom.$viewport;f.on("a:pan-horizontal:"+c[0].id,function(a){k.status="SWIPING";e(!1);a.ended&&e(!0)});c.bind(f.action.end,function(a){"SWIPING"===k.status&&k.metricsManager.reportSlideshowSwiped(k.numOfSlides);
e(!0)});g.find("a").click(function(){k.metricsManager.reportSlideshowClicked(k.numOfSlides,k.currentSlideIndex)});f.on("a:carousel:sbv-slideshow-carousel:change:pageNumber",function(a){var e=a.newValue-1;k.currentSlideIndex=e;var c=a.oldValue-1;0===e&&c===k.numOfSlides-1&&(b+=1,k.metricsManager.reportSlideshowLoop(k.numOfSlides,b));f.$(".sbv-slideshow-pagination-container").each(function(){f.$(this).children("ul").children("li:eq("+c+")").removeClass("a-selected");f.$(this).children("ul").children("li:eq("+
e+")").addClass("a-selected")})});h.registerElement(this.attribution,p,.5,!0,!0,!0,a)});return this}}});t.when("A","sbv-multi-brand-video-carousel-mixin").register("sbv-multi-brand-video-carousel",function(f,n){var h=function(){this.currentPlayingIndex=this.mbvCarouselItemElements=p};f.mixin(h.prototype,n);return{initialize:function(f,c,d,b){var k=new h;k.init(f,c,d,b);return k}}});t.when("A","a-carousel-framework","sbv-video","sbv-single-product","sbv-viewability-manager","sbv-metrics-manager").register("sbv-multi-brand-video-carousel-mixin",
function(f,n,h,g,c,d){var b=this,k=function(a){a=a.newValue-1;var c=b.mbvCarouselItemElements[b.currentPlayingIndex].video;c.onFiftyPercentViewability(0,!1);c.onOnePercentViewability(0,!1);c=b.mbvCarouselItemElements[a].video;c.onOnePercentViewability(1,!0);c.onFiftyPercentViewability(1,!0);b.currentPlayingIndex=a},a=function(a,c,d,f){a.get().reduce(function(a,b){var e=b.getElementsByClassName("sbv-video")[0],e=h.initialize(d,e,c,f),k=b.getElementsByClassName("sbv-product")[0],k=g.initialize(k,c,
e);a[b.dataset.mbvIndex]={video:e,product:k};return a},b.mbvCarouselItemElements)};return{init:function(c,d,g,m){b.mbvCarouselItemElements={};b.currentPlayingIndex=0;var h=c.find(".sbv-mbv-carousel-element");n.onInit("mbv-carousel",function(b){a(h,d,g,m);f.on("a:carousel:mbv-carousel:change:pageNumber",k)});return this},onCarouselPageChange:k,initializeCarouselElements:a,getMbvCarouselItemElements:function(){return b.mbvCarouselItemElements}}});t.when("A").register("sbv-page-state",function(f){function n(g,
c){var d=h();d[g]=c;f.state("sb-video-state",d)}function h(){return f.state("sb-video-state")||{}}return{addItem:n,getItem:function(f){return h()[f]},getState:h,removeItem:function(g){var c=h();delete c[g];f.state("sb-video-state",c)},updateItem:n}});"use strict";t.when("sbv-retryable","sbv-platform-compatibility").register("sbv-video-player-builder",function(f,n){function h(c){var a=this,e=0,d=0;this._videoElement=c;this._onVideoBufferingEnded=this._onVideoBufferingStarted=this._onPlaybackCompleted=
this._onPlaybackPaused=this._onVideoPlaying=this._onVideoPlaybackFailure=this._onTimeToFirstFrame=this._onVideoReadyForPlayback=p;this._lastOnTimeUpdateCurrentTimeMs=0;this._boundaryChecks=[];this._continuousDurationBoundaryChecks=[];this._retryable=null;this._registerEventListeners=function(){var c=a._videoElement;c.oncanplay=function(){return a._handleVideoReadyForPlaybackEvent()};c.onerror=function(){!a._assetLoaded&&3>a._retryLoadCount?(a._retryLoadCount++,setTimeout(a._videoElement.load.bind(a._videoElement),
2E3)):a._handleVideoPlaybackFailureEvent()};c.onplaying=function(){a._handleFirstFramePlayedEvent();a._playbackstate===b.BUFFERING&&a._onVideoBufferingEnded(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames());a._playbackstate!==b.END&&a._onVideoPlaying(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames());a._playbackstate=b.PLAYING};c.onpause=function(){a._videoElement.currentTime!==a._videoElement.duration&&(a._playbackstate=b.PAUSED,a._onPlaybackPaused(a.getCurrentTimeMs(),
a.getPercentDownloaded(),a.getDroppedFrames()))};c.onended=function(){a._playbackstate=b.END;var c=a.getDurationMs();d+=c-e;e=0;a._onPlaybackCompleted(a.getDurationMs(),a.getDroppedFrames());a._playInternal()};c.onwaiting=function(){a._playbackstate=b.BUFFERING;a._onVideoBufferingStarted(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames())};c.ontimeupdate=function(){a.cancelPlayRetryable();var b=a.getCurrentTimeMs(),c=a.getDurationMs(),e=a.getContinuousPlaybackDurationMs();a._continuousDurationBoundaryChecks.forEach(function(a){a.reportIfBoundaryCrossed(e)});
a._boundaryChecks.forEach(function(c){c.reportIfBoundaryCrossed(a._lastOnTimeUpdateCurrentTimeMs,b,a.getDurationMs(),a.getPercentDownloaded(),a.getDroppedFrames())});a._lastOnTimeUpdateCurrentTimeMs=b;a._onTimeUpdated(b,c)};c.onabort=function(){var b=a.getCurrentTimeMs();a._onAborted(b)};c.onsuspend=function(){var b=a.getCurrentTimeMs();a._onSuspended(b)}};this._getDateTime=function(){return(new Date).getTime()};this._playInternal=function(){a._initiatedPlayTime||(a._initiatedPlayTime=a._getDateTime());
var b=a._videoElement.play();b?b.catch(function(b){var c="Unknown";"string"===typeof b?c=b:b instanceof DOMException&&(c=b.name+": "+b.message);a._onVideoPlayPromiseRejected(c)}):a._onVideoPlayPromiseNotSupported()};this.cancelPlayRetryable=function(){a._retryable&&(a._retryable.cancel(),a._retryable=null)};this._init=function(){a._playbackstate=b.INITIATED;a._loadStartTime=a._getDateTime();a._assetLoaded=!1;a._retryLoadCount=0;a._firstFramePlayed=!1;a._initiatedPlayTime=p};this._init();this._registerEventListeners();
this._handleVideoReadyForPlaybackEvent=function(){if(!a._assetLoaded){var b=a._loadStartTime,c=a._getDateTime();a._onVideoReadyForPlayback(c-b,a._retryLoadCount,a.getPercentDownloaded(),a.getDurationMs(),b,c);a._assetLoaded=!0}};this._handleFirstFramePlayedEvent=function(){if(!a._firstFramePlayed){var b=a._initiatedPlayTime,c=a._getDateTime();a._onTimeToFirstFrame(c-b,a.getPercentDownloaded(),a.getDroppedFrames(),b,c);a._firstFramePlayed=!0}};this._handleVideoPlaybackFailureEvent=function(){var b=
a._videoElement;if(b.error){var c="UNKNOWN";if(b.error.code)switch(b.error.code){case 1:c="MEDIA_ERR_ABORTED";break;case 2:c="MEDIA_ERR_NETWORK";break;case 3:c="MEDIA_ERR_DECODE";break;case 4:c="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:c=b.error.code.toString()}a._onVideoPlaybackFailure(a.getCurrentTimeMs(),c,b.error.message)}};this.addVideoReadyForPlaybackListener=function(b){a._onVideoReadyForPlayback=b;4==a._videoElement.readyState&&(a._onVideoReadyForPlayback(0,0,a.getPercentDownloaded(),a.getDurationMs(),
0,0),a._assetLoaded=!0)};this.addVideoPlaybackFailureListener=function(b){a._onVideoPlaybackFailure=b;if(a._videoElement.error&&a._videoElement.error.code)a._videoElement.onerror()};this.play=function(){n.isIOS()?(a._retryable&&a.cancelPlayRetryable(),a._retryable=new f(a._playInternal,10,200,function(){a._assetLoaded&&null!=a._playbackFailedAfterPlayErrorCallback&&a._playbackFailedAfterPlayErrorCallback()})):a._playInternal()};this.pause=function(){a.cancelPlayRetryable();a._videoElement.pause()};
this.seekToStart=function(){var b=a.getCurrentTimeMs();d+=b-e;e=0;a._lastOnTimeUpdateCurrentTimeMs=0;a._videoElement.currentTime=0};this.mute=function(){a._videoElement.muted=!0};this.unmute=function(){a._videoElement.muted=!1};this.isMuted=function(){return a._videoElement.muted};this.getCurrentTimeMs=function(){return Math.round(1E3*a._videoElement.currentTime)};this.getDurationMs=function(){return Math.round(1E3*a._videoElement.duration)};this.getDroppedFrames=function(){return a._videoElement.getVideoPlaybackQuality?
a._videoElement.getVideoPlaybackQuality().droppedVideoFrames:a._videoElement.webkitDroppedFrameCount!=p?a._videoElement.webkitDroppedFrameCount:-1};this.getContinuousPlaybackDurationMs=function(){return d+(a.getCurrentTimeMs()-e)};this.resetContinuousPlaybackDurationMs=function(){var b=a.getCurrentTimeMs();d=0;e=b===a.getDurationMs()?0:b;a._continuousDurationBoundaryChecks.forEach(function(a){a.resetReported()})};this.getPercentDownloaded=function(){var b=a._videoElement.buffered,c=0;if(b){for(var e=
0;e<b.length;e++)c+=b.end(e)-b.start(e);return c/a._videoElement.duration}return 0};this.load=function(){a._videoElement.load()}}function g(b,a){this.reportIfBoundaryCrossed=function(c,d,f,g,h){!isNaN(b)&&0<=b&&b<=f&&(c<=d?b>c&&b<=d&&a(b,g,h):(0<b&&b<=d||b>c&&b<=f)&&a(b,g,h))}}function c(b,a){var c=!1;this.resetReported=function(){c=!1};this.reportIfBoundaryCrossed=function(d){var f;if(f=!c)f=!isNaN(b)&&0<=b&&b<d;f&&(c=!0,a(d))}}function d(b){var a=this;this._videoPlayer=new h(b);this.withVideoReadyForPlaybackHandler=
function(b){a._videoPlayer.addVideoReadyForPlaybackListener(b);return a};this.withTimeToFirstFrameHandler=function(b){a._videoPlayer._onTimeToFirstFrame=b;return a};this.withVideoPlaybackFailureHandler=function(b){a._videoPlayer.addVideoPlaybackFailureListener(b);return a};this.withVideoPlayingHandler=function(b){a._videoPlayer._onVideoPlaying=b;return a};this.withVideoPlaybackPausedHandler=function(b){a._videoPlayer._onPlaybackPaused=b;return a};this.withPlaybackCompletedHandler=function(b){a._videoPlayer._onPlaybackCompleted=
b;return a};this.withVideoBufferingStartedHandler=function(b){a._videoPlayer._onVideoBufferingStarted=b;return a};this.withVideoBufferingEndedHandler=function(b){a._videoPlayer._onVideoBufferingEnded=b;return a};this.withVideoPlayedToBoundaryHandler=function(b,c){a._videoPlayer._boundaryChecks.push(new g(b,c));return a};this.withVideoPlayedToContinuousBoundaryHandler=function(b,d){a._videoPlayer._continuousDurationBoundaryChecks.push(new c(b,d));return a};this.withVideoPlaybackFailedAfterPlayErrorCallback=
function(b){a._videoPlayer._playbackFailedAfterPlayErrorCallback=b;return a};this.withVideoAbortedHandler=function(b){a._videoPlayer._onAborted=b;return a};this.withVideoSuspendedHandler=function(b){a._videoPlayer._onSuspended=b;return a};this.withTimeUpdateHandler=function(b){a._videoPlayer._onTimeUpdated=b;return a};this.withVideoPlayPromiseRejectedHandler=function(b){a._videoPlayer._onVideoPlayPromiseRejected=b;return a};this.withVideoPlayPromiseNotSupportedHandler=function(b){a._videoPlayer._onVideoPlayPromiseNotSupported=
b;return a};this.build=function(){var b=a._videoPlayer;if(b._onVideoReadyForPlayback&&b._onTimeToFirstFrame&&b._onVideoPlaybackFailure&&b._onVideoPlaying&&b._onPlaybackPaused&&b._onPlaybackCompleted&&b._onVideoBufferingStarted&&b._onVideoBufferingEnded&&b._onAborted&&b._onSuspended&&b._onTimeUpdated&&b._onVideoPlayPromiseRejected&&b._onVideoPlayPromiseNotSupported)return a._videoPlayer;throw Error("Need implements all event listeners");}}var b={PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",
INITIATED:"initiated",END:"ended"};return{builder:function(b){return new d(b)}}});t.register("sbv-event-manager",function(){function f(f){var c=0,d;for(d in f)c++;return c}function n(f,c,d){return function(b){h[c]&&h[c][d]&&h[c][d].listeners.forEach(function(c){if(c.callback)try{c.callback(b)}catch(a){t.log(a&&a.message||"Unknown error in callback.","ERROR",f),ue&&ue.count&&ue.count("sbv-js-errors",(ue.count("sbv-js-errors")||0)+1)}})}}var h={};return{addEventListener:function(f,c,d,b,k){h[c]||(h[c]=
{});h[c][d]||(h[c][d]={listeners:[],generatedCallback:n(f,c,d)},c.addEventListener(d,h[c][d].generatedCallback));h[c][d].listeners.push({priority:b,callback:k});h[c][d].listeners.sort(function(a,b){return a.priority-b.priority})},removeEventListener:function(g,c,d,b){h[g]&&h[g][c]&&(h[g][c].listeners=h[g][c].listeners.filter(function(c){return c.priority!==d||c.callback!==b}),0===h[g][c].listeners.length&&(g.removeEventListener(c,h[g][c].generatedCallback),delete h[g][c],f(h[g])&&delete h[g]))}}});
"use strict";t.when("A","amzn-safe-frame-viewability","sbv-platform-compatibility","sbv-event-manager").register("sbv-viewability-manager",function(f,n,h,g){function c(a,b){a.isInView=b;a.callback(a.ratio,b);a.recurring||m(a.element,a.ratio,a.dispatchOnElementInView,a.dispatchOnElementOutOfView,a.recurring)}function d(a,b){a.dispatchOnElementInView&&b>=a.ratio&&!a.isInView&&c(a,!0);a.dispatchOnElementOutOfView&&b<a.ratio&&a.isInView&&c(a,!1)}function b(a){d(a,0)}function k(a){var b=n.geom(a.element);
d(a,b&&b.self&&b.self.iv||0)}function a(){w.forEach(b)}function e(){w.forEach(k)}function p(){document.hidden?a():setTimeout(e,50)}function l(){a();e()}function m(b,c,d,k,m){var n=w.length;w=w.filter(function(a){return!(a.element===b&&a.ratio===c&&a.dispatchOnElementInView===d&&a.dispatchOnElementOutOfView===k&&a.recurring===m)});0===w.length&&(f.off("afterReady",v),f.off(f.constants.BROWSER_EVENTS.SCROLL,v),f.off(f.constants.BROWSER_EVENTS.RESIZE,v),f.off(f.constants.BROWSER_EVENTS.ORIENTATION_CHANGE,
v),g.removeEventListener(document,"visibilitychange",1,p),g.removeEventListener(u,"beforeunload",1,a),h.isWebView()||(g.removeEventListener(u,"focus",1,e),g.removeEventListener(u,"blur",1,a)),h.isSafari()&&!h.isWebView()&&(g.removeEventListener(u,"pagehide",1,a),g.removeEventListener(u,"pageshow",1,e),g.removeEventListener(u,"popstate",1,l)));return n!==w.length}function t(){h.canUseViewWillDisappearToReportMetrics()&&!D&&(D=!0,u.app||(u.app={}),N=u.app.willDisappear,u.app.willDisappear=function(){a();
N&&N()})}var w=[],v,N,D=!1;v=f.throttle(function(){w.forEach(k)},50);return{registerElement:function(b,c,d,m,n,y,z){c={element:c,ratio:d,dispatchOnElementInView:m,dispatchOnElementOutOfView:n,recurring:y,callback:z};0===w.length&&(f.on("afterReady",v),f.on(f.constants.BROWSER_EVENTS.SCROLL,v),f.on(f.constants.BROWSER_EVENTS.RESIZE,v),f.on(f.constants.BROWSER_EVENTS.ORIENTATION_CHANGE,v),g.addEventListener(b,document,"visibilitychange",1,p),h.isWebView()||(g.addEventListener(b,u,"focus",1,e),g.addEventListener(b,
u,"blur",1,a)),h.isSafari()&&!h.isWebView()&&(g.addEventListener(b,u,"pagehide",1,a),g.addEventListener(b,u,"pageshow",1,e),g.addEventListener(b,u,"popstate",1,l)),t());w.push(c);k(c);return c},deregisterElement:m,_handleRatioInViewChange:d,_onBrowserVisibilityChange:p}})});
/* ******** */
(function(d){var u=window.AmazonUIPageJS||window.P,m=u._namespace||u.attributeErrors,b=m?m("SearchQuestionAnswerWidgetAssets",""):u;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,u,m){d.when("A","ready").execute("aspa-partial-collapse-expander",function(b){b.on("a:expander:qna_answer_expander:toggle:expand",function(b){b.expander.$expander.find(".a-expander-partial-collapse-header").addClass("aok-hidden");b.expander.$expander.find(".a-expander-partial-collapse-content").addClass("aspa-padding-none")});
b.on("a:expander:qna_question_expander:toggle:expand",function(k){var c=k.expander.$expander.find(".s-line-clamp-2");c.addClass("aok-block").removeClass("aok-inline-block");b.delay(function(){c.addClass("aok-inline-block").removeClass("aok-block")},0);d.when("aspa-sqa-event-module").execute("aspa-sqa-register-event",function(a){var b,c;k.expander.$expander.find("#aspa-sqa-event")&&k.expander.$expander.find("#aspa-sqa-event")[0]&&k.expander.$expander.find("#aspa-sqa-event")[0].dataset&&(b=k.expander.$expander.find("#aspa-sqa-event")[0].dataset.aspaSqaEventUrl,
c=k.expander.$expander.find("#aspa-sqa-event")[0].dataset.aspaSqaEventCsrftoken,b&&c&&a.registerSqaEvent(b.concat("\x26aspa_ctype\x3dquestion_expansion"),c))});d.when("a-expander").execute("aspa-question-expander",function(a){a.initializeExpanders()})})});"use strict";d.when("jQuery","rush-framework","a-button","lagoon-feedback-form").register("aspa-voting-component",function(b,k,c,a){function h(a,e){for(var f=0;f<a.length;++f)if(a[f].name===e)return a[f].value;return null}function g(a){var e={};
b.map(a,function(a){e[a.name]=a.value});return e}function n(c){function e(){z||(y.addClass("aok-hidden"),A.addClass("aok-hidden"),w.removeClass("aok-hidden"))}function f(a){a.feedbackSelectors={feedbackContainer:q,buttonSection:q.find(".aspa-vote-buttons"),loadingSection:q.find(".aspa-loading-section"),successSection:q.find(".aspa-success-section"),errorSection:q.find(".aspa-error-section")}}function n(){z?(f(c.currentTarget),a.show(c.currentTarget)):D.removeClass("aok-hidden")}function k(a){401===
a.status?(l.unbind("submit"),l.submit()):(y.removeClass("aok-hidden"),A.removeClass("aok-hidden"))}function d(a){401!==a.status&&w.addClass("aok-hidden")}function p(){for(var e={},b=0;b<x.length;++b)"csm-producer"!==x[b].name&&"csm-schema"!==x[b].name&&(e[x[b].name]=x[b].value);u.ue&&u.ue.event&&u.ue.event(e,E,F);z?(f(c.currentTarget),a.show(c.currentTarget)):(y.addClass("aok-hidden"),A.addClass("aok-hidden"),D.removeClass("aok-hidden"))}var l=b(c.currentTarget),q=l.closest(".aspa-feedback-container"),
y=q.find(".aspa-vote-buttons"),w=q.find(".aspa-loading-section"),D=q.find(".aspa-success-section"),A=q.find(".aspa-error-section"),B=l.attr("action"),G=l.attr("method"),x=l.serializeArray(),C=g(x),E=h(x,"csm-producer"),F=h(x,"csm-schema"),z="THUMBS_DOWN"===(l[0]&&l[0].mainFeedback?l[0].mainFeedback.value:null)&&l[0].useFollowupFeedback&&"true"===l[0].useFollowupFeedback.value,m={"X-Requested-With":"XMLHttpRequest"};c.preventDefault();B?"application/json"===C.contentType?(delete C.contentType,b.ajax({url:B,
type:G,contentType:"application/json",data:JSON.stringify(C),withCredentials:!0,headers:m,beforeSend:e,success:n,error:k,complete:d})):b.ajax({url:B,type:G,data:x,withCredentials:!0,headers:m,beforeSend:e,success:n,error:k,complete:d}):E&&F&&p()}k.registerComponent("aspa-voting-component","aspa-voting-component",function(a){a=b(a.elem()).find(".aspa-vote-form");var e=c(".aspa-upvote-button"),f=c(".aspa-downvote-button");e.isEnabled()||e.enable();f.isEnabled()||f.enable();a.submit(n)})});"use strict";
d.when("A").register("aspa-sqa-event-module",function(b){return{registerSqaEvent:function(k,c){var a={};a["anti-csrftoken-a2z"]=c;b.post(k,{headers:a,timeout:500})}}});d.when("A","rush-framework").register("aspa-impression-logger",function(b,k){k.registerComponent("aspa-impression-logger","aspa-impression-logger",function(c){function a(a){a={request_id:f,slot_id:d,strategy_id:t,marketplace_id:v,subwidget_index:parseInt(p,10),subwidget_id:l,is_subwidget_preexpanded:a?1:0,is_subwidget_opened:null,is_subwidget_closed:null};
u.ue.event(a,n,r)}function k(){var a;g=!g;a={request_id:f,slot_id:d,strategy_id:t,marketplace_id:v,subwidget_index:parseInt(p,10),subwidget_id:l,is_subwidget_preexpanded:null,is_subwidget_opened:g?1:null,is_subwidget_closed:g?null:1};u.ue.event(a,n,r)}var g=!1,n=c.prop("nexusId"),r=c.prop("schemaId"),e=c.prop("eventName"),f=c.prop("requestId"),d=c.prop("slotId"),t=c.prop("strategyId"),v=c.prop("marketplaceId"),p=c.prop("subwidgetIndex"),l=c.prop("subwidgetId"),q=c.prop("isSubwidgetPreexpanded");n&&
r&&f&&e&&d&&t&&p&&l&&q&&v&&("0"===p&&(g="true"===q,a(g)),b.on(e,k),c.teardown=function(){b.off(e,k)})})});d.when("A","jQuery","rush-framework").register("aspa-asin-click-logger",function(b,k,c){c.registerComponent("aspa-asin-click-logger","aspa-asin-click-logger",function(a){function b(){var a={request_id:e,slot_id:f,strategy_id:d,marketplace_id:t,subwidget_index:parseInt(v,10),subwidget_id:p,is_clicked:1,asin:l,asin_index:parseInt(q,10),is_ad_asin:parseInt(m,10)};u.ue.event(a,c,n)}var c=a.prop("nexusId"),
n=a.prop("schemaId"),r=a.prop("eventScope"),e=a.prop("requestId"),f=a.prop("slotId"),d=a.prop("strategyId"),t=a.prop("marketplaceId"),v=a.prop("subwidgetIndex"),p=a.prop("subwidgetId"),l=a.prop("asin"),q=a.prop("asinIndex"),m=a.prop("isAdAsin");c&&n&&r&&e&&f&&d&&v&&p&&l&&q&&m&&t&&k("#"+r).delegate("a","click",b)})});d.when("jQuery","rush-framework","s-component-utils","rush-util","s-actions").register("aspa-qna-asin-ajax-loader",function(b,k,c,a,h){function g(a,b){b&&b.$target&&0<b.$target.length&&
(b=b.$target.closest("[data-action\x3dqaAjaxEnabledClickExpander]"))&&0<b.length&&(b=b.find(".qna-asin-ajax-loader-error-section"))&&0<b.length&&(a?b.show():b.hide())}function n(a,b,e){var c;e&&e.$target&&0<e.$target.length&&(e=e.$target.closest("[data-action\x3dqaAjaxEnabledClickExpander]"))&&0<e.length&&((c=e.find(".qna-asin-ajax-loader-spinner"))&&0<c.length&&(a?c.show():c.hide()),(a=e.find(".qna-asin-ajax-loader-header"))&&0<a.length&&(b?a.show():a.hide()))}function r(a){var b=u.ue;b&&b.count&&
b.count(a,1)}function e(a){g(!0,a);n(!1,!1,a);r("qna_question_click_failure_ajax_content_loading")}function f(c,f,k){var d=f.find(".qna-ajax-content-span"),g=d.attr("data-ajaxUrl"),h=d.attr("data-asinIdToMetadata"),d={},m,t;if(a.isNotBlank(g)&&a.isNotBlank(h)&&(f=f.find(".s-ajax-loader-qna-carousel-item"))&&0<f.length){d.suffix=":"+y;d.asinIdToMetadata=h;q[w]=f.length;for(m=0;m<f.length;m++)t=f[m].getAttribute("data-asin"),h=p.hasOwnProperty(t)?p[t]:[],h.push(f[m]),p[t]=h,l[t]=!1;n(!0,!1,k);c.requestPartialContent(g,
d).then(function(){var a,f=0,c,d=k.$target.closest("[data-action\x3dqaAjaxEnabledClickExpander]"),h,g;if(d&&0<d.length){d=d[0].id+"_"+b(d[0].closest("[data-uuid]")).attr("data-uuid");for(a in l)if(l.hasOwnProperty(a)&&!l[a])for(h=p[a],g=0;g<h.length;g++)(c=b(h[g]).closest("[data-action\x3dqaAjaxEnabledClickExpander]"))&&0<c.length&&(c=c[0].id+"_"+b(c[0].closest("[data-uuid]")).attr("data-uuid"),d===c&&(f+=1,r("qna_question_click_failure_ajax_asin_loading"),(c=b(h[g]).closest(".a-carousel-card"))&&
0<c.length&&(c.remove(),p[a]&&p[a].length>g&&p[a].splice(g,1)),0===p[a].length&&(l[a]=!0)));a=f;a===q[d]?e(k):(n(!1,!0,k),0===a&&r("qna_question_click_success_ajax_content_loading"))}}).catch(function(){e(k)})}}var m,t=!1,v={},p={},l={},q={},y,w;(c=b.find(".aspa-qna-asin-ajax-loader"))&&0<c.length&&(y=b(c[0].closest("[data-uuid]")).attr("data-uuid"));d.when("A","s-web-application-controller").execute(function(a,c){a.declarative("qaAjaxEnabledClickExpander","click",function(a){try{t=!1,(m=a.$target.closest("[data-action\x3dqaAjaxEnabledClickExpander]"))&&
0<m.length&&(w=m[0].id+"_"+b(m[0].closest("[data-uuid]")).attr("data-uuid"),!v.hasOwnProperty(w)||v.hasOwnProperty(w)&&!v[w])&&(t=v[w]=!0),t&&(g(!1,a),n(!1,!1,a),f(c,m,a))}catch(d){e(a)}})});k.registerComponent("aspa-qna-asin-ajax-loader","aspa-qna-asin-ajax-loader",function(a){a.on(h.RESULT_ITEM_READY+":"+y,function(a){var c,f,e,d;try{if(p.hasOwnProperty(a.item.asin)&&l.hasOwnProperty(a.item.asin)){e=p[a.item.asin];for(d=0;d<e.length;d++)c=a.item.html,c=c.replace("s-card-container","s-card-container s-card-drop-shadow"),
c=c.replace("s-result-item","s-result-item s-expand-height"),c.indexOf("sg-col-6-of-")&&(c=c.replace("sg-col-6-of-","sg-col-7-of-")),b(e[d]).html(c);l[a.item.asin]=!0;(f=b(p[a.item.asin]).closest(".a-carousel-viewport"))&&0<f.length&&f.height("100%")}}catch(k){r("qna_question_click_failure_ajax_content_loading")}})})});"use strict";d.when("A","jQuery","a-modal","ready").register("lagoon-feedback-form-modal",function(b,d,c){var a=null,h=null,g=null,n={name:"lagoon-feedback-form-modal",width:480,height:400,
header:"",data:""};return{show:function(b){b&&(n.data=b,a=n,a.header=b.detailFeedbackWelcomeText.value,n.url=b.url,null===g&&(h=d("\x3cdiv/\x3e",{id:"lagoon-feedback-modal"}),d(document.body).append(h),g=c.create(h,n)),g.update(a).lock().show())},hide:function(){g.unlock().hide()}}});"use strict";d.when("A","jQuery","ready").register("lagoon-feedback-form-bottom-sheet",function(b,k){function c(a,b){var c=h.instance.getContentContainer();k.ajax(a).done(function(a){c.html(a)}).fail(function(){c.html('\x3cdiv class\x3d"lagoon-feedback-form-error"\x3e'+
b+"\x3c/div\x3e")});c.addClass("lagoon-feedback-bottom-sheet-container-round-corner")}var a=null,h=null,g=k('\x3cdiv class\x3d"a-spinner-wrapper"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium lagoon-feedback-bottom-sheet-spinner"\x3e\x3c/span\x3e\x3c/div\x3e');d.when("a-sheet").execute("init",function(c){var b;b=360>u.innerWidth?.7*u.innerHeight:385;h={id:0,instance:null,options:{name:"lagoon-feedback-form-bottom-sheet",height:b,inlineContent:g.html(),closeType:"message"}};a=c});b.on("a:sheet:beforeShow:lagoon-feedback-form-bottom-sheet",
function(a){(a=a.sheet?a.sheet.getContentContainer():m)&&0<a.length&&a.addClass("lagoon-feedback-bottom-sheet-container-round-corner")});return{show:function(b){var d;null!==a&&b&&(h.options.data=b,null===h.instance&&(h.instance=a.create(h.options)),a.showSheet(h.instance),h.instance.$container.attr("id","lagoon-feedback-bottom-sheet-container"),d=b.detailFeedbackSomethingWrongText.value,c(b.url,d))},hide:function(){a.hideSheet(h.instance)},afterHide:function(){h.instance.getContentContainer().html(g.html())}}});
"use strict";d.when("A","jQuery","lagoon-feedback-form-modal","lagoon-feedback-form-bottom-sheet","ready").register("lagoon-feedback-form-instance",function(b,d,c,a){return{getFeedbackForm:function(){return/(^| )a-mobile( |$)/.test(document.documentElement.className)?a:c}}});"use strict";d.when("A","jQuery","a-tooltip","lagoon-feedback-form-instance","ready").register("lagoon-feedback-form",function(b,d,c,a){function h(b){var c=a.getFeedbackForm();return d.isFunction(c[b])}function g(){e.feedbackSelectors.buttonSection.addClass("aok-hidden");
e.feedbackSelectors.loadingSection.addClass("aok-hidden");e.feedbackSelectors.successSection.removeClass("aok-hidden")}function n(){h("hide")&&a.getFeedbackForm().hide()}var r=!1,e={actionValue:"",cxId:"",feedbackOptionType:"",id:"",idType:"",url:"",detailFeedbackWelcomeText:"",detailFeedbackSomethingWrongText:"",feedbackSelectors:""};return{show:function(b){b&&b.id&&b.cxId&&b.idType&&b.feedbackSelectors&&b.feedbackOptionType&&b.detailFeedbackWelcomeText&&b.detailFeedbackSomethingWrongText?(e.id=
b.id.value,e.cxId=b.cxId.value,e.idType=b.idType.value,e.feedbackSelectors=b.feedbackSelectors,e.feedbackOptionType=b.feedbackOptionType.value,e.detailFeedbackWelcomeText=b.detailFeedbackWelcomeText.value,e.detailFeedbackSomethingWrongText=b.detailFeedbackSomethingWrongText.value,e.url="mashov/lagoon/feedback/form?feedbackOptionType\x3d"+b.feedbackOptionType.value+"\x26answerResponseId\x3d"+b.id.value,b.url=e.url,e.actionValue="",r=!1,a.getFeedbackForm().show(b)):g()},submit:function(a){""!==e.actionValue&&
(d.ajax({type:"POST",url:"/mashov/v1/feedback",data:JSON.stringify({cxId:e.cxId,idType:e.idType,id:e.id,detailFeedback:e.actionValue,feedbackType:"DETAIL_FEEDBACK"}),contentType:"application/json"}),e.actionValue="",r=!1,g(a),n())},hide:n,update:function(a){e.actionValue=a.data.optionStringId;var b,c=null;r||(a=d("#lagoon-feedback-submit-mobile"),b=d("#lagoon-feedback-submit-desktop"),a[0]!==m?(a.removeClass("a-button-disabled"),a.css("background-color","#007185"),c=a.find(".a-button-input")):b[0]!==
m&&(b.removeClass("a-button-disabled"),c=b.find(".a-button-input")),c&&c[0]!==m&&(c[0].disabled=!1),r=!0)},afterHide:function(){h("afterHide")&&a.getFeedbackForm().afterHide();e.actionValue="";r=!1;g()},setDefaultFeedbackContext:function(){e.idType="ANS_RES_ID";e.id="TEST_ID";e.cxId="LAGOON_FEEDBACK"}}});"use strict";d.when("A","jQuery","lagoon-feedback-form","ready").execute("lagoon-feedback-form-signals",function(b,d,c){b.declarative("lagoon-feedback-submit-button-click","click",function(a){c.submit(a)});
b.declarative("lagoon-feedback-cancel-button-click","click",function(a){c.hide(a)});b.declarative("lagoon-accordion-detail-feedback-click","click",function(a){c.update(a)});b.on("a:sheet:afterHide:lagoon-feedback-form-bottom-sheet",function(a){c.afterHide(a)});b.on("a:popover:afterHide:lagoon-feedback-form-modal",function(a){c.afterHide(a)})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("PantryCPIMobileAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(k){var v=window.AmazonUIPageJS||window.P,w=v._namespace||v.attributeErrors,p=w?w("QuantitySliderAssets",""):v;p.guardFatal?p.guardFatal(k)(p,window):p.execute(function(){k(p,window)})})(function(k,v,w){function p(t,g){try{k.register(t,g)}catch(f){if(-1===f.message.indexOf("reregistered by QuantitySliderAssets"))throw f;}}function y(){var t=arguments;return{register:function(g,f){try{k.when.apply(k,t).register(g,f)}catch(d){if(-1===d.message.indexOf("reregistered by QuantitySliderAssets"))throw d;
}}}}k.when("QuantitySliderAssetDuplicationGuard").execute(function(t){t.when("A").register("qs-cart-count-handler",function(g){var f=g.$,d={DEFAULT:function(c,d,l,a,b){g.post("/gp/api/cart/1.0/get-cart-count.json",{timeout:5E3,params:{sessionID:c,clientName:d},success:function(b){b&&b.isOK&&b.total?f.isFunction(a)&&a(b.total.numActiveItem):k.log("Malformed get-cart-count response for sessionId\x3d"+c,"ERROR",l)},error:function(){k.log("Failed to retrieve get-cart-count response for sessionId\x3d"+
c,"ERROR",l);f.isFunction(b)&&b()}})},UFG:function(f,d,l,a,b){}};return{getTotalCartCount:function(c,g){return(f.isFunction(d[g])?d[g]:d.DEFAULT)(c.request.sessionId,c.clientName,c.attribution,c.onSuccess,c.onError)}}})});"use strict";k.when("QuantitySliderAssetDuplicationGuard").execute(function(t){t.when("A","quantity-slider-utils","qs-cart-update-utils").register("qs-cart-update-handler",function(g,f,d){function c(a){r||(r="quantity-slider-widget-"+a);return r}function x(a,b){if(!b.atcFormSubmitDisabled){if((a=
a.$target&&a.$target.closest(".qs-atc-form"))&&0!==a.length)return a;k.log("Missing $form object","ERROR",c(b.clientName))}}function l(b,m,c){g.trigger(f.ACTIONS.ADD_TO_CART_SUBMIT_START,{asin:b,cartType:m.cartType,clientName:m.clientName,isQSAction:c,request:m});a(b,m,!0,c)}function a(a,m,n,l){var u=m.cartType,e=JSON.stringify(l?d.getQSRequestObject(m,n,u):d.getATCRequestObject(m,u)),h=d.getAjaxUrl(m,n,u);h&&b.ajax({url:h,type:d.getHttpMethodType(n,u),data:e,headers:d.getHeadersForRequest(m,n,u),
xhrFields:{withCredentials:!0},success:function(h,e,b){h.jqXHR=b;delete q[a];(h=d.adaptResponseObject(h,m,n,m.cartType))?(f.setUpdatedQSParamsForAsinOffer(a,m.additionalParams&&m.additionalParams.storeId,{quantityInCart:h.quantity,cartItemId:h.itemId}),g.trigger(n?f.ACTIONS.ADD_TO_CART_SUBMIT_SUCCESS:f.ACTIONS.REMOVE_FROM_CART_SUBMIT_SUCCESS,{asin:a,cartType:m.cartType,request:m,response:h,clientName:m.clientName,attribution:c(m.clientName),isQSAction:l,isDecreaseQuantityAction:!n}),f.logUrl(m.loggingUrl)):
k.log("Invalid Response from the server","ERROR",c(m.clientName))},error:function(h){delete q[a];h=h||{};k.log("Ajax request failed with type: "+(n?"addItems":"modifyItems")+", status code: "+h.status+", error: "+h.responseText,"ERROR",c(m.clientName));g.trigger(f.ACTIONS.QS_CART_SUBMIT_ERROR,{asin:a,cartType:u,clientName:m.clientName,isQSAction:l,isDecreaseQuantityAction:!n,isMaxOrderQuantityReached:m.quantityInCart>=m.maxOrderQuantity,response:h,request:m});n&&m.$form&&m.$form.submit()}})}var b=
g.$,r="",q={};g.declarative("qs-add-to-cart-trigger","click",function(a){var b=a.data&&a.data.asin,c=f.getQsParamsFromTargetAsinOffer(a,b);a.$event&&a.$event.preventDefault();q[b]||(q[b]=!0,c.isMultipleAsinsSubmitting=1<Object.keys(q).length,c.$form=x(a,c),c.triggeringEvent=a,l(b,c,!1))});g.declarative("qs-slider-widget-trigger","click",function(b){var c=b.data&&b.data.asin,d=f.getQsParamsFromTargetAsinOffer(b,c),r=b.$target[0]&&b.$target[0].className||"",k=g.contains(r,"qs-increase-quantity")||g.contains(r,
"qs-decrease-quantity");r=g.contains(r,"qs-decrease-quantity");b.$event&&b.$event.preventDefault();k&&!q[c]&&(q[c]=!0,d.isMultipleAsinsSubmitting=1<Object.keys(q).length,d.triggeringEvent=b,r?(g.trigger(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_START,{asin:c,cartType:d.cartType,clientName:d.clientName,isQSAction:!0,isDecreaseQuantityAction:!0,request:d}),a(c,d,!1,!0)):(d.$form=x(b,d),l(c,d,!0)))});return{setAttribution:function(a){r=a}}})});"use strict";k.when("QuantitySliderAssetDuplicationGuard").execute(function(k){k.when("A",
"qs-fresh-cart-update-utils").register("qs-cart-update-utils",function(g,f){function d(h){var a=h.quantityInCart||0;return{items:[{asin:h.asinId,offerListingId:h.offerListingId,quantity:a<h.minOrderQuantity?h.minOrderQuantity-a:1}]}}function c(h,a,e){return(k.isFunction(a[e])?a[e]:a.DEFAULT)(h)}var k=g.$,l={DEFAULT:d,UFG:f.getUfgCartRequestObject},a={DEFAULT:d,UFG:f.getUfgCartRequestObject},b={DEFAULT:function(a){var h=a.quantityInCart||0;var e=a.cartItemId;e=!e||"C"!==e[0]&&"S"!==e[0]?e:e.substring(1);
return{items:[{id:e,quantity:h<=a.minOrderQuantity?0:h-1}]}},UFG:f.getUfgCartRequestObject},r={DEFAULT:function(a){return a.ajaxCartUrl},UFG:function(a){return a.addToCartUrl}},q={DEFAULT:function(a){return a.ajaxCartUrl}},u={DEFAULT:function(a){return(a=a.entity&&a.entity.items&&a.entity.items[0])?{itemId:a.id,quantity:a.quantity,isTotal:!0}:null},UFG:f.ufgCartResponseAdapter},m={DEFAULT:function(a,e){a=(e.quantityInCart||0)-1;return 0>a?null:{itemId:a?e.cartItemId:"",quantity:a,isTotal:!0}},UFG:f.ufgCartResponseAdapter},
n={DEFAULT:"POST",UFG:"POST"},t={DEFAULT:"PUT",UFG:"POST"},p={DEFAULT:function(a){return{"x-api-csrf-token":a.csrfToken,Accept:'application/vnd.com.amazon.api+json; type\x3d"cart.add-items/v1"',"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"cart.add-items.request/v1"'}},UFG:function(a){return{"Content-Type":"application/json"}}},e={DEFAULT:function(a){return{"x-api-csrf-token":a.csrfToken,Accept:'application/vnd.com.amazon.api+json; type\x3d"cart.modify-items/v1"',"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"cart.modify-items.request/v1"'}},
UFG:function(a){return{"Content-Type":"application/json"}}};return{getATCRequestObject:function(a,e){return c(a,l,e)},getQSRequestObject:function(e,f,d){return c(e,f?a:b,d)},adaptResponseObject:function(a,e,b,c){b=b?u:m;return(k.isFunction(b[c])?b[c]:b.DEFAULT)(a,e)},getHttpMethodType:function(a,e){a=a?n:t;return a[e]?a[e]:a.DEFAULT},getHeadersForRequest:function(a,b,c){b=b?p:e;return(k.isFunction(b[c])?b[c]:b.DEFAULT)(a)},getAjaxUrl:function(a,e,b){return c(a,e?r:q,b)}}})});"use strict";k.when("QuantitySliderAssetDuplicationGuard").execute(function(k){k.when("A").register("qs-fresh-cart-update-utils",
function(g){function f(f,c){return c&&c.items?c.items.find(function(c){return c.ASIN===f}):null}return{getUfgCartRequestObject:function(f){return f.additionalInput},ufgCartResponseAdapter:function(d,c){return(c=f(c.asinId,d.clientResponseModel))?{itemId:c.itemId,quantity:c.quantity,isTotal:!0,rawResponse:d}:{itemId:"invalidItemId",quantity:0,isTotal:!0,rawResponse:d}}}})});"use strict";k.when("QuantitySliderAssetDuplicationGuard").execute(function(k){k.when("A","quantity-slider-utils").register("quantity-slider-metrics-handler",
function(g,f){function d(a,b){return"QuantitySliderWidget::"+a+"::"+(b?b+"::":"")}function c(a){var b=v.ue;"undefined"!==typeof b&&b.count(a,1)}function k(a,b){f.assert(a&&b.clientName,"Missing required properties while logging metrics");if(b.isQSAction)if(b.isDecreaseQuantityAction){var g=l.QS_DECREASE;a=d(b.clientName,b.cartType)+a+"::"+g;c(a)}else g=l.QS_INCREASE,a=d(b.clientName,b.cartType)+a+"::"+g,c(a);else g=l.ATC,a=d(b.clientName,b.cartType)+a+"::"+g,c(a)}var l={ATC:"ATC",QS_INCREASE:"QSIncrease",
QS_DECREASE:"QSDecrease"};return{logRequestStartMetrics:function(a){k("CountStart",a)},logRequestSuccessMetrics:function(a){k("CountSuccess",a)},logRequestErrorMetrics:function(a){k("CountError",a)},logMaxQuantityReachedMetric:function(a){a=d(a.clientName,a.cartType)+"MaxQuantityReached";c(a)},logMultipleAsinsSubmittingMetric:function(a){a=d(a.clientName,a.cartType)+"MultipleAsinsSubmitting";c(a)}}})});"use strict";k.when("QuantitySliderAssetDuplicationGuard").execute(function(k){k.when("A","quantity-slider-utils",
"qs-cart-update-handler","quantity-slider-metrics-handler").register("quantity-slider-widget",function(g,f,d,c){function k(a,b,c,d){a=n(a,b,d);c?f.disableButton(a):f.enableButton(a)}function l(a,b,c){k("."+a+"-qs-slider-button .qs-decrease-quantity",a,b,c)}function a(a,b,c){k("."+a+"-qs-slider-button .qs-increase-quantity",a,b,c)}function b(a,b,c){k("."+a+"-qs-add-to-cart-button .qs-slider-atc-button",a,b,c)}function r(a){if(a.isQSAction){var e=a.asin,b=q(a);a.isDecreaseQuantityAction?f.deselectButton(n("."+
e+"-qs-slider-button .qs-decrease-quantity",e,b)):f.deselectButton(n("."+e+"-qs-slider-button .qs-increase-quantity",e,b))}}function q(a){return(a=(a=a.request)&&a.additionalInput)&&a.storeId}function u(e){var h=e.asin,d=q(e),g=n("."+h+"-qs-slider-spinner",h,d);f.toggleDomNodeVisibility(g,!1);e.isQSAction?(l(h,!1,d),a(h,!1,d)):b(h,!1,d);r(e);h=e.asin;f.assert(h&&e.request&&e.response&&e.response.quantity!==w,"Required properties missing in payload object for UpdateQSWidget");d=q(e);t(h,e.response.quantity,
e.request.maxOrderQuantity,d);e.request.enableQuantityLimitMessage&&(h=n("."+h+"-qs-quantity-limit-message",h,d),f.toggleDomNodeVisibility(h,e.response.quantity>=e.request.maxOrderQuantity));f.updateTotalCartCountOnUI(e,e.cartType);c.logRequestSuccessMetrics(e)}function m(e){var h=e.asin,d=q(e),g=n("."+h+"-qs-slider-spinner",h,d);f.toggleDomNodeVisibility(g,!0);e.isQSAction?(l(h,!0,d),a(h,!0,d)):b(h,!0,d);c.logRequestStartMetrics(e);e.request&&e.request.isMultipleAsinsSubmitting&&c.logMultipleAsinsSubmittingMetric(e)}
function n(a,b,c){if(!c)return p(a);b="."+b+"-qs-slider-data";a=document.querySelectorAll(a);for(var e=[],d=0;d<a.length;d++){var f=a[d],h=f&&p(f).closest(".qs-widget-container");(h=(h=h&&p(h).children(b))&&p(h).data("qs-model"))&&h.additionalInput&&h.additionalInput.storeId===c&&e.push(f)}return p(e)}function t(b,c,d,g){var e=n("."+b+"-qs-add-to-cart-button",b,g),h=n("."+b+"-qs-slider-button",b,g);0<c?(f.changeATCtoQS(e,h),e=Math.min(c,d),h=n("."+b+"-qs-qty-present-in-cart",b,g),Number.isInteger(e)&&
h.html(e),a(b,c>=d,g)):(f.changeQStoATC(e,h),a(b,!1,g))}var p=g.$;Number.isInteger||(Number.isInteger=function(a){return"number"===typeof a&&isFinite(a)&&-9007199254740992<a&&9007199254740992>a&&Math.floor(a)===a});g.on(f.ACTIONS.ADD_TO_CART_SUBMIT_START,function(a){m(a)});g.on(f.ACTIONS.ADD_TO_CART_SUBMIT_SUCCESS,function(a){u(a);a.response.quantity===a.request.maxOrderQuantity&&c.logMaxQuantityReachedMetric(a)});g.on(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_START,function(a){m(a)});g.on(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_SUCCESS,
function(a){u(a)});g.on(f.ACTIONS.QS_CART_SUBMIT_ERROR,function(e){var d=e.asin,g=q(e),k=n("."+d+"-qs-slider-spinner",d,g);f.toggleDomNodeVisibility(k,!1);e.isQSAction&&e.isMaxOrderQuantityReached?l(d,!1,g):e.isQSAction?(l(d,!1,g),a(d,!1,g)):b(d,!1,g);r(e);c.logRequestErrorMetrics(e)});return{ACTIONS:f.ACTIONS,setAttribution:d.setAttribution,updateQuantitySliderWidget:t}})});"use strict";k.when("QuantitySliderAssetDuplicationGuard").execute(function(p){p.when("A","qs-cart-count-handler","a-button").register("quantity-slider-utils",
function(g,f,d){function c(a){return l("."+a+"-qs-slider-data").first().data("qs-model")}function p(a,b){var d=c(a);l("."+a+"-qs-slider-data").data(g.extend(d,b))}var l=g.$;return{ACTIONS:{ADD_TO_CART_SUBMIT_START:"quantity-slider:add-to-cart-start",ADD_TO_CART_SUBMIT_SUCCESS:"quantity-slider:add-to-cart-success",REMOVE_FROM_CART_SUBMIT_START:"quantity-slider:remove-from-cart-start",REMOVE_FROM_CART_SUBMIT_SUCCESS:"quantity-slider:remove-from-cart-success",QS_CART_SUBMIT_ERROR:"quantity-slider:cart-submit-error"},
assert:function(a,b){if(!a)throw Error(b);},changeATCtoQS:function(a,b){l(a).hasClass("aok-hidden")||(l(a).addClass("aok-hidden"),l(b).removeClass("aok-hidden"))},changeQStoATC:function(a,b){l(b).hasClass("aok-hidden")||(l(b).addClass("aok-hidden"),l(a).removeClass("aok-hidden"))},disableButton:function(a){d(l(a)).disable()},deselectButton:function(a){a=d(l(a));a.isEnabled()&&a.setStatus("normal")},enableButton:function(a){d(l(a)).enable()},getQSParamsForAsin:c,getQsParamsFromTargetAsinOffer:function(a,
b){var d="."+b+"-qs-slider-data";return(d=(a=a.$event&&l(a.$event.target).closest(".qs-widget-container"))&&a.children(d).data("qs-model"))?d:c(b)},setUpdatedQSParamsForAsin:p,setUpdatedQSParamsForAsinOffer:function(a,b,d){b?l("."+a+"-qs-slider-data").map(function(a,c){a=l(c);(c=a.data("qs-model"))&&c.storeId===b&&a.data(g.extend(c,d))}):p(a,d)},toggleDomNodeVisibility:function(a,b){b?l(a).removeClass("aok-hidden"):l(a).addClass("aok-hidden")},updateTotalCartCountOnUI:function(a,b){a=g.extend({},
a);a.onSuccess=function(a){v.$Nav&&v.$Nav.when("api.setCartCount").run(function(b){b(a)});k.when("mash").execute("quantity-slider-mash-update",function(b){b.cart&&l.isFunction(b.cart.didUpdate)&&b.cart.didUpdate({newCartQuantity:a})})};f.getTotalCartCount(a,b)},logUrl:function(a){a&&g.post(a)}}})});"use strict";p("QuantitySliderAssetDuplicationGuard",function(){return{register:p,when:y}})});
/* ******** */
(function(b){var d=window.AmazonUIPageJS||window.P,c=d._namespace||d.attributeErrors,a=c?c("InterstitialProgramInformationSheetAssets",""):d;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,d,c){b.when("A").register("lucid-metrics-logger",function(a){var b=function(b,a){var c=d.ue;"undefined"!==typeof c&&c.count(b,a)};return{logCountMetrics:b,incrementCountMetrics:function(a){b(a,1)}}})});
/* ******** */
(function(h){var k=window.AmazonUIPageJS||window.P,v=k._namespace||k.attributeErrors,a=v?v("SearchWebVSEVideoWidgetAssets",""):k;a.guardFatal?a.guardFatal(h)(a,window):a.execute(function(){h(a,window)})})(function(h,k,v){h.register("vse-search-utils",function(){function a(a){var b,g;"undefined"!==typeof a&&(b=k.ue)&&(g=b.count(a)||0,b.count(a,g+1))}return{postCountMetric:a,postTimeMetric:function(a,b){var g;"undefined"!==typeof a&&"undefined"!==typeof b&&(g=k.ue)&&g.count(a,b)},logError:function(a,
b,g,f){k.ueLogError&&k.ueLogError(f,{logLevel:a,attribution:b,message:g})},logHideWidgetMetrics:function(c){a("vse_search_widget_hidden");c.trigger("vse:search:widget:hidden")},getAssetSpec:function(a,b){a=a.$(b.currentTarget);b=a.parent().data();var g=a.closest("li").index(),f=a.find(".vse-video-image").data("img");return{contentId:b.asin,aciContentId:b.aciContentId,entityId:b.entityId,entityType:b.entityType,title:b.title,vendorName:b.vendorName,vendorCode:b.vendorCode,referenceUrl:b.referenceUrl,
referenceLinkTitle:b.referenceTitle,videoUrl:b.videoUrl,$el:a,duration:b.duration,imageUrl:f,sponsored:b.sponsored|0,videoVoteContainer:{},productAsin:b.productAsin,refTag:"vse-s-ic-"+g,relatedProducts:b.relatedProducts,sponsorProducts:b.sponsorProducts,vendorTrackingId:b.vendorTrackingId,videoReferenceId:b.videoRefId,index:a.closest("li").index()}},reSize:function(a){a.trigger("resize",{},{width:k.innerWidth,height:k.innerHeight})},getModalFactory:function(a){var b=null;a.capabilities.mobile?h.now("a-secondary-view").execute("vse-search-secondary-view-factory",
function(a){b=a}):h.now("a-modal").execute("vse-search-modal-factory",function(a){b=a});return b},refTagRecorder:function(a,b,g,f){f=f||0;if(!(3<=f)){var d=this;a.post("/gp/mobile/tag/?ref\x3dvse_vws_vc_"+b+g,{error:function(){d.refTagRecorder(a,b,g,++f)}})}}}});h.when("vse-search-utils").execute("vse-search-ajax-calls",function(a){h.register("vse-search-preLoadCallHook",function(){function c(b,g){try{var f=b.A,d=b.request,n=b.block,h=b.handleFailure,k=b.handleSuccess;g--;var q=3-g-1,l=f.now();f.ajax("/vap/ew/componentbuilder",
{params:d,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:d.timeout||4E3,withCredentials:!0,success:function(b){var c=f.now()-l;a.postTimeMetric("vse_search:preload:success:",c);a.postCountMetric("vse_search:preload:success:"+d.page+":"+d.placement+":"+q);f.$(n).html(b);k(f,d,b)},error:function(e){a.postCountMetric("vse_search:preload:error:"+d.page+":"+d.placement+":"+q);(0===e.http.status||500<=e.http.status&&599>=e.http.status)&&0<g?c(b,g):(a.postCountMetric("vse_search:preload:error:"),
h(f,e))}})}catch(e){a.logError("FATAL","vse_search","[vse_search_preLoadCallHook] ",e)}}return{get:function(a,g,f,d,n){c({A:a,block:g,request:f,handleFailure:n,handleSuccess:d},3)}}});h.register("vse-search-lazyLoadCallHook",function(){function c(b,g,f){try{var d=b.A,n=b.context,h=b.handleFailure,k=b.handleSuccess,q=atob(g.attr("data-configuration")),l=JSON.parse(q),e={pageContext:n,configuration:l},r=d.now();f--;var w=3-f-1;d.ajax("/vap/ew/subcomponent/"+l.type,{params:e,paramsFormat:"json",method:"post",
contentType:"application/json",timeout:n.timeout||4E3,withCredentials:!0,success:function(b){var c=d.now()-r;a.postTimeMetric("vse_search:lazyload:success:",c);a.postCountMetric("vse_search:lazyload:success:"+e.page+":"+e.placement+":"+w);g.html(b);k(d,e,b,l.type)},error:function(n){a.postCountMetric("vse_search:lazyload:error:"+e.page+":"+e.placement+":"+w);(0===n.http.status||500<=n.http.status&&599>=n.http.status)&&0<f?c(b,g,f):(a.postCountMetric("vse_search:lazyload:error:"),h(d,e,n,l.type))}})}catch(B){a.logError("FATAL",
"vse_search","[vse_search_lazyLoadCallHook] ",B)}}return{get:function(a,g,f,d,n){var h=a.$;h(g+" div[data-configuration]").each(function(){c({A:a,context:f,handleFailure:n,handleSuccess:d},h(this),3)})}}});h.register("vse-search-relatedProductsHook",function(){function c(b,g,f){try{var d=b.A,n=b.context,h=b.handleFailure,k=b.handleSuccess,q=b.block,l={pageContext:n,configuration:b.config},e=d.now();f--;var r=3-f-1;0<r&&(l.configuration.assets=[]);d.ajax("/vap/ew/subcomponent/relatedproducts/",{params:l,
paramsFormat:"json",method:"post",contentType:"application/json",timeout:n.timeout||4E3,withCredentials:!0,success:function(b){var c=d.now()-e;a.postTimeMetric("vse_search:preload:success:",c);a.postCountMetric("vse_search:preload:success:"+l.page+":"+l.placement+":"+r);d.$(q).html(b);d.$(q).removeClass("aok-hidden");k(d,b)},error:function(e){a.postCountMetric("vse_search:preload:error:"+l.page+":"+l.placement+":"+r);(0===e.http.status||500<=e.http.status&&599>=e.http.status)&&0<f?c(b,g,f):(a.postCountMetric("vse_search:lazyload:error:"),
h(d,e))}})}catch(w){a.logError("FATAL","vse_search","[vse_search_preLoadCallHook] ",w)}}return{get:function(a,g,f,d,n,h){c({A:a,context:f,handleFailure:h,handleSuccess:n,block:g,config:d},3)}}})});"use strict";h.when("A","vse-search-utils","vse-search-preLoadCallHook","vse-search-lazyLoadCallHook","vse-search-relatedProductsHook","rush-framework").register("vse-search-widget",function(a,c,b,g,f,d){a.$(".vse-search-video-carousel").delegate(".vse-video-card.vse-avoid-clicks","click",function(){c.postCountMetric("vse-search.widgetClickedBeforeRushFramework")});
d.registerComponent("vse-search-widget","vse-search-widget",function(d){try{var k=a.now();c.postTimeMetric("vse-search-preload-load-time",k);var v,q,l,e,r=!1,w=!1,B=!1,C=!1,y=!0,I=!1,z,E=!1,A=!1,p=d.elem();h.when("af").execute("vse-search-widget-load-images-lazily",function(){a.loadDescendantImagesManually(a.$(p));a.$(".vse-video-image").addClass("vse-show-img-after-af");a.trigger("a:image:vse:manualLoaded")});d=function O(){if(p)if(B)a.off("scroll",O);else if(a.onScreen(a.$(p),0)){var b=a.now()-
k;r?(c.postCountMetric("vse-search.widgetViewedWithLightboxWidgetsCount"),c.postTimeMetric("vse-search.widgetViewedWithLightboxWidgetsDuration",b)):(c.postCountMetric("vse-search.widgetViewedWithNoLightboxWidgetsCount"),c.postTimeMetric("vse-search.widgetViewedWithNoLightboxWidgetsDuration",b));c.postTimeMetric("vse-search-preload.pageLoadToWidgetViewedDuration",b);B=!0}};d();a.on("scroll",d);var D=a.$(p).attr("data-page-state");if(D){var F=atob(D),m=JSON.parse(F);e=m.clientPrefix;var P=m.popoverTriggerId,
t=m.popoverContainerId,J=m.popoverName,u=m.initialVideo,Q=m.celQueryStringParam,G=m.videoDataList,x=m.relatedProductsConfig,K=0;l={requester:m.requester,clientPrefix:e,page:m.page,placement:m.placement,device:m.device,locale:m.locale,requestId:m.requestId,sessionId:m.sessionId,customerId:m.customerId,marketplaceID:m.marketplaceID,metadata:m.metadata,videoDataList:G,video:{contentID:u.contentId,contentIDType:"ASIN",videoURL:u.videoURL,imageURL:u.videoImageUrl},product:{contentID:u.relatedProductsAsins,
contentIDType:"ASIN"}};var D=function(){var b=a.$(".vse-search-video-carousel").find(".vse-search-video-profile");0<b.length&&(a.$(".vse-search-active-profile-container").removeClass("aok-hidden"),a.$(".vse-search-active-profile-container").html(b.clone().removeClass("aok-hidden").html()),a.$(".vse-vendor-title-container").addClass("vse-vendor-has-profile"))},F=function(){var b=a.$(".vse-search-video-carousel").find(".vse-search-disclosure-container");0<b.length&&a.$(".vse-vendor-disclosure-container").html(b.clone().removeClass("aok-hidden").html())},
H=function(b){var c=a.$(".vse-search-ingress-product-carousel").find(".vse-product-item");if(0<c.length){for(var d="",e=0;e<c.length;e++)d+=c[e].getAttribute("data-asin"),e!==c.length-1&&(d+=";");c=b.buildSushiPayload({eventName:"vse-search.pfoRender",stringPayload:"",intPayload:1,productAsinList:d})}else c=b.buildSushiPayload({eventName:"vse-search.pfoNotRendered",stringPayload:"",intPayload:1,videoAsin:u.contentId});b.postMetric.emitSushiMetric(c,b.endpoint)},m=function(a){E=!0;A&&z&&(A=!1,H(z));
a.trigger("vse:"+e+":relatedproducts:preload:succeeded")};d=function(a){E=!0;A&&z&&(A=!1,H(z));a.trigger("vse:"+e+":relatedproducts:preload:failed")};if(x){C=!0;D();F();var R={id:x.id,type:x.type,binder:x.binder,assets:[x.assets],features:{features:x.features}};l.metadata.relatedProductsAsins=u.relatedProductsAsins;f.get(a,"#"+e+"-ingress-product-carousel-container",l,R,m,d)}var L=function(a,b){a.trigger("vse:"+e+":lazyload:"+b.configuration.type+":failed")},M=function(a,b){a.trigger("vse:"+e+":lazyload:"+
b.configuration.type+":succeeded")};b.get(a,"#"+t+" .vse-search-video-block",l,function(a){y=!1;h.when("VSEComponentAssets").execute("vse-search-preload-success",function(){r=!0;w&&(a.trigger("vse:"+e+":page:lightBoxOpened",{assetSpec:q,lightBoxId:t}),g.get(a,"#"+t,l,M,L),c.postCountMetric("vse-search.lightBoxOpenedBeforePreload"));a.delay(function(){c.reSize(a)},500)});a.trigger("vse:"+e+":preload:succeeded")},function(a){r=!1;a.trigger("vse:"+e+":preload:failed");c.logHideWidgetMetrics(a)});a.$(p).find(".vse-search-video-carousel").delegate(".vse-video-card .vse-carousel-item",
"click",function(b){if(!(C&&(a.$(b.target).closest(".vse-search-active-profile-container").length||a.$(b.target).closest(".vse-disclosure").length)||y)){b.preventDefault();var e=c.getModalFactory(a);q=c.getAssetSpec(a,b);a.objectIsEmpty(e)?(y=!0,c.logHideWidgetMetrics(a)):(v=e.get(a.$("#"+P)),a.objectIsEmpty(v)?(y=!0,c.logHideWidgetMetrics(a)):(v.show(),c.refTagRecorder(a,q.index,Q,0)))}});a.on("a:popover:afterShow:"+J,function(b){w=!0;a.$(b.popover.$popover).addClass(a.$("#"+t).data("cssClass"));
K++;r&&(a.trigger("vse:"+e+":page:lightBoxOpened",{assetSpec:q,lightBoxId:t}),1===K&&(g.get(a,"#"+t,l,M,L),c.postCountMetric("vse-search.lightBoxOpenedAfterPreload")));c.reSize(a)});a.on("a:popover:beforeHide:"+J,function(){r&&(a.trigger("vse:"+e+":page:lightBoxClosed"),a.$("#"+t+" .vse-placeholder").addClass("aok-hidden"),a.$("#"+t+" .vse-search-video-block").removeClass("vse-search-absolute-lb"))});a.on(e+":vse:player:registered",function(){a.$("#"+t+" .vse-search-video-block").first().animate({opacity:1})});
a.declarative(e+"-carousel-see-more","click touch",function(){a.$(p).find(".vse-video-card").first().find(".vse-carousel-item").click()});a.$(".vse-search-see-more.a-link-normal").click(function(b){b.preventDefault();a.$(p).find(".vse-video-card").first().find(".vse-carousel-item").click()});a.on(e+"-leave-pip",function(b){0<=b.index&&a.$(p).find(".vse-carousel-item").eq(b.index).click()});a.on(e+":vse:sushiMetrics",function(b){z=b;var c=G.map(function(a){return a.contentId}).join(","),e=function(a){a=
b.buildSushiPayload({eventName:"vse-search.thumbnailImpression",stringPayload:"",intPayload:1,videoAsin:a});b.postMetric.emitSushiMetric(a,b.endpoint)},d=function(){h.when("A","a-carousel-framework").execute("vse-carousel-metric-handler",function(a,b){var c=b.getCarousel(a.$(p).find(".vse-search-video-carousel")),d=c.getAttr("name"),f=[];G.map(function(a){f.push({videoAsin:a.contentId,impressionRecorded:!1})});b=function N(){for(var b=c.getAttr("pageNumber"),g=c.getAttr("pageSize"),h=c.getAttr("totalPages"),
k=0;k<Math.min(b*g,f.length);k++)f[k].impressionRecorded||(e(f[k].videoAsin),f[k].impressionRecorded=!0);b===h&&(a.off("a:carousel:"+d+":change:pageSize",N),a.off("a:carousel:"+d+":change:pageNumber",N))};b();a.on("a:carousel:"+d+":change:pageSize",b);a.on("a:carousel:"+d+":change:pageNumber",b)})},f=function S(){if(p)if(I)a.off("scroll",S);else if(a.onScreen(a.$(p),0)){var f=b.buildSushiPayload({eventName:"vse-search.pageView",stringPayload:"",intPayload:1,videoAsinList:c});b.postMetric.emitSushiMetric(f,
b.endpoint);C?e(u.contentId):d();I=!0}},g=b.buildSushiPayload({eventName:"vse-search.pageRender",stringPayload:"",intPayload:1,videoAsinList:c});b.postMetric.emitSushiMetric(g,b.endpoint);C&&(E?H(b):A=!0,a.$(p).find(".vse-search-ingress-product-carousel").delegate(".vse-product-item","click",function(c){c=a.$(c.target).closest("li").find(".vse-product-item").attr("data-asin");c=b.buildSushiPayload({eventName:"vse-search.pfoClick",stringPayload:"",intPayload:1,videoAsin:u.contentId,productAsin:c});
b.postMetric.emitSushiMetric(c,b.endpoint)}));f();a.on("scroll",f)});a.$(p).find(".vse-sm-link").removeClass("vse-avoid-clicks");a.$(p).find(".vse-video-card").removeClass("vse-avoid-clicks");a.$(p).find(".vse-search-container-spinner").addClass("aok-hidden");c.postTimeMetric("vse-search.timeToRemoveSpinner",a.now()-k)}else c.logHideWidgetMetrics(a),c.postCountMetric("vse-search-preload-page-state-not-found")}catch(T){y=!0,c.logHideWidgetMetrics(a)}})})});
/* ******** */
(function(k){var l=window.AmazonUIPageJS||window.P,m=l._namespace||l.attributeErrors,f=m?m("SearchMultiQuestionWidgetAssets",""):l;f.guardFatal?f.guardFatal(k)(f,window):f.execute(function(){k(f,window)})})(function(k,l,m){k.when("rush-dispatcher","rush-util").register("cse-multi-question-actions",function(f,b){return{listeners:{update:function(c){if(!b.isNotBlank(c))throw Error("widget must be a non-empty string");return c+":multi-question:update-selections"},apply:function(c){if(!b.isNotBlank(c))throw Error("widget must be a non-empty string");
return c+":multi-question:apply-selections"},remove:function(c){if(!b.isNotBlank(c))throw Error("widget must be a non-empty string");return c+":multi-question:remove-selections"}}}});"use strict";k.when("rush-dispatcher","rush-util","cse-multi-question-actions").register("cse-question-actions",function(f,b,c){function d(a,b){if(!a)throw Error(b);}var g=f.trigger,h;h={answered:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return a+":question:answered"},previousAnswered:function(a){d(b.isNotBlank(a),
"questionId must be a non-empty string");return a+":question:previous-answered"},hide:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return a+":question:hide-question"},show:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return a+":question:show-question"}};return{listeners:h,triggers:{updateSelections:function(a,e){d(b.isNotBlank(a),"widget must be a non-empty string");return g(c.listeners.update(a),e)},applySelections:function(a,e){d(b.isNotBlank(a),
"widget must be a non-empty string");return g(c.listeners.apply(a),e)},removeSelections:function(a,e){d(b.isNotBlank(a),"widget must be a non-empty string");return g(c.listeners.remove(a),e)},updatePrevious:function(a,e){d(b.isNotBlank(a),"widget must be a non-empty string");return g(h.previousAnswered(a),e)},show:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return g(h.show(a))},hide:function(a,e){d(b.isNotBlank(a),"questionId must be a non-empty string");return g(h.hide(a),
{questionToShow:e})}}}});"use strict";k.when("rush-dispatcher","rush-util","cse-question-actions").register("cse-answer-actions",function(f,b,c){function d(a,b){if(!a)throw Error(b);}var g=f.trigger,h;h={deselect:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return a+":answer:deselect"}};return{listeners:h,triggers:{selected:function(a,e){d(b.isNotBlank(a),"questionId must be a non-empty string");return g(c.listeners.answered(a),e)},deselect:function(a,c){d(b.isNotBlank(a),
"questionId must be a non-empty string");d(b.isNotBlank(c),"uuid must be a non-empty string");return g(h.deselect(a),{selectedUuid:c})}}}})});
/* ******** */
(function(g){var h=window.AmazonUIPageJS||window.P,l=h._namespace||h.attributeErrors,e=l?l("PostsSearchWidgetAssets",""):h;e.guardFatal?e.guardFatal(g)(e,window):e.execute(function(){g(e,window)})})(function(g,h,l){g.when("A","rush-framework","related-posts-search-metrics-client","related-posts-carousel-view","af","ready").register("related-posts-search-widget",function(e,h,k,d){h.registerComponent("related-posts-search-widget","related-posts-search-widget",function(b){var f=e.$(b.elem());b={sushiEndpoint:b.prop("sushiEndpoint"),
requestId:b.prop("requestId"),pageType:b.prop("pageType"),pageId:b.prop("pageId"),appMode:b.prop("appMode"),platform:b.prop("platform"),mShopBuild:b.prop("mShopBuild"),carouselName:b.prop("carouselName")||"posts-feed-preview-carousel",placementProductId:b.prop("placementProductId"),instanceId:b.prop("instanceId"),weblabName:b.prop("weblabName"),widgetModelType:b.prop("widgetModelType"),marketplaceId:b.prop("marketplaceId")};var f=new d(f),a=new k(f,b);f.initEvents(b.carouselName,a);f.$carouselContainer.length||
a.emitCsmCounter("PostsCarouselWidgetExpectedButNotLoaded")})});"use strict";g.when("A","a-carousel-framework","posts-carousel-linkto","af","ready").register("related-posts-carousel-view",function(e,g,k){function d(a){this.$carouselContainer=a.find(".posts-feed-preview-wrapper")}var b=e.$,f={};d.prototype.getCarouselElement=function(){return this.$carouselContainer};d.prototype.initEvents=function(a,c){var m=this;g.onInit(a,function(d){f[a]?c.emitCsmCounter("PostsCarouselWidgetAlreadyInitialized"):
d?(c.emitCsmCounter("PostsCarouselWidgetInitialized"),m.auiCarousel=d,e.on(e.constants.BROWSER_EVENTS.SCROLL,function(){c.handleUserScroll()}),d.onChange("px",function(){c.handleUserScroll()}),m.$carouselContainer.find(".posts-feed-preview-card").click(function(a){c.handleUserClick(a)}),h.addEventListener("beforeunload",function(){c.handleUnload()}),h.addEventListener("pagehide",function(){c.handleUnload()}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&
c.handleUnload();"visible"===document.visibilityState&&c.handlePageLoad()}),m.$carouselContainer.delegate("[data-target-href]","click",function(a){var c=a.target,d=m.$carouselContainer.get(0),f=b(a.target).attr("data-target-href");if(null===f||f===l)f=b(a.target).closest("[data-target-href]").attr("data-target-href");for(;c&&c!==d;){if(c.hasAttribute("ignore-data-target-href"))return!1;c=c.parentNode}if("string"===typeof f&&f.length)return k.execute(f),!1}),m.$carouselContainer.delegate(".posts-feed-preview-link",
"mousedown keydown",function(a){switch(a.type){case "mousedown":b(a.target).addClass("posts-feed-preview-link-remove-outline");break;case "keydown":b(a.target).removeClass("posts-feed-preview-link-remove-outline")}}),f[a]=!0,c.initialize(),c.handlePageLoad()):c.emitCsmCounter("PostsCarouselWidgetCarouselNotFound")})};return d});"use strict";g.when("A","posts-sushi-client","related-posts-measure","af","ready").register("related-posts-search-metrics-client",function(e,g,k){function d(a,c){this.carouselView=
a;this.metricConfig=c;this.state={postVisibilityEventStates:{},postImpressionMetadata:{},carouselOnScreen:!1,unloadHandled:!1};this.sushiClient=new g(h,this.metricConfig.sushiEndpoint)}var b={PostImpression:2,PostPartialImpression:1,CarouselOffScreen:1,PostClick:1,PostView:2,PostOffScreen:1,PageEgress:1},f=e.$;d.prototype.initialize=function(){this.isCarouselOutOfViewPort()||this.checkPostsClientSideMetrics()};d.prototype.handlePageLoad=function(){this.carouselInstance=this.generateInstanceId();this.requestInstance=
this.generateInstanceId()};d.prototype.generateInstanceId=function(){return Math.round(Math.floor(999999*Math.random())+1)};d.prototype.emitCsmCounter=function(a){this.sushiClient.ueCount(a)};d.prototype.decorateMetricPayload=function(a){a.request_id=this.metricConfig.requestId;a.request_instance=this.requestInstance;a.carousel_instance=this.carouselInstance;a.page_type=this.metricConfig.pageType;a.page_id=this.metricConfig.pageId;a.app_mode=this.metricConfig.appMode;a.app_build="1.0";a.platform=
this.metricConfig.platform;a.placement_product_id=this.metricConfig.placementProductId;a.instance_id=this.metricConfig.instanceId;a.widget_model_type=this.metricConfig.widgetModelType;a.marketplace_id=this.metricConfig.marketplaceId;this.metricConfig.mShopBuild&&(a.mshop_build=this.metricConfig.mShopBuild);this.metricConfig.weblabName&&(a.weblab_name=this.metricConfig.weblabName);a.event_version=b[a.event_type];return a};d.prototype.handleUserScroll=function(){this.checkPostsClientSideMetrics()};
d.prototype.getOriginPx=function(a){a=f("#"+a);var c=a.offset();return a.length?c.left+","+c.top:"-1,-1"};d.prototype.getPosts=function(){return this.carouselView.getCarouselElement().find(".posts-feed-preview-card")};d.prototype.postOriginsAreInvalid=function(){for(var a=this.carouselView.getCarouselElement(),c=this.getPosts(),b=null,d=!1,e=-1,a=a.is(":visible"),h=0;h<c.length;h++){var g=f(c[h]),k=g.attr("id");if(g=g.is(":visible")){-1===e&&(e=h);k=this.getOriginPx(k);if(b){if(c=k===b)this.emitCsmCounter("PostsCarouselInvalidOrigins:LastVisible:"+
(d?"true":"false")),this.emitCsmCounter("PostsCarouselInvalidOrigins:CurVisible:"+(g?"true":"false")),this.emitCsmCounter("PostsCarouselInvalidOrigins:CarouselVisible:"+(a?"true":"false")),this.emitCsmCounter("PostsCarouselInvalidOrigins:FirstVisibleIndex:"+e);return c}b=k;d=g}}this.emitCsmCounter("PostsCarouselInvalidOrigins:NoCardsVisible:"+(b?"false":"true"));this.emitCsmCounter("PostsCarouselInvalidOrigins:CardsInvis:CarouselVisible:"+(a?"true":"false"));return!0};d.prototype.checkPostsClientSideMetrics=
function(){if(this.postOriginsAreInvalid()){this.emitCsmCounter("PostsCarouselInvalidOrigins");var a=!this.isCarouselOutOfViewPort();this.emitCsmCounter("PostsCarouselInvalidOrigins:OnScreen:"+(a?"true":"false"))}else this.checkPostImpressionMetrics(),this.checkPostCarouselOffScreenMetric()};d.prototype.checkPostImpressionMetrics=function(){for(var a=this.getPosts(),c=0;c<a.length;c++){var b=f(a[c]),d=b.attr("id"),e=b.attr("data-post-rank");this.checkPostViewMetric(d,e);this.checkPostOffScreenMetric(d,
e);b.is(":visible")&&(this.checkPostPartialImpressionMetric(d,e),this.checkPostImpressionMetric(d,e))}};d.prototype.postEventEmittedSinceComingOnScreen=function(a,c){return this.state.postVisibilityEventStates[c]?this.state.postVisibilityEventStates[c][a]||!1:!1};d.prototype.shouldEmitMetrics=function(a,c){return!this.postEventEmittedSinceComingOnScreen(a,c)};d.prototype.checkPostCarouselOffScreenMetric=function(){if(this.state.carouselOnScreen&&this.isCarouselOutOfViewPort()){this.state.carouselOnScreen=
!1;var a=this.decorateMetricPayload({event_type:"CarouselOffScreen"});this.sushiClient.processEvent(a,{n:1});this.carouselInstance=this.generateInstanceId()}};d.prototype.checkPostPartialImpressionMetric=function(a,c){this.shouldEmitMetrics("PostPartialImpression",a)&&this.isPartialImpression(a)&&(this.state.carouselOnScreen=!0,c=this.buildPostEvent("PostPartialImpression",a,c),this.sushiClient.processEvent(c,{n:1}),this.updateImpressionState(a,"PostPartialImpression"))};d.prototype.isPartialImpression=
function(a){a=k.getElementViewportExtents(a);return(a.isTopInViewport||a.isBottomInViewport)&&(a.isLeftInViewport||a.isRightInViewport)};d.prototype.checkPostViewMetric=function(a,c){if(this.shouldEmitMetrics("PostView",a)&&this.isView(a)){c=this.buildPostEvent("PostView",a,c);var b=e.now()-this.state.postVisibilityEventStates[a].PostImpression;0<b&&36E5>b&&(c.dwell_time_ms=Math.round(b));this.sushiClient.processEvent(c,{n:1});this.updateImpressionState(a,"PostView")}};d.prototype.isView=function(a){if(this.postEventEmittedSinceComingOnScreen("PostImpression",
a))return a=k.getElementViewportAreas(a),a.viewportArea<.5*a.totalArea};d.prototype.checkPostImpressionMetric=function(a,c){this.shouldEmitMetrics("PostImpression",a)&&this.isImpression(a)&&(c=this.buildPostEvent("PostImpression",a,c),this.sushiClient.processEvent(c,{n:1}),this.updateImpressionState(a,"PostImpression",e.now()))};d.prototype.isImpression=function(a){a=k.getElementViewportAreas(a);return a.viewportArea>=.5*a.totalArea};d.prototype.checkPostOffScreenMetric=function(a,c){this.isPostOutOfViewPort(a)&&
this.postEventEmittedSinceComingOnScreen("PostPartialImpression",a)&&(c=this.buildPostEvent("PostOffScreen",a,c),this.sushiClient.processEvent(c,{n:1}),this.state.postVisibilityEventStates[a].PostImpression=!1,this.state.postVisibilityEventStates[a].PostPartialImpression=!1,this.state.postVisibilityEventStates[a].PostView=!1)};d.prototype.isPostOutOfViewPort=function(a){return!e.onScreen(f("#"+a),0)};d.prototype.isCarouselOutOfViewPort=function(){return!e.onScreen(this.carouselView.getCarouselElement(),
0)};d.prototype.buildPostEvent=function(a,c,b){return this.decorateMetricPayload({event_type:a,post_id:c.split("Posts-")[1],rank:parseInt(b,10),origin_px:this.getOriginPx(c)})};d.prototype.updateImpressionState=function(a,c,b){var d=this.state.postVisibilityEventStates[a]||{};d[c]="undefined"===typeof b?!0:b;this.state.postVisibilityEventStates[a]=d};d.prototype.handleUserClick=function(a){var c=f(a.target),b=c.attr("data-post-id"),d=c.attr("data-post-rank"),e=c.attr("data-click-target");if(null===
b||null===d||b===l||d===l)d=c.closest(".posts-feed-preview-card"),b=d.attr("id"),d=d.attr("data-post-rank");if(null===e||e===l)e=c.closest("[data-click-target]"),e=null!==e&&e!==l?e.attr("data-click-target"):"UNKNOWN";var g=this.buildPostEvent("PostClick",b,d);g.click_target=e;"FollowButton"===e&&h.BrandFollowSharedUtils&&f.isFunction(h.BrandFollowSharedUtils.getLastClickAction)&&(g.click_action=h.BrandFollowSharedUtils.getLastClickAction(a.target));this.sushiClient.processEvent(g,{n:1});a=c.closest("[data-click-action]");
null!==a&&a!==l&&"Egress"===a.attr("data-click-action")&&"FollowButton"!==e&&(a=a.attr("data-target-destination")||"NONE",this.emitPageEgressMetric(b,d,a,e))};d.prototype.emitPageEgressMetric=function(a,c,b,d){a=this.buildPostEvent("PageEgress",a,c);a.destination_type=b;a.click_target=d;this.sushiClient.processEvent(a,{n:1})};d.prototype.handleUnload=function(){if(!this.state.unloadHandled){this.state.unloadHandled=!0;for(var a=this.getPosts(),c=0;c<a.length;c++){var b=f(a[c]),d=b.attr("id"),b=b.attr("data-post-rank");
if(this.postEventEmittedSinceComingOnScreen("PostImpression",d)&&this.shouldEmitMetrics("PostView",d)){var b=this.buildPostEvent("PostView",d,b),g=e.now()-this.state.postVisibilityEventStates[d].PostImpression;0<g&&36E5>g&&(b.dwell_time_ms=Math.round(g));this.sushiClient.processEvent(b,{n:1});this.updateImpressionState(d,"PostView")}}this.state.carouselOnScreen&&(a=this.decorateMetricPayload({event_type:"CarouselOffScreen"}),this.sushiClient.processEvent(a,{n:1}),this.state.carouselOnScreen=!1);this.state.carouselInstance=
this.generateInstanceId();this.sushiClient.onBeforeUnload()}};return d});"use strict";g.when("A","af","ready").register("related-posts-measure",function(e){function g(){var b=d(h),f=b.scrollTop(),a=b.scrollLeft(),c=h.innerHeight||b.height(),b=h.innerWidth||b.width();return{top:f,left:a,height:c,width:b,bottom:f+c,right:a+b}}function k(b){var d=b.offset(),a=d.top,d=d.left,c=b.height();b=b.width();return{top:a,left:d,height:c,width:b,bottom:a+c,right:d+b}}var d=e.$;return{getElementViewportAreas:function(b){b=
d("#"+b);var f=g(),a=f.width*f.height,c=k(b),h=c.width*c.height,f=Math.max(Math.min(c.right,f.right)-Math.max(c.left,f.left),0)*Math.max(Math.min(c.bottom,f.bottom)-Math.max(c.top,f.top),0);return b.length&&e.onScreen(b,0)?{totalArea:h,viewportArea:f,totalViewportArea:a}:{totalArea:1,viewportArea:0,totalViewportArea:a}},getElementViewportExtents:function(b){b=d("#"+b);var f=g(),a=k(b);return b.length&&e.onScreen(b,0)?{isTopInViewport:a.top>=f.top&&a.top<f.bottom,isBottomInViewport:a.bottom>=f.top&&
a.bottom<f.bottom,isLeftInViewport:a.left>=f.left&&a.left<f.right,isRightInViewport:a.right>=f.left&&a.right<f.right}:{isTopInViewport:!1,isBottomInViewport:!1,isLeftInViewport:!1,isRightInViewport:!1}},getViewportCoordinates:g,getElementLocation:k}});g.when("af","ready").register("posts-carousel-linkto",function(){return{execute:function(e){h.location.href=e}}})});
/* ******** */
(function(f){var e=window.AmazonUIPageJS||window.P,g=e._namespace||e.attributeErrors,a=g?g("PrelaunchAssets",""):e;a.guardFatal?a.guardFatal(f)(a,window):a.execute(function(){f(a,window)})})(function(f,e,g){f.when("A","a-button").register("nlx-notify-me-utils",function(a,f){function t(){function c(c){return(10>c?"0":"")+c}var d=new Date;return d.getUTCFullYear().toString().substr(2)+c(d.getUTCMonth()+1)+c(d.getUTCDate())+c(d.getUTCHours())}function n(c){k.get("/hctp/log/refMarker?ref_\x3d"+c)}function p(c){var d=
"",a;for(a in c)""!==d&&(d+="\x26"),d+=a+"\x3d"+encodeURIComponent(c[a]);return d}function g(c){var d=0===k("html.a-mobile").length?!1:!0,h=k(c.target),b=h.data(),u=b.signedIn,v=b.refMarker,w=b.subscribeText,x=b.unsubscribeText,q=b.notifyUri,r=b.action,l;a:switch(b.source){case "DETAIL":l="d";break a;default:l="s"}var b={topics:b.topic,channels:b.channel,csrfToken:b.token,entityID:b.entityId,entityType:b.entityType,action:b.action,source:b.source,shouldSendConfirmationEmail:b.sendConfirmationEmail},
m=f("#"+h.closest(".a-button").get(0).id),y=m.text();c.preventDefault();!0!==u?e.location.href=q+"?"+p(b)+"\x26redirectUrl\x3d"+encodeURIComponent("/preferences/subscriptions/your-subscriptions/current-subscriptions?noMoaR\x3d1"):(h.html('\x3cspan class\x3d"a-spinner a-spinner-small"\x3e\x3c/span\x3e'),a.ajax(q,{params:b,method:"post",success:function(){var b,a;switch(r){case "sub":b="unsub";a=x;break;default:b="sub",a=w}m.text(a);h.data("action",b);b=l;a="sub"===r?"n":"u";var c=t();n(v+"_"+b+"_"+
(d?"m":"d")+"_"+c+"_"+a)},error:function(){m.text(y)}}))}var k=a.$;return{generateQueryString:p,registerRefMarker:n,getButtonClickHandler:function(){return g}}});"use strict";f.when("A","nlx-notify-me-utils","rush-framework").register("nlx-notify-me-component",function(a,f,e){var g=a.$;e&&e.registerComponent("nlx-notify-me-component","nlx-notify-me-component",function(a){a=a.elem();a=g(a);var e=f.getButtonClickHandler();a.click(e)})})});
/* ******** */
(function(h){var k=window.AmazonUIPageJS||window.P,m=k._namespace||k.attributeErrors,b=m?m("MashovAssets",""):k;b.guardFatal?b.guardFatal(h)(b,window):b.execute(function(){h(b,window)})})(function(h,k,m){h.when("A","jQuery","a-modal","ready").register("mashov-feedback-form-modal",function(b,d,e){var c=null,a=null,f=null,l={name:"mashov-feedback-modal",width:480,height:400,header:"",data:""};return{show:function(b){"undefined"!==typeof b.data&&(l.data=b.data,c=l,c.header=b.data.detailFeedbackWelcomeText,
l.url=b.data.url,null===f&&(a=d("\x3cdiv/\x3e",{id:"mashov-feedback-modal"}),d(document.body).append(a),f=e.create(a,l)),f.update(c).lock().show())},hide:function(){f.unlock().hide()}}});"use strict";h.when("A","jQuery","ready").register("mashov-feedback-form-bottom-sheet",function(b,d){function e(c,b){var e=a.instance.getContentContainer();d.ajax(c).done(function(g){e.html(g)}).fail(function(){e.html('\x3cdiv class\x3d"mashov-feedback-form-error"\x3e'+b+"\x3c/div\x3e")});e.addClass("mashov-feedback-bottom-sheet-container-round-corner")}
var c=null,a=null,f=d('\x3cdiv class\x3d"a-spinner-wrapper"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium mashov-feedback-bottom-sheet-spinner"\x3e\x3c/span\x3e\x3c/div\x3e');h.when("a-sheet").execute("init",function(l){var e;e=360>k.innerWidth?.7*k.innerHeight:375;a={id:0,instance:null,options:{name:"mashov-feedback-bottom-sheet",height:e,inlineContent:f.html(),closeType:"message"}};c=l});b.on("a:sheet:beforeShow:mashov-feedback-bottom-sheet",function(a){(a=a.sheet?a.sheet.getContentContainer():
m)&&0<a.length&&a.addClass("mashov-feedback-bottom-sheet-container-round-corner")});return{show:function(b){var d;null!==c&&b.data&&(a.options.data=b.data,null===a.instance&&(a.instance=c.create(a.options)),c.showSheet(a.instance),a.instance.$container.attr("id","mashov-feedback-bottom-sheet-container"),d=b.data.detailFeedbackSomethingWrongText,e(b.data.url,d))},hide:function(){c.hideSheet(a.instance)},afterHide:function(){a.instance.getContentContainer().html(f.html())}}});"use strict";h.when("A",
"jQuery","mashov-feedback-form-modal","mashov-feedback-form-bottom-sheet","mashov-feedback-form-lagoon-orchestrator","ready").register("mashov-feedback-form-instance",function(b,d,e,c,a){var f=null;return{handleOrchestratorMethod:function(c,b){null===f&&c&&c.data&&c.data.cxId===a.LAGOON_FEEDBACK_CX_ID&&(f=a);if(f&&d.isFunction(f[b]))return f[b](c)},getFeedbackForm:function(){return/(^| )a-mobile( |$)/.test(document.documentElement.className)?c:e}}});"use strict";h.when("A","jQuery","a-tooltip","mashov-feedback-form-instance",
"ready").register("mashov-feedback-form",function(b,d,e,c){function a(a){var g=c.getFeedbackForm();return d.isFunction(g[a])}function f(){c.handleOrchestratorMethod(null,"resetFeedback");g=!1}function l(){a("hide")&&c.getFeedbackForm().hide()}function h(){var a=null,g=null,b=d('\x3cdiv id\x3d"mashov-acknowledge-feedback-tooltip-container"\x3e\x3c/div\x3e');d("#mashov-acknowledge-feedback-tooltip-container").remove();d.when(d("#mashov-acknowledge-feedback-tooltip").remove()).then(function(){var f=
n+d(k).height()/2;b.css("top",f);d(document.body).append(b);g={name:"mashov-acknowledge-feedback-tooltip",inlineContent:'\x3ci class\x3d"a-icon a-icon-success a-icon-small mashov-acknowledge-feedback-tooltip-icon" role\x3d"img"\x3e\x3c/i\x3e\x3cdiv class\x3d"mashov-acknowledge-feedback-tooltip-message aok-relative"\x3e'+c.handleOrchestratorMethod(null,"getThankYouMessage")+"\x3c/div\x3e",width:300};a=e.create(b,g);a.show();a.$container.attr("id","mashov-acknowledge-feedback-tooltip");setTimeout(function(){e.remove(a)},
3E3)})}var n=0,g=!1;return{show:function(g){g&&g.data&&a("show")&&(c.handleOrchestratorMethod(g,"setFeedbackContext"),n=Math.abs(document.body.getBoundingClientRect().top),f(),c.getFeedbackForm().show(g))},submit:function(a){c.handleOrchestratorMethod(a,"isReadyToSubmit")&&(c.handleOrchestratorMethod(a,"submitFeedback"),f(),h(),l())},hide:l,update:function(a){c.handleOrchestratorMethod(a,"updateFeedback");var b,e=null;g||(a=d("#mashov-feedback-submit-mobile"),b=d("#mashov-feedback-submit-desktop"),
a[0]!==m?(a.removeClass("a-button-disabled"),a.css("background-color","#007185"),e=a.find(".a-button-input")):b[0]!==m&&(b.removeClass("a-button-disabled"),e=b.find(".a-button-input")),e[0]!==m&&(e[0].disabled=!1),g=!0)},afterHide:function(){a("afterHide")&&c.getFeedbackForm().afterHide();f()}}});"use strict";h.when("A","jQuery","mashov-feedback-form","mashov-feedback-form-lagoon-orchestrator","ready").execute("mashov-feedback-form-signals",function(b,d,e,c){b.declarative("mashov-utterance-feedback-thumbs-down-click",
"click",function(a){a.data.cxId===c.LAGOON_FEEDBACK_CX_ID&&e.show(a)});b.declarative("mashov-feedback-submit-button-click","click",function(a){e.submit(a)});b.declarative("mashov-feedback-cancel-button-click","click",function(a){e.hide(a)});b.declarative("mashov-accordion-detail-feedback-click","click",function(a){e.update(a)});b.on("a:sheet:afterHide:mashov-feedback-bottom-sheet",function(a){e.afterHide(a)})});"use strict";h.when("A","jQuery","mashov-feedback-request","ready").register("mashov-feedback-form-lagoon-orchestrator",
function(b,d,e){var c="",a="",f="",l="",h="",k="";return{LAGOON_FEEDBACK_CX_ID:"LAGOON_FEEDBACK",getThankYouMessage:function(){return h},isReadyToSubmit:function(){return""!==c},resetFeedback:function(){c=""},setFeedbackContext:function(g){a=g.data.cxId;f=g.data.id;l=g.data.idType;h=g.data.detailFeedbackSuccessText;k="mashov/lagoon/feedback/form?feedbackOptionType\x3d"+g.data.feedbackOptionType+"\x26answerResponseId\x3d"+g.data.id;g.data.url=k},setDefaultFeedbackContext:function(){l="ANS_RES_ID";
f="TEST_ID";a="LAGOON_FEEDBACK"},submitFeedback:function(){e.saveDetailFeedback(a,l,f,c)},updateFeedback:function(a){c=a.data.optionStringId}}});"use strict";h.when("A","jQuery","mashov-feedback-request","ready").execute("mashov-thumbs-feedback",function(b,d,e){function c(a){return{image:a.find(".mashov-thumbs-up-image"),imageSelected:a.find(".mashov-thumbs-up-selected-image")}}function a(a){return{image:a.find(".mashov-thumbs-down-image"),imageSelected:a.find(".mashov-thumbs-down-selected-image")}}
function f(a){return{feedbackMessage:a.find(".mashov-feedback-message"),thankYouMessage:a.find(".mashov-feedback-acknowledgment-message")}}function h(a){d(a.image).addClass("aok-hidden");d(a.imageSelected).removeClass("aok-hidden")}function m(a){d(a.image).removeClass("aok-hidden");d(a.imageSelected).addClass("aok-hidden")}function n(a){d(a.feedbackMessage).addClass("aok-hidden");d(a.thankYouMessage).removeClass("aok-hidden")}b.declarative("mashov-utterance-feedback-thumbs-up-click","click",function(b){var d=
b.$currentTarget.parent();h(c(d));m(a(d));n(f(d.parent()));k.ue.count("Mashov."+b.data.cxId+".ThumbsUp",1);e.savePositiveFeedback(b.data.cxId,b.data.idType,b.data.id)});b.declarative("mashov-utterance-feedback-thumbs-down-click","click",function(b){var d=b.$currentTarget.parent();h(a(d));m(c(d));n(f(d.parent()));k.ue.count("Mashov."+b.data.cxId+".ThumbsDown",1);e.saveNegativeFeedback(b.data.cxId,b.data.idType,b.data.id)});b.on("load",function(){var a=document.querySelectorAll("span[data-action\x3d'mashov-utterance-feedback-thumbs-up-click']"),
b,c;for(b=0;b<a.length;b++)c=JSON.parse(a[b].getAttribute("data-mashov-utterance-feedback-thumbs-up-click")),c=c.cxId||"UNDEFINED_CX_ID",k.ue.count("Mashov."+c+".ThumbsWidgetRendered",1)})});"use strict";h.when("jQuery").register("mashov-feedback-request",function(b){function d(d){b.ajax({type:"POST",url:"/mashov/v1/feedback",data:JSON.stringify(d),contentType:"application/json"})}return{savePositiveFeedback:function(b,c,a){d({cxId:b,idType:c,id:a,mainFeedback:"THUMBS_UP",feedbackType:"MAIN_FEEDBACK"})},
saveNegativeFeedback:function(b,c,a){d({cxId:b,idType:c,id:a,mainFeedback:"THUMBS_DOWN",feedbackType:"MAIN_FEEDBACK"})},saveDetailFeedback:function(b,c,a,f){d({cxId:b,idType:c,id:a,detailFeedback:f,feedbackType:"DETAIL_FEEDBACK"})}}})});
/* ******** */
(function(h){var d=window.AmazonUIPageJS||window.P,q=d._namespace||d.attributeErrors,f=q?q("ShareWidgetTriggerAssets",""):d;f.guardFatal?f.guardFatal(h)(f,window):f.execute(function(){h(f,window)})})(function(h,d,q){h.now("tafShareOnNetwork").execute(function(d){"undefined"!==typeof d?h.log("tafShareOnNetwork is already registered","WARN","ShareWidgetTriggerAssets"):h.when("A","socialShareUtil").register("tafShareOnNetwork",function(c,a){var d={facebook:{shareEndpoint:"https://www.facebook.com/dialog/share",
params:function(b){return{href:a.decodeEntities(b.url),display:"popup",quote:b.quote?a.decodeEntities(b.quote):"",app_id:"465632727431967"}},ref:"fb",height:450,width:700,isWebShare:!0},pinterest:{shareEndpoint:"https://www.pinterest.com/pin/create/button",params:function(b){return{url:a.decodeEntities(b.url),media:a.decodeEntities(b.image),description:a.decodeEntities(b.description)}},ref:"pi",height:620,width:700,isWebShare:!0},line:{shareEndpoint:"https://social-plugins.line.me/lineit/share",params:function(b){var c=
a.decodeEntities(b.title)+" "+a.decodeEntities(b.description);b=a.decodeEntities(b.url);return{text:c,url:b}},ref:"li",height:620,width:700,isWebShare:!0},twitter:{shareEndpoint:"https://twitter.com/intent/tweet",params:function(b){var c=a.decodeEntities(b.title);b=a.decodeEntities(b.url);if(c){var d=b?Math.min(b.length,20):-1;200<c.length+d+1&&(c=c.substring(0,200-(d+1+3))+"...")}return{text:c,url:b}},ref:"tw",height:470,width:670,isWebShare:!0},email:{shareEndpoint:"mailto:",params:function(b){return{subject:a.decodeEntities(b.title),
body:a.decodeEntities(b.description)+"\n"+a.decodeEntities(b.url)}},ref:"em",isWebShare:!1},sms:{shareEndpoint:"sms:",params:function(b){return{body:a.decodeEntities(b.title)+" "+a.decodeEntities(b.url)}},ref:"sm",isWebShare:!1},whatsapp:{shareEndpoint:"whatsapp://send",params:function(b){return{text:a.decodeEntities(b.title)+"\n"+a.decodeEntities(b.description)+"\n"+a.decodeEntities(b.url)}},ref:"wa",isWebShare:!1}};return{share:function(b,c){var l=d[c];if("undefined"===typeof l)a.logFatal("Unsupported network:"+
c,b.clientRef);else{var f=a.generateReftags(b,l.ref);b.network=c;a.logCSACustomEvent(f.clickReftag,"share",b);b.url=a.updateReftagParam(b.url,f.returnReftag);a.logCounter("Click."+l.ref,1);b=a.buildUrl(l.shareEndpoint,l.params(b),b.devicename,c);a.triggerShare(b,l.isWebShare,l.width,l.height)}}}})});h.when("A","tafShareOnNetwork","socialShareUtil","ready").execute(function(d,c,a){a.logCounter("Render",1);d.declarative("swf-share-network","click",function(g){g=g.data;var b=g.pageStateId,e=d.state(b);
"undefined"===typeof e?a.logFatal("Page state:"+b+" undefined"):c.share(e,g.network)});a.stopTimer()});h.when("A","tafBottomSheet","socialShareUtil","ready").execute(function(d,c,a){a.logCounter("Click.ShareIcon",1);d.declarative("swf-share-network-v2-icon","click",function(g){var b=g.data,e=g.$currentTarget;e.addClass("no-clicks");d.delay(function(){e.removeClass("no-clicks")},1E3);d.capabilities.isAmazonApp?(a.logCounter("ShareIngress.MobileApp.MashShareAvailable",1),h.when("mash").execute(function(a){c.showAppSheet(b,
a)})):"function"===typeof navigator.share?(a.logCounter("ShareIngress.MobileWeb.NativeShareAvailable",1),c.showNativeSheet(b)):(a.logCounter("ShareIngress.MobileWeb.BottomShareSheetAvailable",1),c.showBottomSheet(b))})});h.when("A").register("socialShareUtil",function(f){function c(n,a,b,c){a=new RegExp("([?\x26/])"+a+"\x3d.*?(\x26|$)","i");var d=-1!==n.indexOf("?")?"\x26":"?";return n.match(a)?n.replace(a,"$1"+b+"\x3d"+c+"$2"):n+d+b+"\x3d"+c}function a(){for(var n="",a=0;13>a;a++)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*
Math.random()));return n}function g(){var a="UNKNOWN",b="UNKNOWN",c={MSHOP_IOS:"MSHOP_IOS",MSHOP_ANDROID:"MSHOP_ANDROID",MSHOP_UNKNOWN:"MSHOP_UNKNOWN",MWEB_IOS:"MWEB_IOS",MWEB_ANDROID:"MWEB_ANDROID",MWEB_UNKNOWN:"MWEB_UNKNOWN",TABLET_IOS:"TABLET_IOS",TABLET_ANDROID:"TABLET_ANDROID",TABLET_UNKNOWN:"TABLET_UNKNOWN",UNKNOWN_UNKNOWN:"DESKTOP"};k.isAmazonApp?a="MSHOP":k.mobile?a="MWEB":k.tablet&&(a="TABLET");k.ios?b="IOS":k.android&&(b="ANDROID");a=a+"_"+b;return c[a]?c[a]:"UNKNOWN_PLATFORM"}function b(){var a=
new Date(Date.now()),b=6E4*a.getTimezoneOffset(),b=(new Date(a-b)).toISOString().split("Z")[0].split(".")[0],a=a.toISOString().split("Z")[0].split(".")[0],c=a.split("T")[0];return{marketplaceId:d.ue&&d.ue.mid?d.ue.mid:"unknown",hitDay:c,hitDatetime:b,hitDatetimeUtc:a,sessionId:d.ue&&d.ue.sid?d.ue.sid:"unknown",pageType:d.ue_pty?d.ue_pty:"unknown",subPageType:d.ue_spty?d.ue_spty:"unknown"}}function e(a,b){var c=a="unknown",d={"com.google.android.gm.ComposeActivityGmail":"Email","com.android.email.activity.MessageCompose":"Email",
"com.google.android.gm.ComposeActivityGmailExternal":"Email","com.twitter.android.composer.TextFirstComposerActivity":"Twitter","com.twitter.android.composer.ComposerActivity":"Twitter","com.twitter.app.dm.DMActivity":"Twitter","com.android.mms.ui.ConversationComposer":"SMS","com.android.mms.ui.ComposeMessageActivity":"SMS","com.google.android.apps.messaging.ui.conversationlist.ShareIntentActivity":"SMS","com.facebook.composer.shareintent.ImplicitShareIntentHandler":"Facebook","com.facebook.composer.shareintent.ImplicitShareIntentHandlerDefaultAlias":"Facebook",
"com.facebook.messenger.activity.ShareLauncherActivity":"FacebookMessenger","com.facebook.messenger.intents.ShareIntentHandler":"FacebookMessenger","com.whatsapp.contact.picker.ContactPicker":"WhatsApp","com.whatsapp.ContactPicker":"WhatsApp","com.sina.weibo.EditActivity":"Weibo","com.sina.weibo.composerinde.ComposerDispatchActivity":"Weibo","com.weico.international.activity.compose.SeaComposeActivity":"Weibo","com.pinterest.activity.create.PinItActivity":"Pinterest","jp.naver.line.android.activity.selectchat.SelectChatActivity":"Line",
"com.linecorp.line.share.common.view.FullPickerLaunchActivity":"Line","com.google.android.apps.docs.drive.clipboard.SendTextToClipboardActivity":"Copy","com.instagram.direct.share.handler.DirectShareHandlerActivity":"Instagram","com.snap.mushroom.MainActivity":"Snapchat"},e={px:"BabyRegistry",wr:"WeddingRegistry",sr:"AmazonShowroom",gr:"GiftRegistry",as:"AlexaSkills",dl:"Deal",dp:"DetailPage",qv:"Search",br:"BabyRegistry",al:"AmazonLive",ao:"Voltron",bc:"AmazonBookClub"},l=g(),h=b.url,f=h.split("/");
if(b.network)a=b.network;else if(b.sharingType){var m=b.sharingType.replace(/['"]+/g,"");k.ios?a=m:d[m]&&(a=d[m])}b=e[b.refId]?e[b.refId]:"unknown";d=new RegExp(/^([a-zA-Z0-9]){10}$/);for(e=f.length-1;1<=e;e--)if(f[e].match(d)){c=f[e];break}h=h.match(new RegExp(/^https:\/\/www.amazon./))?f[0]+"/"+f[1]+"/"+f[2]:"unknown";return{channel:a,platform:l,referrerUrl:h,shareRefId:b,asin:c}}function l(a){return"undefined"!==typeof a.pageLevelStateKey?f.state(a.pageLevelStateKey):a.pageLevelData}function m(a,
b){d.ue&&(a="SocialShareJS."+a,d.ue.count(a,(d.ue.count(a)||0)+b))}function p(){d.uet&&d.uet("bb","SocialShareJS",{wb:1})}var k=f.capabilities;p();return{buildUrl:function(a,b,c){b=b||{};var d=Object.keys(b);c=0<d.length&&("sms:"!==a||"IPHONE"!==c)?"?":"";for(var e=0;e<d.length;e++)"?"!==c&&(c+="\x26"),b[d[e]]&&(c+=d[e]+"\x3d"+encodeURIComponent(b[d[e]]));return a+c},logFatal:function(a,b){m("Fatal",1);var c="SHARE_WITH_FRIENDS_JS_WIDGET";b&&(c=c+"_"+b);h.log(a,"FATAL",c)},decodeEntities:function(a){var b=
document.createElement("textarea");b.innerHTML=a;return b.value},getPageData:l,generateReftags:function(b,c){var d,e;b=l(b);"undefined"!==typeof b&&(d=b.clientRef,e=b.deviceTypeRef);d=d?d:"un";e=e?e:"un";b=c?c:"un";c=a();b="cm_sw_"+b;d=d+"_"+e+"_"+c;return{returnReftag:b+"_r_"+d,clickReftag:b+"_c_"+d}},generateNativeReftags:function(b){b=b?b.toLowerCase():"ur";var c="ud",d=a(),e=k.isAmazonApp&&k.ios;if(k.isAmazonApp&&k.android)c="apa";else if(e)c="api";else if(k.mobile||k.tablet)c="mwn";return{returnReftag:"cm_sw_r_"+
c+"_"+b+"_"+d,clickReftag:"cm_sw_c_"+c+"_"+b+"_"+d}},updateReftagParam:function(a,b,d){return d?c(a,"ref_?","ref_",b):c(a,"ref_?","ref",b)},generateUUID:a,triggerShare:function(a,b,c,e){if(b){b=screen.width;var g=screen.height;c=c?c:.7*b;e=e?e:.7*g;d.open(a,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+c+",height\x3d"+e+",top\x3d"+(g/2-e/2)+",left\x3d"+(b/2-c/2))}else d.open(a,"_top")},generatePlatform:g,generateClientSideAttributes:b,generateServerSideAttributes:e,logCSACustomEvent:function(a,c,
g){var f=b();g=e(a,g);d.csa&&d.csa("Events",{producerId:"social-share"})("log",{schemaId:"SocialShareCSACustomEvent.CSAShareMetrics.8",customerId:"unknown",marketplaceId:f.marketplaceId,hitDay:f.hitDay,hitDatetime:f.hitDatetime,hitDatetimeUtc:f.hitDatetimeUtc,sessionId:f.sessionId,pageType:f.pageType,subPageType:f.subPageType,refMarker:a,isInternal:2,isRobot:2,httpRequestId:"unknown",referrerUrl:g.referrerUrl,userAgentId:0,channel:g.channel,ingress:g.shareRefId,platform:g.platform,shareHitType:c,
asin:g.asin})},logCounter:m,startTimer:p,stopTimer:function(){d.uet&&d.uet("be","SocialShareJS",{wb:1});d.uex&&d.uex("ld","SocialShareJS",{wb:1})},getFullPageType:function(){return"page:"+(d.ue_pty||"unknown")+",sub:"+(d.ue_spty||d.ue_pti||"unknown")},getAttribution:function(a){a=navigator.platform||a;var b=(k.isAmazonApp?"AmazonApp":"mWeb")+(k.mobile?":mobile":"")+(k.tablet?":tablet":"");k.android&&(a="Android:"+b+k.androidVersion);k.ios&&(a="iOS:"+b);return"SocialShareJS:"+a},truncateMessage:function(a,
b){var c=Array(3).fill(".");return a.length>b?a.substring(0,b-3)+c.join(""):a}}});h.when("a-sheet","socialShareUtil").register("tafBottomSheet",function(d,c){return{showBottomSheet:function(a){c.logCounter("ShareIngress.MobileWeb.CustomShareSheetShow",1);try{var g=c.generateNativeReftags(a.refId),b={name:"cancelButtonSheet",height:400,closeType:"icon"};a.preloadDomId&&(b.preloadDomId=a.preloadDomId);var e=d.create(b);d.showSheet(e);c.logCSACustomEvent(g.clickReftag,"share",a)}catch(l){c.logCounter("ShareIngress.MobileWeb.CustomShareSheetError",
1),a="Error triggering Custom Share on: "+c.getFullPageType()+":"+l.message,h.log(a,"FATAL",c.getAttribution())}},showNativeSheet:function(a){c.logCounter("ShareIngress.MobileWeb.NativeShareSheetShow",1);try{var d=c.generateNativeReftags(a.refId),b=c.updateReftagParam(a.url,d.returnReftag,!0),e=a.description||a.text;c.logCounter("Click.ShareIngress.Native."+a.refId,1);navigator.share({url:b,text:a.title,title:e}).then(function(){c.logCounter("ShareIngress.MobileWeb.NativeShareDone",1);c.logCSACustomEvent(d.clickReftag,
"click_success",a);c.logCSACustomEvent(d.clickReftag,"share",a)}).catch(function(b){c.logCounter("ShareIngress.MobileWeb.NativeShareClosed",1);c.logCSACustomEvent(d.clickReftag,"click_success",a);c.logCSACustomEvent(d.clickReftag,"click_cancel",a)})}catch(f){c.logCounter("ShareIngress.MobileWeb.NativeShareSheetError",1),c.logCSACustomEvent(d.clickReftag,"click_error",a),b="Error triggering Native Share on: "+c.getFullPageType()+":"+f.message,h.log(b,"FATAL",c.getAttribution(a.deviceEnv))}},showAppSheet:function(a,
d){c.logCounter("ShareIngress.MobileApp.MashShareSheetShow",1);try{var b=c.generateNativeReftags(a.refId),e=c.updateReftagParam(a.url,b.returnReftag,!0),f=a.description||a.text,m=a.title+"\n"+e,p=e.length+2,k=c.truncateMessage(a.title,160-p)+"\n"+e,n=c.truncateMessage(a.title,140-p)+"\n"+e;c.logCounter("Click.ShareIngress.Mash."+a.refId,1);d.share({messagePlain:m,messagePlain160:k,messagePlain140:n,messageHTML:m,url:e,subject:f,successCallback:function(){c.logCounter("ShareIngress.MobileApp.MashShareSheetSuccess",
1);c.logCSACustomEvent(b.clickReftag,"click_success",a)},failCallback:function(){c.logCounter("ShareIngress.MobileApp.MashShareSheetFail",1);c.logCSACustomEvent(b.clickReftag,"click_error",a)},shareServiceSelectedCallback:function(d){"'null'"===d||null===d?c.logCSACustomEvent(b.clickReftag,"click_cancel",a):(c.logCounter("ShareIngress.MobileApp.MashShareSheetSharingTypeAvailable",1),a.sharingType=d,c.logCSACustomEvent(b.clickReftag,"share",a))}})}catch(r){c.logCounter("ShareIngress.MobileApp.MashShareSheetError",
1),d="Error triggering Mash Share on: "+c.getFullPageType()+":"+r.message,h.log(d,"FATAL",c.getAttribution(a.deviceEnv))}}}})});
/* ******** */
(function(f){var g=window.AmazonUIPageJS||window.P,h=g._namespace||g.attributeErrors,c=h?h("GuidedNavigationWidgetAssets",""):g;c.guardFatal?c.guardFatal(f)(c,window):c.execute(function(){f(c,window)})})(function(f,g,h){"use strict";f.when("A","s-url-parameters").register("inscx-guided-navigation-controller",function(c,k){function f(a){var b=[],e;for(e in d)d.hasOwnProperty(e)&&d[e]&&d[e].namespace&&0===d[e].namespace.localeCompare(a)&&b.push(d[e]);return b}function h(a){var b=document.getElementById(a+
"guided-apply");0<f(a).length?c.show(b):c.hide(b)}function q(a,b,e){var c,d="",d=e.map(function(a){return a.key}).join("|");return a.split(",").map(function(a){return(c=a.split(":")[0])&&c===b?c+":"+d:a}).join(",")}function l(a){var b=a.namespace+a.key,e=m(document.getElementById(b));d[b]=a;e.addClass("inscx-guided-search-recommendation-pill-clicked")}function n(a){a=a.namespace+a.key;var b=m(document.getElementById(a));d[a]=null;b.removeClass("inscx-guided-search-recommendation-pill-clicked")}function r(a){d[a.namespace+
a.key]?n(a):l(a)}function p(a){var b;var e,c=f(a),d=c[c.length-1];d?(e=k.parseQueryString(d.searchUrl),!0===d.isMultiSelect&&(b=k.getParamValue(e,"rh"),b=q(b,d.shortId,c),k.setParamValue(e,"rh",b))):e=k.parseQueryString(g.location.search);b=k.paramsToString(e,!0);document.getElementById(a+"guided-apply").setAttribute("t_href",encodeURI(b));g.location.search=b}var m=c.$,d={};c.declarative("guided-recommendation-apply","click",function(a){(a=a.data)&&p(a.namespace)});c.declarative("guided-recommendation-click",
"click",function(a){a=a.data;var b;a&&(!1===a.isMultiSelect?(b=f(a.namespace),b.forEach(function(a){n(a)}),l(a),p(a.namespace)):(r(a),h(a.namespace)))})})});
/* ******** */
(function(k){var f=window.AmazonUIPageJS||window.P,m=f._namespace||f.attributeErrors,a=m?m("SearchBestOverallWidgetAssets",""):f;a.guardFatal?a.guardFatal(k)(a,window):a.execute(function(){k(a,window)})})(function(k,f,m){k.when("A","best-overall-constant","best-overall-util").execute(function(a,c,e){a.declarative("show-best-overall-side-sheet","click keydown",function(b){("click"===b.type||e.checkKeyDownAction(b,c.KEY_ENTER))&&a.trigger(c.OPEN_SHEET,b.data,b.$currentTarget)});a.declarative("close-best-overall-side-sheet",
"click keydown",function(b){("click"===b.type||e.checkKeyDownAction(b,c.KEY_ENTER))&&a.trigger(c.CLOSE_SHEET)})});"use strict";k.when("A","rush-framework","best-overall-constant","best-overall-inject","best-overall-util").execute("lpx-best-overall-secondary-sheet",function(a,c,e,b,g){var d=a.$;c.registerComponent("lpx-best-overall-secondary-sheet","lpx-best-overall-secondary-sheet",function(c){function p(b,d){a.animate(f,b,e.ANIMATE_TIME,"ease-out",d)}function q(){a.show(h.find(".lpx-best-overall-darken-background"));
a.show(h.find(".lpx-best-overall-close"));a.show(h.find(".lpx-best-overall-spinner"));f.show(function(){p({right:"0px"})});d("body").css("overflow","hidden");f.css("overflow","visible")}function r(){var b=f.width()+e.HIDE_BUFFER;p({right:"-"+b+"px"},function(){f.css({display:"none"})});d("body").css("overflow","scroll");a.hide(h.find(".lpx-best-overall-close"));a.hide(h.find(".lpx-best-overall-darken-background"));a.hide(h.find(".lpx-best-overall-secondary-error"));m.children("div").focus()}function n(){g.showErrorMessage(h);
g.emitMetric(e.METRIC_AJAX_FAIL_DESKTOP)}function k(d){d=d.response;var c=h.find(".a-scroller.a-scroller-vertical");g.validateSecondaryViewData(d)?(b.addSecondaryReviewLink(h,d.seeMoreCustomerReviewsUrl),b.addSecondaryArticleSection(h,d.recommendedArticleCount,d.articleList),a.show(c),c.scrollTop(e.SCROLLER_TOP),a.hide(h.find(".lpx-best-overall-spinner")),f.find(".lpx-best-overall-close").focus(),g.emitMetric(e.METRIC_SECONDARY_SUCCESS_DESKTOP)):(g.showErrorMessage(h),f.find(".lpx-best-overall-close").focus(),
g.emitMetric(e.METRIC_SECONDARY_FAIL_DESKTOP))}var l=c.elem(),h=d(l),f=h.children(".lpx-best-overall-side-sheet"),m;a.on(e.OPEN_SHEET,function(a,d){g.requestSecondaryViewData(a.ajaxUrl,k,n);q();var c=d.prev(),e=c.find("img"),c=c.children("div:last-child");b.addSecondaryAsin(h,e,c);b.addSecondaryAttributeList(h.find(".lpx-best-overall-secondary-attribute-section"),a.attributes);m=d});a.on(e.CLOSE_SHEET,function(){r()});c.teardown=function(){a.off(e.OPEN_SHEET);a.off(e.CLOSE_SHEET)}})});"use strict";
k.register("best-overall-constant",function(){return{OPEN_SHEET:"lpx-best-overall-open-sheet-event",BEFORE_OPEN_SHEET:"a:sheet:beforeShow:best-overall-bottom-sheet",CLOSE_SHEET:"lpx-best-overall-close-sheet-event",AJAX_TIMEOUT:5E3,ANIMATE_TIME:300,HIDE_BUFFER:50,SCROLLER_TOP:0,KEY_ENTER:13,METRIC_SECONDARY_SUCCESS_DESKTOP:"LPXBestOverallSecondaryRenderSuccessDesktop",METRIC_SECONDARY_SUCCESS_MOBILE:"LPXBestOverallSecondaryRenderSuccessMobile",METRIC_SECONDARY_FAIL_DESKTOP:"LPXBestOverallSecondaryRenderFailDesktop",
METRIC_SECONDARY_FAIL_MOBILE:"LPXBestOverallSecondaryRenderFailMobile",METRIC_AJAX_FAIL_DESKTOP:"LPXBestOverallAjaxFailDesktop",METRIC_AJAX_FAIL_MOBILE:"LPXBestOverallAjaxFailMobile"}});"use strict";k.when("A","jQuery","best-overall-elem","best-overall-util").register("best-overall-inject",function(a,c,e,b){function g(d,c,g,f){d.forEach(function(d,n,k){var l=b.clone(c),h=l.find('span[name\x3d"authorName"]');h.text(d.articleAuthor);d.verifiedPublisher&&h.append(e.createProfileVerifiedBadge(f));l.find("img").attr("src",
d.avatarUrl);l.children("a:first").attr("href",d.profileUrl);l.children("div:first").children("a").attr("href",d.articleUrl);l.find('span[name\x3d"articleBody"]').text(d.articleContent);l.find('a[name\x3d"articleName"]').text(d.articleTitle).attr("href",d.articleUrl);l.find('span[name\x3d"articleDate"]').text(d.articleUpdateDate);a.show(l);g.append(l);n!==k.length-1&&g.append(e.createDivider(f))})}return{addSecondaryReviewLink:function(d,a){d.find(".lpx-best-overall-review-link").attr("href",a)},
addSecondaryAttributeList:function(d,a){var b=d.find(".lpx-best-overall-secondary-attribute-list"),c=b.children("div"),g="";a.forEach(function(a){c.find('span[name\x3d"attributeName"]').text(a.name);c.find('span[name\x3d"attributeRating"]').empty().append(e.createStarReview(a.fullStarNumber,a.hasHalfStar,d)).append(e.createLetterSpace()).append(a.rating);g+=a.name+", ";g+="rating "+a.rating+". ";c=c.next()});b.attr("aria-label",g)},addSecondaryArticleSection:function(a,b,c){var e=a.find(".lpx-best-overall-secondary-article-info"),
f=a.find(".lpx-best-overall-secondary-article-list"),k=a.find(".lpx-best-overall-template-article").clone().removeClass("lpx-best-overall-template-article");e.find("span").text(b);e.attr("aria-label",b);f.empty();g(c,k,f,a)},addSecondaryAsin:function(a,c,e){a.find(".lpx-best-overall-secondary-asin-image").empty().append(b.clone(c));a.find(".lpx-best-overall-secondary-asin-info").empty().append(b.clone(e))}}});"use strict";k.when("jQuery").register("best-overall-elem",function(a){return{createStarReview:function(a,
e,b){a=".lpx-best-overall-star-"+a+(e?"-5":"");return b.find(".lpx-best-overall-template-rating-star").find(a).clone()},createProfileVerifiedBadge:function(a){return a.find(".lpx-best-overall-template-verified-badge").children().clone().css("vertical-align","middle")},createDivider:function(a){return a.find(".lpx-best-overall-template-divider").clone().removeClass("lpx-best-overall-template-divider aok-hidden").attr("aria-hidden","true")},createLetterSpace:function(){return a("\x3cspan\x3e\x3c/span\x3e").addClass("lpx-best-overall-letter-space aok-inline-block")}}});
"use strict";k.when("A","best-overall-constant","s-search-ajax-controller").register("best-overall-util",function(a,c,e){return{clone:function(a){a=a.clone();a.removeAttr("id");a.find("[id]").removeAttr("id");return a},requestSecondaryViewData:function(a,g,d){e(a,{method:"get",timeout:c.AJAX_TIMEOUT}).then(g,d)},validateSecondaryViewData:function(b){var c=!0;if(a.objectIsEmpty(b)||a.objectIsEmpty(b.articleList)||a.objectIsEmpty(b.recommendedArticleCount)||a.objectIsEmpty(b.seeMoreCustomerReviewsUrl))return!1;
b.articleList.forEach(function(b){if(a.objectIsEmpty(b.articleAuthor)||a.objectIsEmpty(b.articleContent)||a.objectIsEmpty(b.articleTitle)||a.objectIsEmpty(b.articleUpdateDate)||a.objectIsEmpty(b.articleUrl)||a.objectIsEmpty(b.avatarUrl)||a.objectIsEmpty(b.profileUrl))c=!1;!0!==b.verifiedPublisher&&!1!==b.verifiedPublisher&&(c=!1)});return c},checkKeyDownAction:function(b,c){return a.objectIsEmpty(b)||a.objectIsEmpty(b.type)?!1:"keydown"!==b.type||b.$event.keyCode!==c&&b.$event.key!==c?!1:!0},emitMetric:function(a){f.ue&&
f.ue.count&&f.ue.count(a,(f.ue.count(a)||0)+1)},showErrorMessage:function(b){a.hide(b.find(".lpx-best-overall-spinner"));a.hide(b.find(".a-scroller.a-scroller-vertical"));a.show(b.find(".lpx-best-overall-secondary-error"))}}})});
/* ******** */
(function(d){var e=window.AmazonUIPageJS||window.P,f=e._namespace||e.attributeErrors,b=f?f("SearchEntityWidgetAssets",""):e;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,e,f){d.when("jQuery","a-truncate").register("rdx-entity-paragraph-common",function(b,c){return{rdxEntityLineHeightOverride:function(a){b(a.elem()).find(".rdx-entity-paragraph").each(function(a,c){a=b(c);c=a.attr("data-a-max-rows");a.css({"line-height":"1.5em","max-height":1.5*c+"em"})})},rdxEntityParagraphARIATruncate:function(a){a=
b(a.elem());a.find(".a-truncate-full").attr("aria-hidden","true");a.find(".a-truncate-cut").attr("aria-hidden","false")},rdxEntityUpdateParagraphTruncate:function(a){a=b(a.elem()).find(".a-truncate");c.get(a).update()}}});"use strict";d.when("rush-framework","rdx-entity-paragraph-common").register("rdx-entity-paragraph-truncate",function(b,c){b.registerComponent("rdx-entity-paragraph-truncate","rdx-entity-paragraph-truncate",function(a){c.rdxEntityLineHeightOverride(a);c.rdxEntityParagraphARIATruncate(a);
c.rdxEntityUpdateParagraphTruncate(a)})});"use strict";d.when("jQuery","rush-framework").register("enable-keyboard-navigation-outline",function(b){b=b("#entity-widget-carousel");if(0<b.length){b=b[0].getElementsByClassName("a-carousel-card");for(var c=0;c<b.length;c++){var a=b[c].getElementsByClassName("a-link-normal");a&&0<a.length&&(a[0].classList.remove("s-no-outline"),0<a[0].children.length&&0<a[0].children[0].children.length&&(a=a[0].children[0].children[0],a.width===a.height&&(a.style.width=
"95%")))}}})});
/* ******** */
(function(l){var h=window.AmazonUIPageJS||window.P,y=h._namespace||h.attributeErrors,g=y?y("SearchWebAskAndAssistWidgetAssets",""):h;g.guardFatal?g.guardFatal(l)(g,window):g.execute(function(){l(g,window)})})(function(l,h,y){l.when("A","rush-framework","s-ana-widget-tracking-utils","s-ana-url-utils","s-ana-device-type-constants","ready").register("s-ana-widget",function(g,l,f,t,b){function c(a,m){var b=n.extend({},a);m&&m.forEach(function(a){delete b[a]});return b}function u(a,b,e){e=n.extend({},
e);var q;e.n="n:"+a.join(",n:");for(q in b)b.hasOwnProperty(q)&&(e[q]=b[q].join("|"));return t.buildSearchQueryString(e)}function r(a,b,e){var q={};q.ref=b.refMaker;q.rh=e;q.k=a.k;q.dm="true";q.dc="true";return q}function a(a,b,e,q){var d=t.getQueryParameters(h.location.href),k=t.getSearchParametersMap(d);q=c(k,q);a=u(b,a,q);return location.origin+"/s"+e.percolateParameters+"\x26"+n.param(r(d,e,a))}function e(a,b,e){for(var d=0,f={},k,c,p,n=[],d=0;d<b.length;d++)for(p in c=e[d],k=b[d],k=a[k],k=k.answersList,
c=k[c],c=c.refinements,c)f.hasOwnProperty(p)?(n=f[p].concat(c[p]),f[p]=n.filter(function(a,b){return n.indexOf(a)===b})):f[p]=c[p];return f}function d(b,m,d,c,x){return function(k){k=n(k.currentTarget);var g=m.currentQuestionId,p;p=k.data("answer-index");var v=c[g].answersList[p].nextQuestionId;f.updateClientSideMetricCounter("CE_GN_AnA_SelectAnswer");m.questionPath.push(g);m.answerIndexList.push(p);p=f.incrementAndFetchQuestionIndex(m);f.updateSelectedAnswer(b,k);if(!v){k=m.questions;g=m.metadata;
f.updateClientSideMetricCounter("CE_GN_AnA_SelectAnswerSuccess");f.updateClientSideMetricCounter("CE_GN_AnA_PageRefresh");f.updateClientSideMetricCounter("CE_GN_AnA_SelectedAnswerCount",p);p=e(k,m.questionPath,m.answerIndexList);var v=m.questionPath,r=m.answerIndexList,u=g.scopedNodeList,h,l,w;for(h=0;h<v.length;h++)w=v[h],l=r[h],w=k[w],l=w.answersList[l].additionalScope,u=u.concat(l);k=a(p,u,g,x);m.questionPath.pop();m.answerIndexList.pop();f.decrementAndFetchQuestionIndex(m);t.navigateTo(k);return k}m.currentQuestionId=
v;f.renderNextQuestion(b,p,d,c,g,v);f.updateClientSideMetricCounter("CE_GN_AnA_SelectAnswerSuccess")}}function x(a,b,e,d){return function(){var c=b.currentQuestionId,k=b.questionPath.pop(),n=a.find(".s-ana-answer-button-list[data-question-id\x3d"+k+"]"),g=b.answerIndexList.pop(),n=n.children(".s-ana-answer[data-answer-index\x3d"+g+"]");f.updateClientSideMetricCounter("CE_GN_AnA_ClickBack");g=f.decrementAndFetchQuestionIndex(b);f.renderNextQuestion(a,g,e,d,c,k);b.currentQuestionId=k;f.updateSelectedAnswer(a,
n);f.updateClientSideMetricCounter("CE_GN_AnA_ClickBackSuccess")}}function v(a){var e=t.getQueryParameters(h.location.href),d={};d.firstQuestionId=a.firstQuestionId;d.configVersion=a.configVersion;d.keywords=e.k;d.locale=a.locale;d.strategyId=a.strategyId;d.productType=a.productType;d.deviceType=b.deviceType;a=t.getQueryParameters(a.percolateParameters);d.placementId=a["content-id"];return d}var n=g.$;l.registerComponent("s-ana-widget","s-ana-widget",function(a){a=n(a.elem());var b=a.data("widget-data")||
{},e=b.metadata,c=b.questions,h=v(e),k=a.find(".s-ana-answer"),u=a.find(".s-ana-back-button");f.addWidgetComponentTracking(a,h);f.updateClientSideMetricCounter("CE_GN_AnA_WidgetLoad");b.currentIndex=b.currentIndex?b.currentIndex:0;b.currentQuestionId=e.firstQuestionId;b.questionPath=b.questionPath?b.questionPath:[];b.answerIndexList=b.answerIndexList?b.answerIndexList:[];e&&0<k.length&&(g.each(k,function(a){f.addAnswerButtonTracking(a,c,h)}),k.click(d(a,b,e,c,e.refinementBinList)),0<u.length&&f.addBackButtonTracking(a.find(".s-ana-back-button")[0],
h),a.find(".s-ana-back-button").click(x(a,b,e,c)));f.createDesktopLearnMoreClickHandlers(a,c);f.updateClientSideMetricCounter("CE_GN_AnA_WidgetLoadSuccess")});return{cleanUpSearchParameterMap:c,buildSearchQueryString:u,buildQueryParameters:r,createAnswerClickHandler:d,createBackButtonHandler:x,buildUrl:a}});l.when("R","rush-router-pattern-parser","s-ana-widget-tracking-utils").register("s-ana-url-utils",function(g,l,f){function t(b){b=(b||"").split("?");b=1<b.length?b.slice(1).join("?"):b[0];return l.parseQueryString(b)}
return{getQueryParameters:t,getSearchParametersMap:function(b){var c={},f,g;if(b&&b.rh)for(b=b.rh.split(","),g=0;g<b.length;g++)f=b[g].split(":"),c[f[0]]=f[1];return c},buildSearchQueryString:function(b){var c,f=[];for(c in b)"n"===c?f.push(b[c]):f.push(c+":"+b[c]);return f.join(",")},navigateTo:function(b){var c={};c.url=b;f.updateClientSideMetricCounter("HCXEffortlessShoppingANAPageRefreshSuccess");g.to(c)},buildQuestionAnswerList:function(){var b=t(h.location.href),c;if(!b||!b.wi)return[];try{c=
JSON.parse(b.wi)}catch(f){return[]}return c&&c.qs?c.qs:[]}}});l.when("A","a-modal","ready").register("s-ana-widget-tracking-utils",function(g,l){function f(a,b,d){d=d?"aok-hidden":"s-ana-back-button-hidden";0===b?a.find(".s-ana-back-button").addClass(d):a.find(".s-ana-back-button").removeClass(d)}function t(a,b,d,c){a.find(".s-ana-question").addClass("s-ana-hidden-element");a.find(".s-ana-question-index").text(b.indexList[d]);a.find(".s-ana-question-text").text(c.questionString);a.find(".s-ana-question").removeClass("s-ana-hidden-element")}
function b(a,b,d){a.attr("data-csa-c-"+b,d)}function c(a,e){var d=h.csa;b(a,"product-type",e.productType);b(a,"strategy-id",e.strategyId);b(a,"device-type",e.deviceType);b(a,"keywords",e.keywords);b(a,"config-version",e.configVersion);b(a,"locale",e.locale);d&&d("Content",{element:a.get(0)})}function u(a,b,d){var c=a.find("#s-ana-learn-more-link-"+b);a=a.find("#s-ana-learn-more-link-"+d);c&&c.addClass("aok-hidden");a&&a.removeClass("aok-hidden");g.each(r(".s-ana-learn-more-content"),function(a){var c=
a.getAttribute("data-question-id");c===b?r(a).addClass("aok-hidden"):c===d&&r(a).removeClass("aok-hidden")})}var r=g.$;return{updateSelectedAnswer:function(a,b){a.find(".s-ana-answer").removeClass("s-ana-answer-button-selected");b.addClass("s-ana-answer-button-selected")},renderNextQuestion:function(a,b,d,c,h,n){var l=a.find(".s-ana-answer-button-list[data-question-id\x3d"+h+"]");c=c[n];var m=a.find(".s-ana-answer-button-list[data-question-id\x3d"+n+"]"),r=a.find(".s-ana-footer");l.addClass("s-ana-hidden-element");
t(a,d,b,c);f(a,b,d.balanced);u(a,h,n);m.removeClass("s-ana-hidden-element");g.fadeOut(r,"0","ease-in",function(){g.fadeIn(r,"500","ease-in",function(){})})},updateClientSideMetricCounter:function(a,b){b=b?b:1;h.ue&&h.ue.count&&h.ue.count(a,(h.ue.count(a)||0)+b)},incrementAndFetchQuestionIndex:function(a){var b=a.currentIndex;b++;return a.currentIndex=b},decrementAndFetchQuestionIndex:function(a){var b=a.currentIndex;b--;return a.currentIndex=b},createDesktopLearnMoreClickHandlers:function(a,b){g.each(b,
function(b,c){if(a.find(".s-ana-learn-more-modal-trigger-"+c)&&b.educationalContent){var e={header:b.educationalContent.contentHeaderString,dataStrategy:"preload",name:"learnMoreContent"};r(document).delegate(".s-ana-learn-more-modal-trigger-"+c,"click",function(a){a.preventDefault();l.get("learnMoreContent")?a=l.get("learnMoreContent").update(e):(a=r(".s-ana-learn-more-modal-trigger-"+c),a=l.create(a,e));a.show()})}})},addAnswerButtonTracking:function(a,e,d){a=r(a);var f=a.data("answer-index"),g=
a.parent().data("question-id"),h=e[g].answersList[f].nextQuestionId,l="guided-nav-button-question-"+g+"-answer-"+f+"."+d.placementId;b(a,"type","item");b(a,"item-type","button");b(a,"item-id",l);b(a,"posx",f);b(a,"question-raw",e[g].questionString);b(a,"answer-raw",a.text().trim());b(a,"question-id",g);b(a,"answer-index",f);h||b(a,"page-refresh-click","true");c(a,d)},addWidgetComponentTracking:function(a,e){var d="guided-nav-widget-content-id."+e.placementId;b(a,"type","widget");b(a,"content-id",
d);b(a,"slot-id","guided-navigation-widget");b(a,"first-question-id",e.firstQuestionId);c(a,e)},addBackButtonTracking:function(a,e){a=r(a);var d="guided-nav-button-back."+e.placementId;b(a,"type","item");b(a,"item-type","button");b(a,"item-id",d);b(a,"pos","0,0");b(a,"question-id","-1");b(a,"answer-index","-1");c(a,e)}}});l.register("s-ana-device-type-constants",function(){return{deviceType:"desktop"}})});
/* ******** */
(function(f){var n=window.AmazonUIPageJS||window.P,l=n._namespace||n.attributeErrors,e=l?l("SearchWebKnowledgeWidgetAssets",""):n;e.guardFatal?e.guardFatal(f)(e,window):e.execute(function(){f(e,window)})})(function(f,n,l){f.when("A","s-web-application-controller","rush-util","tab-nav-util").register("tab-nav-ajax",function(e,d,f,p){return{ajaxTabClick:function(e){var a=e.selectedTab.$tab;e=a.attr("id");var v=a.attr("data-ajaxUrl"),b=a.attr("data-asinIdToMetadata"),h=a.closest("[data-widgetId]").attr("data-widgetId"),
a=a.closest("[data-uuid]").attr("data-uuid"),c="",k=!1,m={};f.isNullOrUndefined(h)||2!==h.split(":").length||(c=h.split(":")[0]);h={uuid:a,ajaxUrl:v};(k=p.checkCriticalDataMissing(h))?p.logMissingCriticalData(h,c):(m.suffix=":"+a+":"+e,"undefined"!==typeof b&&(m.asinIdToMetadata=b),p.logMetric("tab_navigation:"+c),d.requestPartialContent(v,m)["catch"](function(){p.logMetric("tab_navigation:"+c+":ajax_call_failure")}))}}});f.when("A","jQuery","rush-framework","s-actions","rush-util","tab-nav-util",
"tab-nav-ajax","a-carousel-framework").register("know-tab-nav",function(e,d,f,p,q,a,v,b){f.registerComponent("s-tab-navigation-component","s-tab-navigation-component",function(h){var c=h.elem(),k=d(c),c=k.closest("[data-uuid]").attr("data-uuid"),m=k.closest("[data-widgetId]").attr("data-widgetId"),g=a.getMatchingElement(k,".a-carousel-container"),f=k.closest(".a-tab-content"),n=a.getActiveTabHeight(k),t=a.getMatchingElement(k,"[id*\x3dtab-navigation-tab-spinner]"),l="",x=!1,u=f.attr("id"),w=f.closest(".a-tab-container").find(".know-tab-nav-tabs-set").find("li.know-tab-nav-tab-header#"+
a.escapeSpecialHashCharacter(u)),r=a.getMatchingElement(g,"[id*\x3dtab-navigation-asin-header]");q.isNullOrUndefined(m)||2!==m.split(":").length||(l=m.split(":")[0]);m={uuid:c,carousel:g,tabContent:f,initialActiveTabHeight:n};(x=a.checkCriticalComponentDataInvalid(m))?(a.logMissingCriticalData(m,l),a.logCounter("tab-navigation-missing-widget-data",!1)):(h.on(p.LOAD_SEARCH_PAGE+":"+c+":"+u,function(){t=a.getMatchingElement(k,"[id*\x3dtab-navigation-tab-spinner]");!f.is(".a-hidden")&&0<t.length&&(g.addClass("aok-hidden"),
t.height(n),t.html('\x3cdiv class\x3d"a-spinner-wrapper know-tab-nav-spinner"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium"\x3e\x3c/span\x3e\x3c/div\x3e'))}),h.on(p.RESULT_ITEM_READY+":"+c+":"+u,function(c){var e=f.attr("id"),d=document.createElement("div");q.isNullOrUndefined(c)||q.isBlank(e)?(a.logMetric("tab_navigation:"+l+":ajax_asin_invalid"),a.logCounter("tab-navigation-invalid-payload",!1)):(c=c.item.html,d.innerHTML=c,d=d.firstElementChild.getAttribute("data-asin"),q.isNotBlank(d)&&!f.is(".a-hidden")&&
(d="#tab-navigation-replace-"+a.escapeSpecialHashCharacter(e)+"-"+d,d=k.find(d)[0],q.isNullOrUndefined(d)||(c=a.getAsinContent(c),0<c.length&&(h.replace(d,c[0].innerHTML),q.isNullOrUndefined(t)||0!==f.find("[id*\x3dtab-navigation-replace]").length?a.logCounter("tab-navigation-asins-not-matching",!0):(t.remove(),g.removeClass("aok-hidden"),a.forceTextTruncation(k.find(".know-tab-nav-asin-header, .know-tab-nav-asin-header-intro")),0<r.length&&a.setElementHeight(a.getMatchingElement(g,"#tab-navigation-tab-link-top-space-"+
a.escapeSpecialHashCharacter(e)),r.outerHeight(!0)),a.setElementHeight(a.getMatchingElement(g,"#tab-navigation-tab-link-"+a.escapeSpecialHashCharacter(e)),0<r.length?g.height()-r.outerHeight(!0):g.height()),b.createAll(),b.initializeAll(),a.logCounter("tab-navigation-carousel-successfully-initialized",!0))))))}),0<r.length&&a.setElementHeight(a.getMatchingElement(g,"#tab-navigation-tab-link-top-space-"+a.escapeSpecialHashCharacter(u)),r.outerHeight(!0)),a.setElementHeight(a.getMatchingElement(g,"#tab-navigation-tab-link-"+
a.escapeSpecialHashCharacter(u)),0<r.length?g.height()-r.outerHeight(!0):g.height()),a.setLineClampClass(a.getMatchingElement(g,"#tab-navigation-tab-link-line-clamp-"+a.escapeSpecialHashCharacter(u))),e.on("a:tabs:"+c+":"+f.data("a-name")+":select",v.ajaxTabClick),w.removeClass("know-tab-nav-disable-tab"),w.addClass("know-tab-nav-enable-tab"))})});f.when("jQuery","rush-util","a-truncate").register("tab-nav-util",function(e,d,f){function p(b,a){var c=e(b),d;a.forEach(function(b){d=c.find(b);0<d.length&&
(c=d)});return c}function q(b){return(b.match(/(\s|^)s-line-clamp-\d+(?!\S)\b/g)||[]).map(e.trim)}function a(b){e(b).removeClass(function(b,a){return q(a).join(" ")}).addClass("s-line-clamp-2")}function l(b){var a=n.ue;a&&a.tag&&a.tag(b)}return{getAsinContent:function(b){b=p(b,[".template\\\x3dSEARCH_RESULTS",".s-latency-cf-section",".s-card-container"]);b.find(".a-spacing-medium").removeClass("a-spacing-medium");b.find('[class*\x3d"status-badge"]').remove();a(b.find("[class*\x3ds-line-clamp]"));
return b},findLineClampClass:q,getActiveTabHeight:function(b){b=e(b).closest(".a-tab-container").find(".a-tab-content").not(".a-hidden").height();return d.isNullOrUndefined(b)?400:b},escapeSpecialHashCharacter:function(b){return d.isBlank(b)?b:b.replace(/#/g,"\\#")},logMetric:l,logCounter:function(b,a){var c=n.ue;c&&c.count&&(c.count(b,1),c.count("tab-navigation-error-rate",a?0:1))},checkCriticalDataMissing:function(b){for(var a in b)if(d.isNullOrUndefined(b[a])||d.isBlank(b[a]))return!0;return!1},
checkCriticalComponentDataInvalid:function(b){return d.isNullOrUndefined(b.uuid)||d.isBlank(b.uuid)||0>=e(b.carousel).length||0>=e(b.tabContent).length||!d.isNumber(b.initialActiveTabHeight)?!0:!1},logMissingCriticalData:function(b,a){for(var c in b)(d.isNullOrUndefined(b[c])||d.isBlank(b[c]))&&l("tab-navigation:"+a+":"+c)},getMatchingElement:function(a,d){return e(a).find(d)},setElementHeight:function(a,d){e(a).height(d)},setLineClampClass:a,setCSSPropertyForObject:function(a,e,c){d.isNullOrUndefined(c)||
a.css(e,c)},forceTextTruncation:function(a){return a.filter(".a-truncate").add(a.find(".a-truncate")).filter(":visible").filter(function(a,b){f.get(b).update();return!0})}}})});
/* ******** */
(function(m){var n=window.AmazonUIPageJS||window.P,t=n._namespace||n.attributeErrors,a=t?t("SearchWebSpecBasedShoppingWidgetAssets",""):n;a.guardFatal?a.guardFatal(m)(a,window):a.execute(function(){m(a,window)})})(function(m,n,t){m.when("A","R").register("s-sbs-window-helper",function(a,c){function d(a){return"?"+Object.keys(a).map(function(b){var c=encodeURIComponent(a[b]);return c||!1===c||0===c?b+"\x3d"+c:""}).filter(Boolean).join("\x26")}function e(a){var b;return a.split("\x26").reduce(function(a,
c){c&&(b=c.split("\x3d"),a[b[0]]=decodeURIComponent(b[1]));return a},{})}var b=a.$,l=n,g={setWindow:function(a){l=a},getWindow:function(){return l},getLocation:function(){return l.location},getHref:function(){return l.location.href},getSearchQueryFromUrl:function(a){return((a||"").split("?")[1]||"").split("#")[0]},getSearchQuery:function(a){return a?g.getSearchQueryFromUrl(a):l.location.search.substring(1)},getQueryParam:function(a){return g.getQueryParamMap()[a]||""},getQueryParamMap:function(a){return e(g.getSearchQuery(a))},
getUpdatedQueryString:function(a){a=b.extend(g.getQueryParamMap(),a);return d(a)},getUpdatedUrl:function(a){var b=g.getLocation();return b.origin+(b.pathname||"")+g.getUpdatedQueryString(a)+(b.hash||"")},replaceUrl:function(a){l.history.replaceState({path:g.getLocation().pathname},document.title,a)},pushUrl:function(a){c.to({url:a})},replaceQueryParams:function(a){g.replaceUrl(g.getUpdatedUrl(a))},updateQueryParams:function(a){g.pushUrl(g.getUpdatedUrl(a))}};return g});m.when("A").register("s-sbs-metrics-helper",
function(a){function c(a,b,c){return function(){c(b,a,{wb:1})}}function d(a){return function(){e.count(a,(e.count(a)||0)+1)}}a=a.$;var e={uet:n.uet||a.noop,uex:n.uex||a.noop,count:n.ue&&n.ue.count||a.noop},b={};a.map({afsCallStartCounter:"HCXEffortlessShoppingSBSWidgetAFSCall",afsCallSuccessCounter:"HCXEffortlessShoppingSBSWidgetAFSCallSuccess",afsCallFailCounter:"HCXEffortlessShoppingSBSWidgetAFSCallFailed",afsCallTimeoutCounter:"HCXEffortlessShoppingSBSWidgetAFSCallTimeout",refinementClickStartCounter:"HCXEffortlessShoppingSBSWidgetRefinementClick",
refinementClickEndCounter:"HCXEffortlessShoppingSBSWidgetRefinementClickSuccess",tagSelectorClickCounter:"HCXEffortlessShoppingSBSTagButtonClick",widgetInitStartCounter:"HCXEffortlessShoppingSBSWidgetLoad",widgetInitEndCounter:"HCXEffortlessShoppingSBSWidgetLoadSuccess",widgetLoadWithRefinementsStartCounter:"HCXEffortlessShoppingSBSWidgetLoadWithRefinements",widgetLoadWithRefinementsEndCounter:"HCXEffortlessShoppingSBSWidgetLoadWithRefinementsSuccess"},function(a,c){b[c]=d(a)});a.map({componentScanFeature:"SBSComponentScan",
widgetFeature:"SBSWidgetLoad",afsCall:"SBSAFSAjaxCall"},function(a,d){b[d+"Begin"]=c.apply(this,[a,"bb",e.uet]);b[d+"Done"]=c.apply(this,[a,"cf",e.uet]);b[d+"SubmitLatency"]=c.apply(this,[a,"ld",e.uex])});return b});m.when("A","s-sbs-widget-data","s-sbs-window-helper").register("s-sbs-widget-feedback",function(a,c,d){function e(a,b,c){m.log("SBS_CUSTOMER_FEEDBACK_ERROR; Status: "+b+"; Error: "+c,"ERROR","s-sbs-widget")}function b(b){if(b.csrfToken&&b.csrfToken.token){var g=c.getMetadata();g&&g.formsUrl&&
(h.find(".sbs-feedback-form").find("input[name\x3d__token_]").val(b.csrfToken.token),h.find(".sbs-feedback-selected-refinements-text-area").find("textarea").val(JSON.stringify(d.getQueryParamMap())),a.post(g.formsUrl,{paramsFormat:"string",params:h.find(".sbs-feedback-form").serialize(),error:e}))}}function l(){var d=c.getMetadata();d&&d.sbsWidgetFormUrl&&a.get(d.sbsWidgetFormUrl,{accepts:"application/json",success:b,error:e})}function g(a){h.find(".sbs-radio-button-container").find("input:checked").prop("checked",
!1);a=x(a.currentTarget).find(":input");a.prop("checked",!0);a=a.prop("id");h.find(".sbs-heading-container").find(".sbs-heading-text").addClass("sbs-feedback-hidden aok-hidden");h.find(".sbs-heading-block").find("[headingId\x3d"+a+"]").removeClass("sbs-feedback-hidden aok-hidden");h.find(".sbs-free-text-container").removeClass("sbs-feedback-hidden aok-hidden");h.find(".sbs-feedback-form-submit-button-container").removeClass("sbs-feedback-hidden aok-hidden")}function G(a){a.preventDefault();h.find(".sbs-feedback-form").fadeOut("slow",
function(){h.find(".sbs-feedback-post-submit-container").removeClass("sbs-feedback-hidden aok-hidden").css("display","none").fadeIn("slow");h.find(".sbs-feedback-post-submit-content").focus()});l()}function u(){h.find(".sbs-feedback-post-submit-container").addClass("aok-hidden")}function w(b){a[b]("sbs:widget:clear-all",u)}var x=a.$,h,r;return{init:function(a){h=a;r||w("on");h.delegate(".sbs-feedback-form","submit",G).delegate(".sbs-yes-button","click",g).delegate(".sbs-no-button","click",g);r=!0},
teardown:function(){w("off");r=!1}}});m.when("A","s-sbs-pills","s-sbs-widget-data","s-sbs-metrics-helper").register("s-sbs-widget-pill-grid",function(a,c,d,e){function b(){return 0<C.getSelectedCount()}function l(a,b,k){b=b.find(B.SELECTOR__REFINEMENT_PILL);var f=b.length;a=(f+(k.parentsUntil("ul").index()+a))%f;b.eq(a).focus()}function g(a){return function(b,k){l(a,b,k)}}function m(a){return function(b,k){l(b.data(B.DATA__GRID_ROWS)*a,b,k)}}function u(a){var b=a.originalEvent,k=z(b.currentTarget),
b=z(b.target),f=F[a.which];f&&(a.preventDefault(),f(k,b))}function w(a){D.eq(a).delegate(B.SELECTOR__REFINEMENT_PILL,"keydown",u)}function x(a){return t.find("[data-refinement-bin-id\x3d"+a+"]")}function h(){var a={};t.find(".js-refinement-pill-selected").map(function(b,k){a[z(k).closest(".sbs-refinement-container").data("refinement-id")]=!0});return a}function r(a){return a.reduce(function(a,b){return a=a.concat(b.values)},[]).reduce(function(a,b){!0===b.visible&&!1===b.notAvailable&&(a[b.id]=!0);
return a},{})}function A(a){var b={binOrder:d.getWidgetBinIds()},k=r(a),f=h();d.getWidgetBinIds().filter(function(a){return"n"!==a}).map(function(a){var v=x(a),d=v.find("li:not(.aok-hidden) .sbs-refinement-container"),e=v.find(".sbs-refinement-list"),y={visiblePillCount:d.length,disabledCount:0,enabledCount:0};z.map(d,function(a){var b=z(a);a=b.data("refinement-id");b=b.closest("li");k[a]||f[a]?y.enabledCount+=1:(y.disabledCount+=1,e.append(b),c(b).disable())});b[a]=y});return b}function p(a){var b=
[];z.map(a.find("li"),function(a){b[parseInt(a.getAttribute("data-refinement-index"),10)]=a});a.find(".sbs-refinement-list").append(b)}function q(a){a=x(a);a.closest(".sbs-refinement-bin-cell").find(".sbs-active-checkmark").addClass("aok-hidden");c(a).reset();p(a)}function k(k){k.map(q);b()||(d.getWidgetBinIds().map(q),a.trigger("sbs:refinements:grid-clear"))}function v(){d.getWidgetBinIds().map(q)}function f(b){C.enable();a.trigger("sbs:refinements:grid-update",A(b))}function y(b){var k=z(b.currentTarget);
b=c(k);var f=k.closest(".sbs-refinement-container"),k=k.closest(".sbs-refinement-bin"),v="MULTI"===f.data("selection-type"),d=b.isSelected(),f=f.data("refinement-id").toString(),y=k.data("refinement-bin-id");e.refinementClickStartCounter();a.capabilities.isSafari||(d?b.deselect():("n"===y?C.reset():v||c(k).deselect(),b.select()));a.trigger("sbs:refinements:update",{binId:y,refinementId:f,isMultiSelect:v,isSelected:d});e.refinementClickEndCounter()}function H(b){var k=z(b.currentTarget);b.preventDefault();
e.refinementClickStartCounter();!a.capabilities.isSafari&&c(k).select();a.trigger("sbs:refinements:link",k.prop("href"));e.refinementClickEndCounter()}function n(b){a[b]("sbs:tags:updated",k);a[b]("sbs:widget:clear-all",v);a[b]("sbs:afs:results",f)}var B={DATA__GRID_ROWS:"grid-row-count",SELECTOR__REFINMENT_BIN:".sbs-refinement-bin",SELECTOR__REFINEMENT_PILL:".sbs-refinement-pill"},z=a.$,t,D,F,C,E;return{init:function(a){t=a;D=t.find(B.SELECTOR__REFINMENT_BIN);C=c(B.SELECTOR__REFINMENT_BIN);F={37:m(-1),
38:g(-1),39:m(1),40:g(1)};E||n("on");D.map(w);t.delegate(".js-refinement-pill-link","click",H).delegate(".js-refinement-pill-button","click",y);E=!0},hasSelectedPills:b,teardown:function(){n("off");E=!1}}});m.when("A").register("s-sbs-pills",function(a){var c,d=a.$,e=["sbs-pill--selected","sbs-pill--disabled"];c=a.createClass({_$root:null,_$pills:null,init:function(a){a=a instanceof d?a:Array.isArray(a)?d("\x3cdiv\x3e\x3c/div\x3e").append(a):a instanceof HTMLElement||"string"===typeof a?d(a):void 0;
this._$pills=(a=this._$root=a)&&a.hasClass("sbs-pill")?a:a.find(".sbs-pill")},select:function(){this._$pills.addClass("sbs-pill--selected");return this},deselect:function(){this._$pills.removeClass("sbs-pill--selected");return this},toggleSelected:function(){this.isSelected()?this.deselect():this.select();return this},getSelectedCount:function(){return this._$root.find(".sbs-pill--selected").length},getDisabledCount:function(){return this._$root.find(".sbs-pill--disabled").length},enable:function(){this._$pills.removeClass("sbs-pill--disabled");
this._$pills.prop("disabled",!1);return this},disable:function(){this._$pills.addClass("sbs-pill--disabled");this._$pills.prop("disabled",!0);return this},reset:function(){this._$pills.removeClass(e.join(" "));this._$pills.prop("disabled",!1);return this},isSelected:function(){return this._$pills.hasClass("sbs-pill--selected")},isDisabled:function(){return this._$pills.hasClass("sbs-pill--disabled")}});return function(a){return new c(a)}});m.when("A").register("s-sbs-widget-data",function(a){function c(a,
b){return d.extend(!0,a,b)}var d=a.$,e,b,l,g,m,u;return{init:function(a){e=a;b=e.data("widget")||{};l=b.metadata||{};g=b.linkParams||{};m=b.scopedBrowseNodeIds||[];u=0===l.marketplaceDefaultLanguageKeyword.indexOf("sbsOriginalKeyword:")?l.marketplaceDefaultLanguageKeyword.slice(19):""},getData:function(){return c({},b)},getMetadata:function(){return c({},l)},getLinkParams:function(){return c({},g)},getScopedNodeList:function(){return c([],m)},getWidgetBinIds:function(){return e.find(".sbs-refinement-bin").map(function(a,
b){return d(b).data("refinement-bin-id")}).get()},getOriginalKeyword:function(){return u}}});m.when("A","s-sbs-window-helper","s-sbs-widget-data").register("s-sbs-widget-search-data",function(a,c,d){function e(a){var b,f=d.getScopedNodeList();for(b=0;b<f.length;b++)if(0>a.indexOf(f[b]))return!1;return!0}function b(a){a=(a||c.getQueryParam("rh")).split(",").reduce(function(a,b){b&&(b=b.split(":"),a[b[0]]=a[b[0]]||[],a[b[0]]=a[b[0]].concat((b[1]||"").split("|")));return a},{});a.n&&e(a.n)||(a.n=d.getScopedNodeList());
return a}function l(){var a=b();d.getWidgetBinIds().map(function(b){a[b]=t});a.n=d.getScopedNodeList();return a}function g(a){var c=b();a.map(function(a){c[a]=null});return c}function m(a){var c=b(),f=d.getScopedNodeList();a.isSelected||(f.push(a.refinementId),d.getWidgetBinIds().map(function(a){c[a]=t}));c.n=f;return c}function u(a){return Object.keys(a).map(function(b){var f=a[b];return f&&f.length?"n"===b?"n:"+f.join(",n:"):b+":"+f.join("|"):null}).filter(Boolean).join(",")}function w(b,c,f){a.trigger("sbs:search:"+
c,b);a.delay(function(){var c;c=d.getMetadata();var e=d.getOriginalKeyword();c={k:""===e?c.keyword:e,ref:c.refMarker,pid:c.persistId,page:1,rh:u(b)};c=a.$.extend(c,d.getLinkParams());f(c)},0)}function x(a){if("n"===a.binId)a=m(a);else{var d=b(),f=a.binId,e=a.refinementId;d[f]?a.isSelected?d[f].splice(d[f].indexOf(e),1):a.isMultiSelect?d[f].push(e):d[f]=[e]:d[f]=[e];a=d}w(a,"update",c.updateQueryParams)}function h(a){a=c.getQueryParamMap(a).rh;a=b(a);w(a,"update",c.updateQueryParams)}function r(a){w(g(a),
"replace",c.replaceQueryParams)}function n(){w(l(),"replace",c.replaceQueryParams)}function p(b){a[b]("sbs:refinements:update",x);a[b]("sbs:refinements:link",h);a[b]("sbs:tags:updated",r);a[b]("sbs:widget:clear-all",n)}var q;return{init:function(){q||p("on");q=!0},teardown:function(){p("off");q=!1},getNodeList:function(){return b().n||d.getScopedNodeList()},getFormattedBinValues:function(a){var c=a||b();return d.getWidgetBinIds().reduce(function(a,b){"n"!==b&&c[b]&&c[b].length&&(a[b]=c[b].sort().join("|"));
return a},{})}}});m.when("A").register("s-sbs-widget-loading",function(a){function c(){a.capabilities.isSafari||a.capabilities.isAmazonApp||(b.addClass("s-sbs-widget--loading"),b.find(".sbs-refinement-bin-spinner").removeClass("aok-hidden"),b.find(".sbs-no-results-alert").addClass("aok-hidden"),b.find(".sbs-feedback-post-submit-container").addClass("aok-hidden"))}function d(){b.removeClass("s-sbs-widget--loading");b.removeClass("s-sbs-widget--loading-without-selections");b.find(".sbs-refinement-bin-spinner").addClass("aok-hidden")}
function e(b){a[b]("sbs:refinements:link",c);a[b]("sbs:afs:start",c);a[b]("sbs:afs:done",d);a[b]("sbs:widget:loaded:without-refinements",d)}var b,l;return{init:function(a){b=a;l||e("on");l=!0},teardown:function(){e("off");l=!1}}});m.when("A").register("s-sbs-widget-clear-filters",function(a){function c(){a.trigger("sbs:widget:clear-all")}var d,e;return{init:function(b){d=b;if(!e)a.on("sbs:tags:reset",c);d.delegate(".js-sbs-reset-filters","click",c);e=!0},teardown:function(){a.off("sbs:tags:reset",
c);e=!1}}});m.when("A","s-sbs-widget-data","s-sbs-widget-pill-grid","s-sbs-widget-search-data","s-sbs-metrics-helper").register("s-sbs-eligible-refinements",function(a,c,d,e,b){function l(a){return["additionalFilterData","*value*","sbs","refinements"].reduce(function(a,b){return a=a[b]||{}},a)}function g(c){c=l(c);p.isEmptyObject(c)||(b.afsCallSuccessCounter(),a.trigger("sbs:afs:results",c))}function n(a,c,f){m.log("SBS_WIDGET_ELIGIBLE_REFINEMENTS_CALL_ERROR; Status: "+c+"; Error: "+f,"ERROR","s-sbs-widget");
b["timeout"===c?"afsCallTimeoutCounter":"afsCallFailCounter"]()}function u(){b.afsCallDone();b.afsCallSubmitLatency();a.trigger("sbs:afs:done")}function w(a){var b,f,d=c.getMetadata(),g=d.sessionId,l=d.customerId;f=a.searchQueryMap;b=((f||{}).n||e.getNodeList()).join(",");f=e.getFormattedBinValues(f);var h=c.getOriginalKeyword(),h=""===h?d.keyword:h;b=p.extend(!0,{size:"1","include-refinements":"true","feature-set-definitions":JSON.stringify({REFINEMENTS:{deliveryDayRefinement:"enabledWithoutBinning",
enableRefinementDiscriminators:"false",enableSmartRefinements:"true"}}),"active-refinement-ids":JSON.stringify(c.getWidgetBinIds())},f,{"should-update-server-cache":a.isWarmupCall,"search-alias":d.searchAlias,"session-id":d.sessionId,"customer-id":d.customerId,"marketplace-id":d.marketplace,store:d.store,keywords:h.toLowerCase(),node:b});return{data:{afsRequest:JSON.stringify(p.extend(!0,{pageNumber:"1",asinCountPerPage:"10",filters:[{runLevel:"1",filterId:"sbs",filterType:"refinementsearch"}]},{sessionId:g,
customerId:l,filters:[{filterParameters:{OptionalMap:b}}]},a.data))}}}function x(b){a.trigger("sbs:afs:start");p.ajax(p.extend({type:"GET",url:"/spec-based-shopping/get-eligible-refinements",dataType:"json",timeout:5E3,xhrFields:{withCredentials:!0},success:b.success||p.noop,error:b.error||p.noop,complete:b.complete||p.noop},w(b)))}function h(a){""===c.getOriginalKeyword()&&d.hasSelectedPills()&&x({isWarmupCall:!0,searchQueryMap:a})}function r(c){d.hasSelectedPills()?(b.afsCallBegin(),b.afsCallStartCounter(),
x({success:g,error:n,complete:u,searchQueryMap:c})):a.trigger("sbs:afs:done")}function t(b){a[b]("sbs:search:update",h);a[b]("sbs:search:replace",r);a[b]("sbs:widget:loaded:with-refinements",r)}var p=a.$,q;return{init:function(){q||t("on");q=!0},teardown:function(){t("off");q=!1}}});m.when("A","rush-dom","rush-framework","s-sbs-metrics-helper","s-sbs-widget-tagging","s-sbs-widget-feedback","s-sbs-widget-pill-grid","s-sbs-widget-search-data","s-sbs-widget-data","s-sbs-widget-loading","s-sbs-widget-clear-filters",
"s-sbs-eligible-refinements").register("s-sbs-widget",function(a,c,d,e,b,l,g,m,u,n,t,h){function r(){k.map(function(a){(a.init||q.noop)(f)})}function A(){k.map(function(a){(a.teardown||q.noop)()})}function p(){v.teardown=function(){A()}}var q=a.$,k=[g,b,m,h,t,n,l],v,f;e.componentScanFeatureBegin();d.registerComponent("s-sbs-widget","s-sbs-widget",function(b){e.widgetFeatureBegin();e.componentScanFeatureDone();e.componentScanFeatureSubmitLatency();v=b;f=q(v.elem());u.init(f);u.getScopedNodeList()&&
u.getLinkParams()&&u.getMetadata()&&0<f.find(".es-sbs-top-slot-widget").length&&(r(),e.widgetInitStartCounter(),g.hasSelectedPills()?(e.widgetLoadWithRefinementsStartCounter(),a.trigger("sbs:widget:loaded:with-refinements"),e.widgetLoadWithRefinementsEndCounter()):a.trigger("sbs:widget:loaded:without-refinements"),e.widgetInitEndCounter(),p());e.widgetFeatureDone();e.widgetFeatureSubmitLatency()});c.scan(q(".s-sbs-widget").get())});m.when("A","s-sbs-pills","s-sbs-metrics-helper").register("s-sbs-widget-tagging",
function(a,c,d){function e(a){return c(r.find("[data-sbs-tag\x3d"+a+"]"))}function b(){p.closest("li").removeClass("aok-hidden")}function l(){var a=r.find(".sbs-tag-pill.sbs-pill--selected").closest("li").data("sbs-tag");"all"!==a&&p.filter(function(b,c){return h(c).data("refinement-tag")!==a}).closest("li").addClass("aok-hidden")}function g(f){f=h(f.currentTarget);f=c(f);k.deselect();f.select();d.tagSelectorClickCounter();b();l();a.trigger("sbs:tags:updated",q)}function m(){k.deselect();e("all").select();
b()}function n(b){a[b]("sbs:widget:clear-all",m)}function t(){var a={};r.find(".js-refinement-pill-selected").map(function(b,c){a[h(c).closest(".sbs-refinement-container").data("refinement-tag")]=!0});return a}function x(){var a={};p.map(function(b,c){a[h(c).closest(".sbs-refinement-bin").data("refinement-bin-id")]=!0});return Object.keys(a)}var h=a.$,r,A,p,q,k,v;return{init:function(b){if(b.find(".sbs-tags-section").length){r=b;b=Object.keys(t()).filter(Boolean);var d=b.length,h;1<d?a.trigger("sbs:tags:reset"):
1===d&&(h=b[0]);A=h;k=c(".sbs-tags-section");p=r.find('.sbs-refinement-container[data-refinement-tag!\x3d""]');q=x();A?e(A).select():e("all").select();l();v||n("on");r.delegate(".js-sbs-tag-pill","click",g);v=!0}},teardown:function(){n("off");v=!1}}})});
/* ******** */
(function(b){var h=window.AmazonUIPageJS||window.P,l=h._namespace||h.attributeErrors,c=l?l("FloatingActionButtonWidgetAssets",""):h;c.guardFatal?c.guardFatal(b)(c,window):c.execute(function(){b(c,window)})})(function(b,h,l){b.when("ready").register("s-fab-dynamic-comparison-constants",function(){return{COMPONENT_NAME:"s-fab-component-dynamiccomparison",FAB_CONTAINER_SELECTOR:"#s-fab-container-dynamiccomparison",SELECTORS:{ITEM_COUNT:"#fab_itemCount"},METRICS:{COUNTERS:{FAB_RENDER_FAILURE:"s-fab-dc-frf"}}}});
b.declare("s-fab-dynamic-comparison-flags",{hoverHintEnabled:!1,statusBadgeEnabled:!0});b.when("A","s-fab-controller","s-fab-dynamic-comparison-constants","s-fab-component-dynamiccomparison","load","ready").register("s-fab-dynamic-comparison",function(b,d,a){var e=0;d.setOnComponentRegistered(function(){d.registerOnOpenHandler(function(){d.getElements().$button.removeClass("s-fab-dc-button-closed");d.getElements().$button.addClass("s-fab-dc-button-open")});d.registerOnCloseHandler(function(){d.getElements().$button.removeClass("s-fab-dc-button-open");
d.getElements().$button.addClass("s-fab-dc-button-closed")});e=b.$(a.SELECTORS.ITEM_COUNT).val()||0;d.setUnreadMessageCount(e);d.showComponent()})});b.when("A","rush-framework","s-fab-dynamic-comparison-constants","s-fab-constants","s-fab-utilities","s-fab-component-registration","s-fab-dynamic-comparison-flags","ready").execute(function(c,d,a,e,n,f,g){c.$(a.FAB_CONTAINER_SELECTOR).length&&(c.$(e.FAB_EMPTY_SELECTOR).length?(n.metrics.addOne(a.METRICS.COUNTERS.FAB_RENDER_FAILURE),b.register("s-fab-component-render-failure")):
(d.registerComponent(a.COMPONENT_NAME,a.COMPONENT_NAME,function(b){f.setup(b,a.FAB_CONTAINER_SELECTOR,g)}),b.register("s-fab-component-dynamiccomparison")))});b.when("A","rush-framework","s-live-chat-constants","s-fab-constants","s-fab-utilities","s-fab-component-registration","s-fab-live-chat-flags","ready").execute(function(c,d,a,e,n,f,g){c.$(a.FAB_CONTAINER_SELECTOR).length&&!c.$(e.FAB_EMPTY_SELECTOR).length&&(d.registerComponent(a.COMPONENT_NAME,a.COMPONENT_NAME,function(b){f.setup(b,a.FAB_CONTAINER_SELECTOR,
g)}),b.register("s-fab-component-livechatsupport"))});b.when("ready").register("s-jeeves-chat-constants",function(){return{COMPONENT_NAME:"s-fab-component-jeeveschatsupport",FAB_CONTAINER_SELECTOR:"#s-fab-container-jeeveschatsupport",JEEVES_FAB_TOGGLE_ICON_CLASS:"jeeves-fab-toggle-button-image",JEEVES_FAB_HOVER_HINT_CLOSE_IMAGE_CLASS:"jeeves-fab-hover-hint-close-image",JEEVES_FAB_CHAT_BUTTON_IMAGE_CLASS:"jeeves-fab-chat-button-image",UNAUTHORIZED_ERROR:401,NOT_FOUND_ERROR:404,STATUS_OK:200,CREATE_HUDDLE_FROM_INGRESS_FETCH_ENDPOINT:"/huddles-api/v1/huddles/JEEVES/new",
HUDDLES_THEME:{message__background__outgoing:"#dcdcdc",message__foreground__incoming:"#232f3e",message__foreground__outgoing:"#232f3e"},SELECTORS:{SEARCH_QUERY:"#fab_searchQuery",PRODUCT_CATEGORY:"#fab_productCategory"},METRICS:{TIMERS:{FETCH_HUDDLE_FETCH_TIME:"s-fab-jcs-ft"},COUNTERS:{FETCH_HUDDLE_ID_NOT_OK:"s-fab-jcs-fin",FETCH_HUDDLE_ID_NOT_FOUND:"s-fab-jcs-finf",FETCH_HUDDLE_ID_OK:"s-fab-jcs-fio",FETCH_HUDDLE_ID_NOT_AUTHORIZED:"s-fab-jcs-fina",FAB_RENDER_FAILURE:"s-fab-jcs-frf"}}}});b.declare("s-fab-jeeves-chat-flags",
{hoverHintEnabled:!0,statusBadgeEnabled:!0});b.when("huddles-init-2.0","s-fab-component-jeeveschatsupport").execute(function(c){c.initialize();b.when("A","s-fab-controller","s-jeeves-chat-constants","s-fab-utilities","huddles-chatbox-2.0","s-fab-unread-badging-flag","ready").register("s-jeeves-chat",function(b,a,e,c,f,g){var k=0;a.setOnComponentRegistered(function(){function l(a,b,c){a.subscribeToMessageReceived({handler:function(a){!b.isOpen()&&c.enabled&&(k+=a,b.setUnreadMessageCount(k))},filters:{messageFilter:function(a){return"MESSAGE"===
a.slot&&a.timestamp>t}}})}function u(a){var f=a.onError,p=a.onSuccess,g=a.onComplete,k=new Date;b.ajax(e.CREATE_HUDDLE_FROM_INGRESS_FETCH_ENDPOINT,{method:"post",params:a.huddleData,contentType:"application/json; charset\x3dutf-8",paramsFormat:"json",success:function(a){c.metrics.timer(e.METRICS.TIMERS.FETCH_HUDDLE_FETCH_TIME,k);p&&p(a);g&&g()},error:function(a){f&&f(a.http.status);g&&g()}})}function q(){var a=document.getElementsByClassName("jeeves-error-fallback")[0];a&&a.classList.add("aok-hidden")}
var v=b.$(e.SELECTORS.SEARCH_QUERY).val()||"",w=b.$(e.SELECTORS.PRODUCT_CATEGORY).val()||"",r,m=!1,t=(new Date).getTime();try{f.closeChatbox()}catch(x){}a.showComponent();a.hoverHintEnabled()&&!a.isOpen()&&a.showHoverHint();a.registerOnOpenHandler(function(){var b=document.getElementsByClassName("jeeves-spinner ")[0],d=document.getElementsByClassName("jeeves-error-fallback")[0];k=0;a.setUnreadMessageCount(k);m||(d&&d.classList.add("aok-hidden"),b&&b.classList.remove("aok-hidden"),r={ingressContext:JSON.stringify({searchQuery:v,
productCategory:w})},u({huddleData:r,onSuccess:function(b){b=b.id;m=!0;c.metrics.addOne(e.METRICS.COUNTERS.FETCH_HUDDLE_ID_OK);f.renderHuddleChat({huddleId:b,showEmbedded:!0,container:a.getElements().$contentContainer,skin:"BEACON",theme:e.HUDDLES_THEME,chatPlatformType:"HYBRID_CHATBOT_AMAZON_CONNECT"});l(f,a,g)},onError:function(a){a&&a===e.UNAUTHORIZED_ERROR?(c.metrics.addOne(e.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_AUTHORIZED),a=c.buildSignInURL(),h.location.href=a):(a===e.NOT_FOUND_ERROR?c.metrics.addOne(e.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_FOUND):
c.metrics.addOne(e.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_OK),d&&(b&&b.classList.add("aok-hidden"),d.classList.remove("aok-hidden")))},onComplete:function(){m&&b&&b.classList.add("aok-hidden")}}))});a.registerOnCloseHandler(function(){q()});a.registerOnControlCloseHandler(function(){q();a.minimizeContentPane()})})})});b.when("A","rush-framework","s-jeeves-chat-constants","s-fab-constants","s-fab-utilities","s-fab-component-registration","s-fab-jeeves-chat-flags","ready").execute(function(c,d,a,e,h,
f,g){c.$(a.FAB_CONTAINER_SELECTOR).length&&(c.$(e.FAB_EMPTY_SELECTOR).length?(h.metrics.addOne(a.METRICS.COUNTERS.FAB_RENDER_FAILURE),b.register("s-fab-component-render-failure")):(d.registerComponent(a.COMPONENT_NAME,a.COMPONENT_NAME,function(b){f.setup(b,a.FAB_CONTAINER_SELECTOR,g)}),b.register("s-fab-component-jeeveschatsupport")))})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ShowCaseWidgetAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(d){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,f=e?e("SearchWebShoppableImageWidgetAssets",""):c;f.guardFatal?f.guardFatal(d)(f,window):f.execute(function(){d(f,window)})})(function(d,c,e){d.when("A","jQuery").register("s-shoppable-image-util",function(f,d){function e(b,a){var g=c.ue;g&&g.tag&&g.tag(b+":"+a)}return{appendShoppableImageAsin:function(b,a,c){a=d(a)[0];a.id="asin_view_"+a.dataset.asin;c&&d(a).addClass("aok-hidden");b.appendChild(a);return b},selectHotspot:function(b,
a){var c=a.find("#asin_view_"+b[0].dataset.asin);b.addClass("hotspot-selected");c.removeClass("aok-hidden");return a},unselectHotspot:function(b,a){a.find("#asin_view_"+b[0].dataset.asin).addClass("aok-hidden");b.removeClass("hotspot-selected");return a},logMetric:e,logCSMWidgetLatencyStart:function(b,a){var d=b+":"+a;e(b,a);c.ues("id2",d,"s-shoppable-image_"+Date.now());c.uet("bb",d,{wb:1})},logCSMWidgetLatencyEnd:function(b,a){b=b+":"+a;c.uet&&c.uex&&(c.uet("be",b,{wb:1}),c.uex("ld",b,{wb:1}))}}})});
/* ******** */
(function(f){var g=window.AmazonUIPageJS||window.P,h=g._namespace||g.attributeErrors,a=h?h("SearchCartProgressIndicatorWidgetAssets",""):g;a.guardFatal?a.guardFatal(f)(a,window):a.execute(function(){f(a,window)})})(function(f,g,h){"use strict";f.when("A","rush-framework","search-cpi","search-cpi-toggle","search-cpi-utilities").register("s-cpi-component",function(a,d,b,c,e){d.registerComponent("s-cpi-component","s-cpi-component",function(){c&&(b.init(),e.addProgressBarSeparators())})});"use strict";
f.when("A","search-cpi-placement").register("search-cpi-event-handler",function(a,d){function b(e,a,b){if(!(e instanceof d))throw Error("cpiPlacement");if(!c.isFunction(a))throw Error("event handler must provide callback function");this._cpiPlacement=e;this.callBackFn=a;this.cpi=b}var c=a.$;b.prototype={getCpiPlacement:function(){return this._cpiPlacement},getCallBackFn:function(){return this.callBackFn},getCpi:function(){return this.cpi}};return b.prototype.constructor=b});"use strict";f.when("A",
"cpi-cart-update-event","search-cpi-event-handler").register("search-cpi-event-handler-registry",function(a,d,b){var c={};return{addEventHandler:function(e,a,d){try{c[e.getCpiUrl()]=new b(e,a,d)}catch(f){console.log(f,"cpi-event-handler-registry","could not register event handler "+e.getCpiUrl())}},getEventHandler:function(e){return c[e]},removeEventHandler:function(e){delete c[e]},notifyEventHandler:function(e){var a,b;if(e instanceof d)for(a in c)b=c[a].getCallBackFn(),b(e)}}});"use strict";f.when("A").register("search-cpi-constants",
function(){return{CPI_URL:"/psx/cpi/",cti:{CATEGORY:"Website",TYPE:"S2X",ITEM:"BCS"},store:{STRX:"strx"},page:{SEARCH:"search",EWC:"ewc"},slot:{BOTTOM:"bottomAtc"},actions:{ATC_RECEIVE:"atc-receive"},actionSources:{SEARCH_ATC_CLICK:"search-atc-click"},logLevels:{ERROR:"ERROR",FATAL:"FATAL",WARN:"WARN"},logging:{METRIC_PREFIX:"SEARCH.CPI."}}});"use strict";f.when("A","search-cpi-constants").register("search-cpi-utilities",function(a,d){var b,c;return{isNonEmptyString:function(e){return!("string"!==
typeof e||!a.trim(e).length)},logCount:function(a,c){b=d.logging.METRIC_PREFIX+a;g.ue&&g.ue.count&&g.ue.count(b,(g.ue.count(b)||0)+c)},logError:function(a,b,d,f){g.ueLogError&&(c={logLevel:a,attribution:d,message:f},g.ueLogError(b,c))},logLatencyMetric:function(a,b){g.uet.isFunction()&&g.uex.isFunction()&&("ld"===a?g.uex(a,b,{wb:1}):g.uet(a,b,{wb:1}))},addProgressBarSeparators:function(){var b=Number(a.$("#s-cpi-widget-threshold-value").text()),c=100/b+"%",d=100/(b-1)-.5+"%",b=100/(b-1)+"%";a.$(".s-cpi-widget-bmsm-progress").attr("style",
"--thresholdPercentage:"+c+";--separatorBeginningPercentage:"+d+";--separatorEndPercentage:"+b+";--separatorColor:#999")}}});"use strict";f.when("A","search-cpi-constants").register("search-cpi-placement",function(a,d){function b(a,b,d){this._store=a;this._page=b;this._slot=d}b.prototype={getCpiUrl:function(){return d.CPI_URL+this._store+"/"+this._page+"/"+this._slot+"?responseType\x3djson"}};return b.prototype.constructor=b});"use strict";f.when("A","search-cpi-event-handler-registry","search-cpi-placement",
"search-cpi-constants","cpi-cart-update-event","search-cpi-utilities").register("search-cpi",function(a,d,b,c,e,f){function g(){}var k,h=new b(c.store.STRX,c.page.SEARCH,c.slot.BOTTOM);g.prototype={updateCPI:function(){var b=a.$,d=h.getCpiUrl(),e;a.ajax(d,{method:"POST",cache:!1,success:function(a){a&&a.searchCpiInfo&&(e=a.searchCpiInfo,b("*[id\x3ds-cpi-widget-header]").get().forEach(function(a){b(a).find("*:not(:has(*)):visible").text(e.title)}),b("*[id\x3ds-cpi-widget-messaging]").get().forEach(function(a){b(a).contents().filter(function(a,
b){return b.nodeType===Node.TEXT_NODE}).first().replaceWith(e.eligibleProgressMessage+" "+e.remainingProgressMessage)}),b("*[id\x3ds-cpi-widget-progress-bar]").get().forEach(function(a){b(a).find(".a-meter-bar").css("width",e.fillPercentage+"%")}),f.addProgressBarSeparators())},error:function(a){f.logError(c.logLevels.ERROR,a,"search-cpi","ajax call to refresh search CPI failed")}})},onCartUpdateEvent:function(a){if(a instanceof e)switch(a.getPage()){case c.page.SEARCH:case c.page.EWC:this.updateCPI()}}};
k=new g;return{init:function(){d.addEventHandler(h,k.onCartUpdateEvent.bind(k),k)}}});"use strict";f.when("A").register("cpi-cart-update-event",function(){function a(a){this._page=a}a.prototype={getPage:function(){return this._page}};return a.prototype.constructor=a});"use strict";f.when("A","search-cpi-event-handler-registry","search-cpi-constants","cpi-cart-update-event").execute("search-atc",function(a,d,b,c){a.on("search:add_to_cart:request-completed",function(){d.notifyEventHandler(new c(b.page.SEARCH))})});
"use strict";f.when("search-cpi-event-handler-registry","search-cpi-constants","cpi-cart-update-event","rush-dispatcher").execute("search-cpi-atc",function(a,d,b,c){c.on("s-add-to-cart-controller:submit-success",function(){a.notifyEventHandler(new b(d.page.SEARCH))})});"use strict";f.when("A","search-cpi-event-handler-registry","search-cpi-constants","cpi-cart-update-event").execute("search-rfc",function(a,d,b,c){a.on("search:remove_from_cart:request-completed",function(){d.notifyEventHandler(new c(b.page.SEARCH))})});
"use strict";f.when("A","search-cpi-event-handler-registry","search-cpi-constants","cpi-cart-update-event").execute("cpi-ewc-atc",function(a,d,b,c){a.on("ewc:cartUpdate:success",function(){d.notifyEventHandler(new c(b.page.EWC))})})});
/* ******** */
(function(l){var m=window.AmazonUIPageJS||window.P,n=m._namespace||m.attributeErrors,k=n?n("PostsSharedFeedAssets","PostsSharedFeedAssets"):m;k.guardFatal?k.guardFatal(l)(k,window):k.execute(function(){l(k,window)})})(function(l,m,n){var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},p=function(){function g(f,e){for(var a=0;a<e.length;a++){var b=
e[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(f,b.key,b)}}return function(f,e,a){e&&g(f.prototype,e);a&&g(f,a);return f}}();l.now("posts-sushi-client").execute(function(g){"undefined"===typeof g&&l.register("posts-sushi-client",function(){var f=["messageId","timestamp"];return function(){function e(a,b){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.endpoint=b;this.window=a;this.eventsQueue=[];this.eventsDictionary=
{};this.reverseEventsDictionary={};this.eventSequence=this.lowPriorityTimer=this.highPriorityTimer=this.rejectedEvents=this.dictionaryIndex=this.batchSize=0;this.unloadHandlerCalled=!1;this.highPriorityFlushInterval=1E3;this.lowPriorityFlushInterval=1E4;this.transportationClient=function(b){var f=function(){};b=function(){var b=function(){if(a.XDomainRequest){var d=new a.XDomainRequest;d.onerror=f;d.ontimeout=f;d.onprogress=f;d.onload=f;d.timeout=0;return d}if(a.XMLHttpRequest){d=new a.XMLHttpRequest;
if(!("withCredentials"in d))throw"";return d}return null};return{send:function(a,c){if(c&&a){var h=b();if(!h)throw"";h.open("POST",a,!0);h.setRequestHeader&&h.setRequestHeader("Content-type","text/plain");h.send(c)}},isSupported:!0}}();var e=function(){return{send:function(b,d){if(b&&d&&!a.navigator.sendBeacon(b,d))throw"";},isSupported:!!a.navigator.sendBeacon&&!(a.cordova&&a.cordova.platformId&&"ios"===a.cordova.platformId)}}();return{ajaxClient:b,beaconClient:e}}(this);this.compressor=function(a){var b=
function(d){if(d)switch("undefined"===typeof d?"undefined":k(d)){case "number":return!(d!==d||Infinity===d)&&d.toString().length>a.dictionaryIndex.length;case "boolean":break;case "string":return d.length>a.dictionaryIndex.length;default:return!0}return!1},e=function(d){a.eventsDictionary[d]||(a.eventsDictionary[d]=a.dictionaryIndex++,a.reverseEventsDictionary[a.eventsDictionary[d]]=d);return a.eventsDictionary[d]},g=function(a){if(b(a)){var c=0;a instanceof Array?c=2:a instanceof Function?c=null:
a instanceof Object&&(c=1);switch(c){case 0:return e(a);case 2:for(var h=[],c=0;c<a.length;c++)h[c]=g(a[c]);return h;case 1:c={};for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&(c[e(h)]=-1===f.indexOf(h)?g(a[h]):a[h]);return c}}return a};return{compressData:g,buildPOSTObject:function(){return a.stringify({cs:{dct:a.reverseEventsDictionary},events:a.eventsQueue})}}}(this)}p(e,[{key:"onBeforeUnload",value:function(){!0!==this.unloadHandlerCalled&&(this.flush(this),this.unloadHandlerCalled=!0)}},
{key:"stringify",value:function(a){try{return JSON.stringify(a)}catch(b){console.warn("Fail to stringify data")}return null}},{key:"resetBatch",value:function(){this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.highPriorityTimer=this.lowPriorityTimer=this.batchSize=this.dictionaryIndex=0}},{key:"sendWithClient",value:function(a){if(null==this.endpoint||""==this.endpoint)this.ueCount("SushiClientEndpointMissing");else{if(a.isSupported){var b=this.compressor.buildPOSTObject();
return a.send(this.endpoint,b)}throw"";}}},{key:"sendWithPriority",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];for(a=0;a<b.length;a++){c=b[a];try{return this.sendWithClient(c)}catch(f){}}return null}},{key:"flush",value:function(a){a.eventsQueue.length&&(a.sendWithPriority(a.transportationClient.beaconClient||{},a.transportationClient.ajaxClient||{}),a.resetBatch())}},{key:"startHighPriorityQueueTimer",value:function(){0===this.highPriorityFlushInterval?this.flush(this):
this.highPriorityTimer||(this.highPriorityTimer=this.window.setTimeout(this.flush,this.highPriorityFlushInterval,this))}},{key:"startLowPriorityQueueTimer",value:function(){this.lowPriorityTimer||(this.lowPriorityTimer=this.window.setTimeout(this.flush,this.lowPriorityFlushInterval,this))}},{key:"generateMessageId",value:function(a,b){return a+"-"+b+"-"+this.eventSequence}},{key:"getCurrentISODate",value:function(){var a=new Date,b=function(a){return 10>a?"0"+a:a};return Date.prototype.toISOString?
a.toISOString():a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}},{key:"decorateEvent",value:function(a){a.timestamp=this.getCurrentISODate();a.sequence=this.eventSequence;a.messageId=this.generateMessageId(a.request_id,Date.now?Date.now():(new Date).getTime())}},{key:"startTimers",value:function(a){(a||{}).n?this.startHighPriorityQueueTimer():
this.startLowPriorityQueueTimer()}},{key:"encodeEvent",value:function(a,b,c){b=b.length;(499===this.eventsQueue.length||524288<this.batchSize+b)&&this.flush(this);this.batchSize+=b;a={data:this.compressor.compressData(a)};this.eventsQueue.push(a);this.startTimers(c)}},{key:"addEvent",value:function(a,b){this.decorateEvent(a,b);var c=this.stringify(a);return c?(this.encodeEvent(a,c,b),!0):!1}},{key:"isValidAPIParam",value:function(a,b){return a&&-1<a.constructor.toString().indexOf(b)}},{key:"isMaxCallsReached",
value:function(){this.eventSequence++;5E4<this.eventSequence&&this.ueCount("SushiClientMaxCallsReached");return 5E4<this.eventSequence}},{key:"isValidAPICall",value:function(a,b){return!this.isMaxCallsReached()&&this.isValidAPIParam(a,"Object")}},{key:"ueCount",value:function(a,b){"undefined"!==typeof ue&&ue&&ue.count&&ue.count("ACEPostsMetrics:"+a,0===b?0:b||(ue.count("ACEPostsMetrics:"+a)||0)+1)}},{key:"processEvent",value:function(a,b){var c=this.unloadHandlerCalled=!1;this.options=b||{};this.isValidAPICall(a,
this.options)&&(c=this.addEvent(a,this.options));c?this.ueCount("ClientEventsSuccess:"+a.event_type):(console.error("Invalid JS SushiEel API call"),this.ueCount("ClientEventsFailed:"+a.event_type));return c}}]);return e}()})});"use strict";l.now("posts-clamp").execute(function(g){"undefined"===typeof g&&l.register("posts-clamp",function(){return function(f,e){function a(a,b){m.getComputedStyle||(m.getComputedStyle=function(a){this.el=a;this.getPropertyValue=function(b){var d=/(-([a-z]){1})/g;"float"==
b&&(b="styleFloat");d.test(b)&&(b=b.replace(d,function(a,b,d){return d.toUpperCase()}));return a.currentStyle&&a.currentStyle[b]?a.currentStyle[b]:null};return this});return m.getComputedStyle(a).getPropertyValue(b)}function b(b){var c=a(f,"line-height");"normal"==c&&(c=1.2*parseInt(a(f,"font-size")));return parseInt(c)*b}function c(a){if(a.lastChild.children&&0<a.lastChild.children.length)return c(Array.prototype.slice.call(a.children).pop());if(a.lastChild&&a.lastChild.nodeValue&&""!=a.lastChild.nodeValue&&
a.lastChild.nodeValue!=e.truncationChar)return a.lastChild;a.lastChild.parentNode.removeChild(a.lastChild);return c(f)}function g(a,b){if(b&&!(f.clientHeight<=b))for(;f.clientHeight>b;){var c=a.nodeValue.split("");if(1<c.length){do{c.pop();var e=c.join("");a.nodeValue=e}while(/[\s\n,.]+/.test(c[c.length-1])&&1<c.length)}k&&(f.innerHTML=a.nodeValue+k.innerHTML)}}if(f!==n){e=e||{};var l=e.clamp||2,k;e.truncationHTML&&(k=document.createElement("span"),k.innerHTML=e.truncationHTML);l=b(l);g(c(f),l)}}})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("BrandFollowKataComponentAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@bottom-sheet",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@filter-search",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(e){var d=window.AmazonUIPageJS||window.P,g=d._namespace||d.attributeErrors,b=g?g("SuperFilterAssets@helpers",""):d;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,d,g){e.register("sf-constants-module",function(){return{CONSTANT_CLASSES:{NAV_BAR_MOBILE:".nav-mobile",RIB_ELEMENT:".s-mobile-toolbar",RIB_STICKY_CONTAINER:"s-mobile-toolbar-sticky",SF_MOBILE_FILTER_ELEMENT:".sf-mobile-filter-element",SF_RIB_LABEL_CLICK:"sf-rib-label-click",FILTER_SUB_MENU:".sf-sub-menu",
SF_REFINEMENT_PANEL:".sf-refinements-panel",SF_REFINEMENT_HEADING:".sf-refinement-heading \x3e span",SF_FILTER_FLOATBOX:".sf-filter-floatbox",SF_FILTER_BREADCRUMB:".sf-breadcrumb",SF_FILTER_LINK:".a-link-normal",SF_FILTER_ITEM_DISABLED:"s-filter-item-disabled",SF_FILTER_ITEM_SELECTED:"s-filter-item-selected",SF_FILTER_ITEM_RECOMMENDED:"s-filter-item-recommended",SF_FILTER_ITEM_NO_CLICK:"sf-filter-item-no-click",SF_SEE_MORE_BTN:".sf-see-more-btn",SF_BOTTOM_NAV:".sf-bottom-nav",SF_BOTTOM_NAV_CURRENT:".sf-bottom-nav-current",
SF_BOTTOM_NAV_CURRENT_NO_SELECTOR:"sf-bottom-nav-current",SF_BOTTOM_NAV_BTN:".sf-bottom-nav-btn",SF_SPINNER_HIDDEN:"sf-spinner-hidden",SF_SHEET_FRONT_LIGHTBOX:"sf-sheet-front-lightbox",BOTTOM_SHEET_BACK_LIGHTBOX:".a-sheet-lightbox",BOTTOM_SHEET_BACK_LIGHTBOX_STYLE:"sf-lightbox",OFFSCREEN_CLASS:"s-mobile-toolbar-offscreen",S_RIB_TOGGLE_CONTAINER:".a-link-normal",PILL_ELEMENT:".sf-rib-all-filters",SF_SHEET_SPINNER:".sf-sheet-spinner",SF_PILL_SPINNER:".sf-rib-spinner",SF_PILL_TRIANGLE:".sf-rib-triangle",
RIB_SCROLLER:".sf-rib-scroller",HIDE_CLASS:"aok-hidden",SF_DROPDOWN_CONTENT:".sf-dropdown-content",SF_REFINEMENTS_SECTION:".sf-refinements-section",SF_REFINEMENTS_SECTION_HEADING:".sf-section-heading \x3e span",SF_REFINEMENTS_SECTION_LAST_CHILD:".sf-refinements-section:last-child",SF_REFINEMENTS_SECTION_NOT_HIDDEN:".sf-refinements-section:not(.aok-hidden)",SF_VISIBLE_REFINEMENTS:".sf-refinements-section:not(.aok-hidden) .sf-refinements-panel:not(.aok-hidden)",SF_IOS_DEVICE:"sf-ios-device",SF_IOS_DEVICE_LAST_REFINEMENT:"sf-ios-device-last-refinement",
SF_ROUNDED_CORNERS:"sf-rounded-corners",AUI_BOTTOM_SHEET_WRAPPER:".a-sheet-web",AUI_BOTTOM_SHEET_CONTAINER:".a-sheet-web-container",SF_TOP_NAV:".sf-top-nav",SF_TOP_NAV_CURRENT:".sf-top-nav-current",SF_TOP_NAV_CURRENT_NO_SELECTOR:"sf-top-nav-current",SF_SCROLL_SHADOW:"sf-scroll-shadow",SF_ACTIVE_ACCORDION_SELECTOR:".sf-refinements-section\x3ediv\x3ea\x3e.a-icon-section-collapse",S_PROFILE_CONTAINER:".s-rib-profile-container",SF_TOP_NAV_SEARCH_INPUT:".sf-top-nav-search-input-container input",SF_CLEAR_SEARCH_BTN:".sf-top-nav-clear-search-btn",
SF_LAST_VISIBLE_SECTION:"sf-last-visible-section",SF_VISIBILITY_HIDDEN:"sf-visibility-hidden",SF_FULL_HEIGHT_SHEET:"sf-full-height",SECONDARY_TEXT_SELECTOR:"div.a-section",SF_FILTERS_VTABS:"sf-filters-vtabs",SF_FILTERS_VTABS_TABS_CONTAINER:".sf-filters-vtabs-tabs-container",AUI_TRUNCATE:".a-truncate",PROFILE_INGRESS_ICON:".s-rib-profile-container img",SF_STATIC_HEIGHT_SHEET_MSHOP:"sf-static-height"},SUPER_FILTER:{SUPER_FILTER_PREFIX:"sf-",SHEET_NAME:"super-filter",SORTS_SECTION:"sf-sorts",BRANDS_SECTION:"sf-brandsRefinements",
BOTTOM_NAV_HEIGHT:68,IPHONE_8_PLUS_VIEWPORT_HEIGHT:736,IPHONE_5_VIEWPORT_HEIGHT:568,TOP_NAV_HEIGHT:52,BOTTOM_SHEET_EXPANSION_DELAY:100,BOTTOM_SHEET_SPINNER_OFFSET:250,BOTTOM_SHEET_MAX_OFFSET:100,BOTTOM_SHEET_MIN_OFFSET:60,BOTTOM_SHEET_MIN_SIZE:260,BOTTOM_SHEET_MSHOP_TOP_OFFSET:80,BOTTOM_SHEET_MWEB_TOP_OFFSET:190},CONSTANT_DIV_IDS:{FILTER:"#dropdown-content-",RIB_COMPONENT:'[data-component-type\x3d"s-result-info-bar"]',SF_FILTERS_PANEL:'[data-component-type\x3d"s-filters-panel-view"]',PAGE_SPINNER:'[data-component-type\x3d"s-loading-spinner"]',
SF_BRANDS_DROPDOWN:'[data-a-expander-name\x3d"sf-brandsRefinements"]',SF_BRAND_MULTIPICKER:"#filter-p_89",SF_BRANDS_SECTION:"#brandsRefinements .sf-refinements-section",SF_RECOMMENDED_DROPDOWN:'[data-a-expander-name\x3d"sf-recommended"]',NAV_MAIN:"#nav-main",SF_BRANDS_TAB:"brandsRefinements",SF_INFORMATIONAL_TAB:"informational",VTAB_RECOMMENDED:"recommended",VTAB_DEPARTMENTS:"departments",CONTEXTUAL:"contextual",S_ALL_FILTERS:"s-all-filters",S_FILTER_SECTIONS:"s-filter-sections"},CONSTANT_PROPERTY:{DIV_ID:"id",
NAV_LANGUAGE:"data-nav-language",DATA_UUID:"data-uuid"},DECLARATIVE_ACTION:{SF_SINGLE_SELECT_FILTER:"sf-single-select-filter",SUPER_FILTER_PILL:"super-filter-pill",SUPER_FILTER_PILL_TOGGLE:"super-filter-pill-toggle",SEE_MORE_BTN:"super-filter-see-more",DONE_BTN:"super-filter-done",CLOSE_BTN:"super-filter-close",SEARCH_INPUT:"super-filter-search",CLEAR_FILTERS_BTN:"sf-clear-filters",CLEAR_SEARCH_BTN:"super-filter-clear-search",SF_PROFILE_INGRESS:"sf-profile-ingress",SF_SECTION_PILL_TOGGLE:"super-filter-section-pill-toggle"},
METRIC_CONSTANTS:{SF_BAR_CLICKED:"sf-bar-clicked",BOTTOM_SHEET_CREATE:"sf-bottom-sheet-create",BOTTOM_SHEET_ERROR:"sf-bottom-sheet-errors",BOTTOM_SHEET_EXPAND_ERROR:"sf-bottom-sheet-expand-error",SF_NO_REFINEMENTS_FOUND:"sf-refinements-not-found",SF_NO_DROPDOWN_FOUND:"sf-dropdown-not-found",LIGHTBOX_SEARCH_FREEZE_TIME:"sf-lightbox-search-freeze-time",LIGHTBOX_SEARCH_FREEZE_CLICK_COUNT:"sf-lightbox-search-freeze-click-count",LIGHTBOX_SEARCH_UNFREEZE_TO_REFINEMENT_CLICK_TIME:"sf-lightbox-search-unfreeze-to-refinement-click-time",
REFINEMENTS_CLICKED_BEFORE_HIDING_SHEET_COUNT:"sf-refinements-clicked-before-hiding-sheet-count",SF_RIB_PILL_TOUCH_NOT_READY:"sf-rib-pill-touch-not-ready",SF_CLICK_TO_REFINEMENTS_SCOPE:"sf-click-to-refinements",SF_RIB_LANDING_CONTROLLER_LIFE_TIME:"sf-rib-landing-controller-life-time",SF_DROPDOWN_CLOSED_BY_DONE:"sf-dropdown-closed-by-done",SF_DROPDOWN_CLOSED_BY_CLOSE:"sf-dropdown-closed-by-close",SF_DROPDOWN_CLOSED_BY_PILL:"sf-dropdown-closed-by-pill",SF_BACK_CLICKED_WHILE_DROPDOWN_IS_OPEN:"sf-back-clicked-while-dropdown-is-open",
SF_RIB_SCROLLER_OVERFLOW_HIDDEN:"sf-rib-scroller-overflow-hidden",SF_SEE_MORE_CLICKED:"sf-see-more-clicked",SF_ACCORDION_OPENED:"sf-accordion-opened",SF_ACCORDION_CLOSED:"sf-accordion-closed",SF_ACCORDION_PERCENTAGE_ON_DROPDOWN_CLOSE:"sf-accordion-percentage_on_dropdown_close",SF_RIB_SCROLLER_RELATIVE_SIZE:"sf-rib-scroller-relative-size",SF_FILTER_UNSELECT_VIA_MENU:"sf-filter-unselect-via-menu",SF_2CL_FILTER_SELECT_VIA_MENU:"sf-2cl-select-via-menu",SF_FILTER_UNSELECT_VIA_RIB:"sf-filter-unselect-via-rib",
SF_FILTER_SEARCH_PRESENT:"sf-filter-search-present",SF_FILTER_SEARCH_NOT_PRESENT:"sf-filter-search-not-present",SF_FILTER_SEARCH_USED:"sf-filter-search-used",SF_FILTER_SEARCH_NO_RESULTS:"sf-filter-search-no-results",SF_FILTER_SEARCH_INPUT_CLEARED:"sf-filter-search-input-cleared",SF_FILTER_SEARCH_SELECT_FILTER:"sf-filter-search-select-filter",SF_FILTER_SEARCH_SELECT_HIDDEN_FILTER:"sf-filter-search-select-hidden-filter",SF_FILTER_SEARCH_SELECT_HIDDEN_BRAND:"sf-filter-search-select-hidden-brand",SF_FILTER_SEARCH_DROPDOWN_CLOSED_BY_DONE:"sf-filter-search-dropdown-closed-by-done",
SF_FILTER_SEARCH_DROPDOWN_CLOSED_BY_CLOSE:"sf-filter-search-dropdown-closed-by-close",SF_FILTER_SEARCH_DROPDOWN_CLOSED_BY_CLEAR_FILTERS:"sf-filter-dropdown-closed-by-clear-filters",SF_FILTER_SEARCH_COLLATOR_CREATION_ERROR:"sf-filter-search-collator-creation-error",SF_PROFILE_INGRESS:"sf-profile-ingress",SF_PROFILE_RECOMMENDED_SELECT_VIA_RIB:"sf-profile-recommended-select-via-rib",SF_PROFILE_RECOMMENDED_SELECT_VIA_DROPDOWN:"sf-profile-recommended-select-via-dropdown",SF_MASH_REQUEST_FULL_SCREEN_API_INVOCATION:"sf-mash-request-full-screen-api-invocation",
SF_MASH_CANCEL_FULL_SCREEN_API_INVOCATION:"sf-mash-cancel-full-screen-api-invocation",SF_MASH_REQUEST_FULL_SCREEN_API_UNAVAILABLE:"sf-mash-request-full-screen-api-unavailable",SF_MASH_CANCEL_FULL_SCREEN_API_UNAVAILABLE:"sf-mash-cancel-full-screen-api-unavailable",SF_MASH_REQUEST_FULL_SCREEN_API_ERROR:"sf-mash-request-full-screen-api-error",SF_MASH_CANCEL_FULL_SCREEN_API_ERROR:"sf-mash-cancel-full-screen-api-error",SF_2CL_SECTION_SWITCH:"sf-2cl-section-switch",SF_FILTER_MENU_ABANDONED:"sf-filter-menu-abandoned",
SF_ERROR_REFINEMENT_NOT_SELECTED_AFTER_REFRESH:"sf-error-refinement-not-selected-after-refresh",SF_SUCCESS_REFINEMENT_SELECTED_AFTER_REFRESH:"sf-success-refinement-selected-after-refresh",SF_ERROR_REFINEMENT_SELECTED_AFTER_REFRESH:"sf-error-refinement-selected-after-refresh",SF_SUCCESS_REFINEMENT_NOT_SELECTED_AFTER_REFRESH:"sf-success-refinement-not-selected-after-refresh",SF_ERROR_FILTER_PANEL_NOT_REFRESHED:"sf-error-filter-panel-not-refreshed",SF_SUCCESS_FILTER_PANEL_REFRESHED:"sf-success-filter-panel-refreshed",
SF_ERROR_RIB_NOT_REFRESHED:"sf-error-rib-not-refreshed",SF_SUCCESS_RIB_REFRESHED:"sf-success-rib-refreshed",SF_RIB_MESSAGING_CONTROLLER_SCOPE:"sf-rib-messaging-controller",SF_PROFILE_INGRESS_ICON_LOAD_TIME:"sf-profile-ingress-icon-load-time",SF_PROFILE_INGRESS_ICON_TIMING_DATA_NOT_FOUND:"sf-profile-ingress-icon-timing-data-not-found",SF_BOTTOM_SHEET_SCROLL_POSITION_REMOVED:"sf-bottom-sheet-scroll-position-removed",SF_BOTTOM_SHEET_NO_SCROLL_POSITION:"sf-bottom-sheet-no-scroll-position"},CONSTANT_STATES:{EXPANDED:"expanded",
COLLAPSED:"collapsed"},FILTER_SEARCH_CONSTANTS:{FILTER_SEARCH_RECOVERY_CONTAINER:".sf-filter-search-recovery-container",FILTER_SEARCH_RECOVERY_PANEL:"#sf-filter-search-recovery",FILTER_SEARCH_RECOVERY_LINK_TEXT:"#sf-search-recovery-link-text span",FILTER_SEARCH_RECOVERY_LINK:"#sf-search-recovery-link",FILTER_SEARCH_BRAND_RECOVERY_TEXT:"#sf-brand-search-recovery-text",FILTER_SEARCH_FILTER_RECOVERY_TEXT:"#sf-filter-search-recovery-text",FILTER_SEARCH_RECOVERY_WITHOUT_CONTAINER_CLASS:"sf-without-container",
FILTER_SEARCH_REF_PARAM:"ref",FILTER_SEARCH_BRANDS_RECOVERY_REFTAG:"sr_bcx_b_r",FILTER_SEARCH_FILTERS_RECOVERY_REFTAG:"sr_bcx_f_r",CHARACTERS_TO_IGNORE_REGEX:/['.,:;]/g},RIB_MESSAGING:{LOCAL_STORAGE_NAMESPACE:"s-rib-messaging-preferences",MESSAGE_SELECTOR:".sf-rib-messaging",TOOLTIP_MAX_DISPLAYS_COUNT:5,TOOLTIP_SHOW_DURATION:5E3,TOOLTIP_MINIMUM_DISPLAYED_SIZE_FACTOR:.5},FEATURE_INSTRUMENTATION_MARKERS:{BODY_BEGIN:"bb"}}});"use strict";e.when("jQuery").register("sf-scroll-controller",function(b){function a(a){var c,
f,d;1===a.originalEvent.touches.length&&(c=b(a.target),c.length&&c.is("input")&&"range"===c.attr("type")||(c=a.originalEvent.touches[0].clientY,f=a.currentTarget.scrollTop,d=0>h-c?"up":"down",0>=f&&"up"===d?a.preventDefault():(f=a.currentTarget,f.clientHeight>=f.scrollHeight-f.scrollTop&&"down"===d&&a.preventDefault()),h=c))}function c(a){1===a.originalEvent.touches.length&&(h=a.originalEvent.touches[0].clientY,l=a.originalEvent.touches[0].clientX)}function d(a){var c,b;1===a.originalEvent.touches.length&&
(c=a.originalEvent.touches[0].clientY,b=a.originalEvent.touches[0].clientX,c=Math.abs(h-c),b=Math.abs(l-b),c>b&&a.preventDefault())}var e=-1!==navigator.userAgent.indexOf("Mac")&&"ontouchend"in document,g=!!navigator.platform.match(/iPhone|iPod|iPad/)||e,h,l,k={preventOverScroll:function(b){k.isIOSDevice()&&(b.unbind("touchmove",a).unbind("touchstart",c),b.bind("touchmove",a).bind("touchstart",c))},preventVerticalScroll:function(a,e){var f;k.isIOSDevice()&&(b.isFunction(e)?(f=function(a){e()&&d(a)},
a.bind("touchmove",f).bind("touchstart",c)):a.bind("touchmove",d).bind("touchstart",c))},isIOSDevice:function(){return g}};return k});"use strict";e.when("jQuery").register("sf-scroll-util",function(b){return{shouldScrollHorizontally:function(a){return a&&b.isFunction(a.prop)?a.prop("scrollWidth")>a.prop("clientWidth"):!1},canScrollHorizontally:function(a){return a&&b.isFunction(a.css)?"scroll"===a.css("overflow-x")||"auto"===a.css("overflow-x"):!1},removeInitialScrollPosition:function(a,c,b){},removeTopPosition:function(){}}});
"use strict";e.register("sf-csm-util",function(){return{incrementCount:function(b){var a=d.ue,c;a&&a.count&&(c=a.count(b)||0,a.count(b,c+1))},addCount:function(b,a){var c=d.ue;c&&c.count&&c.count(b,a)},markLoadingTime:function(b){var a=d.uex;"function"===typeof a&&a("ld",b,{wb:1})},setLatencyMetricsValue:function(b,a){var c=d.uet;"function"===typeof c&&c(a,b,{wb:1})},setTag:function(b){var a=d.ue;a&&a.tag&&a.tag(b)}}});"use strict";e.when("sf-constants-module").register("sf-item-util",function(b){var a=
b.CONSTANT_CLASSES;return{getSelectedItem:function(c){var b=c.$target.closest(a.SF_FILTER_FLOATBOX);1!==b.length&&(b=c.$target.closest(a.SF_FILTER_LINK));return b},isItemDisabled:function(b){return b.hasClass(a.SF_FILTER_ITEM_DISABLED)||b.hasClass(a.SF_FILTER_ITEM_NO_CLICK)}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@rib-messaging",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@rib-navigation-exploration",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var a=window.AmazonUIPageJS||window.P,d=a._namespace||a.attributeErrors,b=d?d("SuperFilterAssets@rush-router-wrapper",""):a;b.guardFatal?b.guardFatal(c)(b,window):b.execute(function(){c(b,window)})})(function(c,a,d){c.when("A","R","s-device-context","s-device-os","sf-bottom-sheet-resize-handler","sf-bottom-sheet-controller").register("sf-rush-router-wrapper",function(b,c,a,d,e,f){function h(){f.showingBottomSheet&&e.requestMashFullScreen()}return{to:function(k,l){var g={};g.url=k;c.to(g,
l);a&&a.APP&&d&&d.ANDROID&&f.showingBottomSheet&&(e.requestMashFullScreen(),b.delay(h,200))}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@super-filter",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@super-filter-see-more",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@super-filter-landing",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@vertical-tabs",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(e){var h=window.AmazonUIPageJS||window.P,l=h._namespace||h.attributeErrors,c=l?l("SuperFilterAssets@sliders",""):h;c.guardFatal?c.guardFatal(e)(c,window):c.execute(function(){e(c,window)})})(function(e,h,l){e.when("A","Rush","s-slider","s-web-application-controller","sf-super-filter","filters-panel-view-ready","ready").register("sf-sliders-controller",function(c,e,h,x,y){function k(a){return a?g[a]||{}:{}}function m(a){return a.data("slider-id")}function r(a,b){a=c.state(a);b=Math.round(b);
return!Array.isArray(a)||0>b||b>=a.length?l:a[b]}function n(a,b){return r(a+"_step-labels",b)}function t(a,b){var d=a.find("."+b+" span");0===d.length&&(d=a.find("."+b));return d}function u(a){var b=a.target.closest(".sf-range-slider"),d=a.state,f,c=m(b);a=n(c,d.lowerBound);d=n(c,d.upperBound);c=k(c);a&&(f=t(b,"sf-lower-bound-label"),f.text(a));d&&(b=t(b,"sf-upper-bound-label"),b.text(d));(b=c.instance)&&b.setAriaValueText(a,d)}function v(a){var b=a.target.closest(".sf-range-slider");a=a.state;var d=
m(b),c=b.find('input[name\x3d"low-price"]'),e=b.find('input[name\x3d"high-price"]');c.val(r(d+"_step-values",a.lowerBound));e.val(r(d+"_step-values",a.upperBound));c=b.closest(".sf-range-content");e=c.find(".sf-range-item");1===e.length&&(d=m(b),a=k(d),a.isDestroyable=!1,a.$outerItemContainer=e,a.outerContentId=c.attr("id"),g[d]=a);y.submitFilterRange(b)}function w(a,b){var d,f;f=p(b);a=m(f);b=k(a);d=f.find(".s-slider-container");f=new h(a,d);if(a&&f&&d.length){q&&(c.state(a+"_step-values",null),
c.state(a+"_step-labels",null),c.state.parse());c.on("s:slider:"+a+":input",u);c.on("s:slider:"+a+":change",v);d=n(a,f.lowerBound);var e=n(a,f.upperBound);f.setAriaValueText(d,e);b.instance=f;b.isDestroyable=!0;g[a]=b}}function z(){Object.keys(g).forEach(function(a){var b=k(a);if(!1===b.isDestroyable){var c=p("#"+b.outerContentId+".sf-range-content").find(".sf-filter-section");c.find(".sf-range-item").length||c.prepend(b.$outerItemContainer);b.isDestroyable=!0;delete b.outerContentId;delete b.$outerItemContainer;
g[a]=b}})}function A(){Object.keys(g).forEach(function(a){var b=k(a).instance;b&&b.unbindEvents();c.off("s:slider:"+a+":input",u);c.off("s:slider:"+a+":change",v);delete g[a]})}var q=!1,g={},p=c.$;e.on(x.ACTIONS.LOAD_REFINEMENTS_COMPLETE,function(){q=!0;z();A();p(".sf-range-slider").each(w);q=!1});p(".sf-range-slider").each(w);q=!1})});
/* ******** */
(function(e){var d=window.AmazonUIPageJS||window.P,f=d._namespace||d.attributeErrors,c=f?f("SearchFollowButtonAssets",""):d;c.guardFatal?c.guardFatal(e)(c,window):c.execute(function(){e(c,window)})})(function(e,d,f){e.when("jQuery","rush-framework","af").register("rdx-follow-button",function(c,e){function k(a){d.ue&&d.ue.tag&&d.ue.count&&(d.ue.tag(a,"searchEntityFollow"),d.ue.count(a+"Count",1))}function l(a){a.removeClass("aok-hidden")}e.registerComponent("rdx-follow-button","rdx-follow-button",
function(a){function e(a){b.removeClass("rdx-follow-button-is-following");b.find("button .rdx-follow-button-text").text(g);b.find(".rdx-follow-button-button").attr("aria-label",t);b.find("button .rdx-follow-button-icon").removeClass("rdx-follow-button-following-icon").addClass("rdx-follow-button-follow-icon");b.unbind().click(function(){p(a)});l(b)}function m(a){b.addClass("rdx-follow-button-is-following");b.find("button .rdx-follow-button-text").text(n);b.find(".rdx-follow-button-button").attr("aria-label",
u);b.find("button .rdx-follow-button-icon").removeClass("rdx-follow-button-follow-icon").addClass("rdx-follow-button-following-icon");b.unbind().click(function(){v(a)});l(b)}function w(){b.removeClass("rdx-follow-button-is-following");b.find("button .rdx-follow-button-text").text(g);b.find("button .rdx-follow-button-icon").removeClass("rdx-follow-button-following-icon").addClass("rdx-follow-button-follow-icon");b.unbind().click(function(){"undefined"!==typeof sessionStorage&&(sessionStorage.followKey=
h);d.location.href=x});l(b)}function p(a){c.ajax({type:"POST",contentType:"application/json; charset\x3dutf-8",url:y,data:JSON.stringify({authenticity_token:a,entity_id:h,category:q,ref:z}),success:function(){m(a)},error:function(){e();r.removeClass("aok-hidden");k("EntityFollowError")}})}function v(a){c.ajax({type:"DELETE",url:A+"\x26"+c.param({authenticity_token:a}),data:{},success:function(){e(a)},error:function(){m(a);r.removeClass("aok-hidden");k("EntityUnfollowError")}})}function B(){c.ajax({type:"GET",
url:C,data:{},success:function(a){if(a.isFollowable)if(a.signedIn)if(a.isFollowing)m(a.csrf);else{var b;b=h;var c;c=/rdx-entity-follow=([^#&]+)/.exec(d.location.search);(c&&2===c.length?c[1]:f)!==b||"undefined"===typeof sessionStorage?b=!1:(c=sessionStorage.followKey,sessionStorage.removeItem("followKey"),b=c===b);b?p(a.csrf):e(a.csrf)}else w()},error:function(){k("EntityFollowStatusError")}})}var b=c(a.elem()).find(".rdx-follow-button"),r=c(a.elem()).find(".rdx-follow-button-alert"),h=a.prop("entityID"),
q=a.prop("entityType"),C=a.prop("followStatusUrl"),y=a.prop("followUrl"),A=a.prop("unfollowUrl"),x=a.prop("flexSignInUrl"),g=a.prop("followText"),n=a.prop("followingText"),t=a.prop("followARIALabel"),u=a.prop("followingARIALabel"),z=a.prop("followReftag");"undefined"!==typeof h&&"undefined"!==typeof q&&("undefined"===typeof g&&(g="Follow"),"undefined"===typeof n&&(n="Following"),B())})})});
/* ******** */
(function(d){var f=window.AmazonUIPageJS||window.P,y=f._namespace||f.attributeErrors,b=y?y("FloatingActionButtonWidgetAssetsCommon",""):f;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,f,y){d.register("s-fab-unread-badging-flag",function(){return{enabled:1}});d.register("s-fab-hover-hint-flag",function(){return{enabled:1}});d.when("A","ready").register("s-fab-controller",function(){var b=null,a=null;return{registerComponent:function(n){b=n;a&&a()},setOnComponentRegistered:function(n){a=
n;b&&a()},registerOnOpenHandler:function(a){b.registerOnOpenHandler(a)},registerOnCloseHandler:function(a){b.registerOnCloseHandler(a)},registerOnControlCloseHandler:function(a){b.registerOnControlCloseHandler(a)},registerHoverHandler:function(){b.registerHoverHandler()},isOpen:function(){return b.isOpen()},isVisible:function(){return b.isVisible()},setUnreadMessageCount:function(a){return b.setUnreadMessageCount(a)},expandContentPane:function(){b.expandContentPane()},minimizeContentPane:function(){b.minimizeContentPane()},
showComponent:function(){b.showComponent()},hoverHintEnabled:function(){return b.hoverHintEnabled()},showHoverHint:function(){b.showHoverHint()},getElements:function(){return b.elements}}});d.when("A","s-fab-constants","s-fab-utilities","s-fab-controller","ready").register("s-fab-component-registration",function(b,a,n,c){var d=b.$;return{setup:function(b,f,w){function l(){e.$floatingActionButtonContent.width(Math.ceil(e.$floatingActionButton[0].getBoundingClientRect().width))}function p(b){b===a.CONTENT_VISIBLE?
e.$floatingActionButtonHoverHintContainer.removeClass(a.AUI_HIDDEN_CLASS):e.$floatingActionButtonHoverHintContainer.addClass(a.AUI_HIDDEN_CLASS)}function t(){return w.hoverHintEnabled&&e.$floatingActionButtonHoverHintContainer.length}function x(){e.$floatingActionButtonHoverHintClose.unbind("click");e.$floatingActionButtonHoverHintClose.click(function(){g.hoverHintHasBeenClosed=!0;p(a.CONTENT_HIDDEN)})}function u(b){b===a.CONTENT_VISIBLE?e.$floatingActionButtonContentWrapper.removeClass(a.AUI_HIDDEN_CLASS):
e.$floatingActionButtonContentWrapper.addClass(a.AUI_HIDDEN_CLASS)}function k(b){var c;e.$floatingActionButtonInteractionIcon=m.find(a.FAB_INTERACTION_ICON);e.$floatingActionButtonInteractionIcon.removeClass(a.OPEN_IMAGE_CLASS);e.$floatingActionButtonInteractionIcon.removeClass(a.CLOSE_IMAGE_CLASS);e.$floatingActionButtonInteractionIcon.addClass(b);try{c=n.extractContentURL(e.$floatingActionButtonInteractionIcon.css("content")),e.$floatingActionButtonInteractionIcon.attr("src",c)}catch(d){n.metrics.addOne(a.METRICS.COUNTERS.IMAGE_SRC_SET_FAILURE)}}
function z(){a.CONTAINER_OPEN===a.CONTAINER_OPEN&&l();u(a.CONTENT_VISIBLE);p(a.CONTENT_HIDDEN);k(a.CLOSE_IMAGE_CLASS)}function A(){a.CONTAINER_CLOSED===a.CONTAINER_OPEN&&l();u(a.CONTENT_HIDDEN);k(a.OPEN_IMAGE_CLASS)}function q(){return!e.$floatingActionButtonContentWrapper.hasClass(a.AUI_HIDDEN_CLASS)}function B(){e.$floatingActionButtonHoverHintContainer.width(e.$floatingActionButton[0].getBoundingClientRect().width);p(a.CONTENT_VISIBLE)}function C(){g.hasBeenClicked||n.metrics.addOne(a.METRICS.COUNTERS.INITIAL_FAB_CLICK);
g.hasBeenClicked=!0;if(g.onOpenHandler)g.onOpenHandler();z()}var m=d(b.elem()).parent(),e={$floatingActionButton:m.find(a.FAB_BUTTON_SELECTOR),$floatingActionButtonMain:m.find(a.FAB_BUTTON_MAIN_SELECTOR),$floatingActionButtonContainer:m.find(f),$floatingActionButtonControl:m.find(a.FAB_BUTTON_CONTROL_SELECTOR),$floatingActionButtonContent:m.find(a.FAB_CONTENT_SELECTOR),$floatingActionButtonContentWrapper:m.find(a.FAB_CONTENT_WRAPPER_SELECTOR),$floatingActionButtonInteractionIcon:m.find(a.FAB_INTERACTION_ICON),
$floatingActionButtonUnreadMessagesBadge:m.find(a.FAB_UNREAD_MESSAGES_BADGE),$floatingActionButtonUnreadMessagesCount:m.find(a.FAB_UNREAD_MESSAGES_VALUE),$floatingActionButtonHoverHintContainer:m.find(a.FAB_HOVER_HINT_CONTAINER),$floatingActionButtonHoverHintClose:m.find(a.FAB_HOVER_HINT_CLOSE_BUTTON),$floatingActionButtonWrapper:m.find(a.FAB_WRAPPER_SELECTOR),$rightCol:d(a.RIGHT_COL_SELECTOR)},g={maxUnreadMessagesCount:99,onOpenHandler:null,onCloseHandler:null,onControlCloseHandler:null,hasBeenClicked:!1,
hoverHintHasBeenClosed:!1};n.metrics.addOne(a.METRICS.COUNTERS.FAB_COMPONENT_REGISTRATION);e.$floatingActionButtonControl.unbind("click");e.$floatingActionButtonControl.click(function(){if(!q())C();else if(g.onControlCloseHandler)g.onControlCloseHandler()});e.$floatingActionButtonMain.unbind("click");e.$floatingActionButtonMain.click(function(){if(q()){if(A(),g.onCloseHandler)g.onCloseHandler()}else C()});t()&&x();e.$rightCol.length&&e.$floatingActionButtonWrapper.css("margin-right",Math.ceil(e.$rightCol[0].getBoundingClientRect().width));
c.registerComponent({registerOnOpenHandler:function(a){g.onOpenHandler=a;if(q())g.onOpenHandler()},registerOnCloseHandler:function(a){g.onCloseHandler=a;if(!q())g.onCloseHandler()},registerOnControlCloseHandler:function(a){g.onControlCloseHandler=a},registerHoverHandler:function(){e.$floatingActionButtonContainer.mouseenter(function(){q()||g.hoverHintHasBeenClosed||g.hasBeenClicked||B()}).mouseleave(function(){p(a.CONTENT_HIDDEN)})},isOpen:q,isVisible:function(){return!e.$floatingActionButtonContainer.hasClass(a.AUI_HIDDEN_CLASS)},
setUnreadMessageCount:function(a){a&&0<a?(e.$floatingActionButtonUnreadMessagesCount.text(Math.min(g.maxUnreadMessagesCount,a)),e.$floatingActionButtonUnreadMessagesBadge.css("opacity","1")):e.$floatingActionButtonUnreadMessagesBadge.css("opacity","0")},expandContentPane:z,minimizeContentPane:A,showComponent:function(){e.$floatingActionButtonContainer.removeClass(a.AUI_HIDDEN_CLASS);l()},hoverHintEnabled:t,showHoverHint:B,elements:{$button:e.$floatingActionButton,$container:e.$floatingActionButtonContainer,
$contentContainer:e.$floatingActionButtonContent}})}}});d.when("ready").register("s-fab-constants",function(){return{COMPONENT_NAME:"s-floating-action-button",CLOSE_IMAGE_CLASS:"s-floating-action-button-close-image",OPEN_IMAGE_CLASS:"s-floating-action-button-open-image",FAB_CONTAINER_SELECTOR:"#s-fab-container",FAB_BUTTON_SELECTOR:".s-fab-button",FAB_BUTTON_MAIN_SELECTOR:".s-fab-button-content-main-container",FAB_BUTTON_CONTROL_SELECTOR:".s-fab-button-content-control-container",FAB_CONTENT_SELECTOR:".s-floating-action-button-content",
FAB_CONTENT_WRAPPER_SELECTOR:".s-floating-action-button-content-wrapper",FAB_EMPTY_SELECTOR:"#s-fab-empty",FAB_INTERACTION_ICON:".s-fab-button-image-right",FAB_USE_CASE_SELECTOR:"#fab_useCase",FAB_WRAPPER_SELECTOR:".s-fab-sticky-wrapper",CONTAINER_OPEN:"CONTAINER_OPEN",CONTAINER_CLOSED:"CONTAINER_CLOSED",FAB_UNREAD_MESSAGES_BADGE:".s-fab-button-badge-right-container",FAB_UNREAD_MESSAGES_VALUE:".s-fab-button-badge-right-value",FAB_HOVER_HINT_CONTAINER:".s-fab-hover-hint",FAB_HOVER_HINT_CLOSE_BUTTON:".s-fab-hover-hint-close-image",
RIGHT_COL_SELECTOR:"#rightCol",CONTENT_VISIBLE:"CONTENT_VISIBLE",CONTENT_HIDDEN:"CONTENT_HIDDEN",AUI_HIDDEN_CLASS:"aok-hidden",METRICS:{COUNTERS:{INITIAL_FAB_CLICK:"s-fab-ifc",IMAGE_SRC_SET_FAILURE:"s-fab-issf",FAB_COMPONENT_REGISTRATION:"s-fab-fcr",FAB_RENDER_FAILURE:"s-fab-frf"}}}});d.when("ready").register("fab-page-type",function(){return f.ue_pty});d.when("ready").register("s-fab-utilities",function(){return{buildQueryString:function(b){var a,n=[];for(a in b)n.push(encodeURIComponent(a)+"\x3d"+
encodeURIComponent(b[a]));return"?"+n.join("\x26")},buildSignInURL:function(){var b={"openid.assoc_handle":{"amazon.com":"usflex","amazon.co.uk":"gbflex","amazon.de":"deflex","amazon.fr":"frflex","amazon.es":"esflex","amazon.in":"inflex","amazon.it":"itflex","amazon.co.jp":"jpflex","amazon.ca":"caflex"}[f.location.hostname.replace(/.+?(?=amazon)/,"")],"openid.claimed_id":"http://specs.openid.net/auth/2.0/identifier_select","openid.identity":"http://specs.openid.net/auth/2.0/identifier_select","openid.mode":"checkid_setup",
"openid.ns":"http://specs.openid.net/auth/2.0","openid.pape.max_auth_age":0,"openid.return_to":f.location.href};return"/ap/signin"+this.buildQueryString(b)},extractContentURL:function(b){var a=/url\("(.*)"\)/mg.exec(b);try{return a[1]}catch(n){throw Error("Failed to parse url from content ("+b+").");}},metrics:{timer:function(b,a){f.ue&&f.ue.count&&f.ue.count(b,new Date-a)},addOne:function(b){f.ue&&f.ue.count&&f.ue.count(b,1)}}}});d.when("ready").register("s-live-chat-constants",function(){return{COMPONENT_NAME:"s-fab-component-livechatsupport",
FAB_CONTAINER_SELECTOR:"#s-fab-container-livechatsupport",UNAUTHORIZED_ERROR:401,NOT_FOUND_ERROR:404,HUDDLE_ID_GET_OR_CREATE_FETCH_ENDPOINT:"/prepurchase/chat",HUDDLE_ID_GET_EXISTING_FETCH_ENDPOINT:"/prepurchase/chat/existing",RESOLVE_CHAT_ENDPOINT:"/prepurchase/chat/resolve",NEW_HUDDLE:"NEW_HUDDLE",EXISTING_HUDDLE:"EXISTING_HUDDLE",HUDDLES_THEME:{chat_view__background:"#f5ffff",chat_view__gradient:"#e2e9e9",chat_header__background:"#1196AB",message__background__outgoing:"#007185",my_component__border:"#555555",
announcement__background:"unset",announcement__align_items:"flex-start"},QUERY_PARAMETERS:{ASIN:"asin",PRIME:"isPrime",POSTAL_CODE:"postalCode",SEARCH_QUERY:"searchQuery",TITLE:"title",REFERRING_PAGE:"referringPage",CETECH_LIVE_CHAT_PREQUALIFIERS_443376:"CETECH_LIVE_CHAT_PREQUALIFIERS_443376"},SELECTORS:{ASIN:"#fab_asin",IS_PRIME:"#fab_isPrimeCustomer",POSTAL_CODE:"#fab_customerZipCode",SEARCH_QUERY:"#fab_searchQuery",TITLE:"#fab_title"},METRICS:{TIMERS:{FETCH_HUDDLE_FETCH_TIME:"s-fab-lcs-ft"},COUNTERS:{FAB_RENDER_FAILURE:"s-fab-lcs-frf",
FETCH_HUDDLE_ID_NOT_OK:"s-fab-lcs-fin",FETCH_HUDDLE_ID_NOT_FOUND:"s-fab-lcs-finf",FETCH_HUDDLE_ID_OK:"s-fab-lcs-fio",FETCH_HUDDLE_ID_NOT_AUTHORIZED:"s-fab-lcs-fina",FETCH_HUDDLE_ID_THROTTLED:"s-fab-lcs-fit",FETCH_HUDDLE_ID_THROTTLED_WHILE_VISIBLE:"s-fab-lcs-fitv",RESOLVE_OK:"s-fab-lcs-frok",RESOLVE_NOT_OK:"s-fab-lcs-frnok"}}}});d.declare("s-fab-live-chat-flags",{hoverHintEnabled:!0,statusBadgeEnabled:!0});d.when("huddles-init-2.0","s-fab-component-livechatsupport","load").execute(function(b){b.initialize();
d.when("A","s-fab-controller","s-live-chat-constants","s-fab-live-chat-flags","s-fab-utilities","huddles-chatbox-2.0","s-live-chat-weblabs","load","ready").register("s-prepurchase-chat",function(a,b,c,d,h,v,w){var l=0;b.setOnComponentRegistered(function(){function p(){l=0;b.setUnreadMessageCount(l)}function t(d){var f=d.onError,k=d.onSuccess,l=d.onComplete;d=d.type===c.NEW_HUDDLE?c.HUDDLE_ID_GET_OR_CREATE_FETCH_ENDPOINT:c.HUDDLE_ID_GET_EXISTING_FETCH_ENDPOINT;x=new Date;a.ajax(d+u,{method:"get",success:function(a){var d=
a.huddle_id;h.metrics.timer(c.METRICS.TIMERS.FETCH_HUDDLE_FETCH_TIME,x);d?(h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_OK),v.renderHuddleChat({huddleId:d,showEmbedded:!0,container:b.getElements().$contentContainer,theme:c.HUDDLES_THEME}),k&&k(a),l&&l()):b.isVisible()?(h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_THROTTLED_WHILE_VISIBLE),f&&f()):h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_THROTTLED)},error:function(a){a.http.status===c.UNAUTHORIZED_ERROR?h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_AUTHORIZED):
a.http.status===c.NOT_FOUND_ERROR?h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_FOUND):h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_OK);f&&f(a.http.status);l&&l()}})}var x,u="",k={};v.subscribeToMessageReceived&&v.subscribeToMessageReceived({handler:function(a){!b.isOpen()&&d.statusBadgeEnabled&&(l+=a,b.setUnreadMessageCount(l))},filters:{slotFilter:function(a){return"MESSAGE"===a}}});k[c.QUERY_PARAMETERS.ASIN]=a.$(c.SELECTORS.ASIN).val()||"";k[c.QUERY_PARAMETERS.PRIME]=a.$(c.SELECTORS.IS_PRIME).val()||
"";k[c.QUERY_PARAMETERS.POSTAL_CODE]=a.$(c.SELECTORS.POSTAL_CODE).val()||"";k[c.QUERY_PARAMETERS.SEARCH_QUERY]=a.$(c.SELECTORS.SEARCH_QUERY).val()||"";k[c.QUERY_PARAMETERS.TITLE]=a.$(c.SELECTORS.TITLE).val()||"";k[c.QUERY_PARAMETERS.REFERRING_PAGE]=btoa(document.referrer);k[c.QUERY_PARAMETERS.CETECH_LIVE_CHAT_PREQUALIFIERS_443376]=w.CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT;try{v.closeChatbox()}catch(z){}u=h.buildQueryString(k);t({type:c.EXISTING_HUDDLE,onSuccess:function(a){a.engaged&&b.expandContentPane();
b.registerOnOpenHandler(p)},onError:function(){b.registerOnOpenHandler(function(){t({type:c.NEW_HUDDLE,onSuccess:function(){b.registerOnOpenHandler(p);f.ue&&ue.trigger&&ue.trigger(c.QUERY_PARAMETERS.CETECH_LIVE_CHAT_PREQUALIFIERS_443376,w.CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT)},onError:function(a){a&&a===c.UNAUTHORIZED_ERROR&&(a=h.buildSignInURL(),f.location.href=a)}})})},onComplete:function(){b.showComponent();b.hoverHintEnabled()&&!b.isOpen()&&b.showHoverHint()}});b.registerOnControlCloseHandler(function(){a.ajax(c.RESOLVE_CHAT_ENDPOINT,
{method:"get",success:function(){h.metrics.addOne(c.METRICS.COUNTERS.RESOLVE_OK)},error:function(a){a.http.status===c.NOT_FOUND_ERROR?b.minimizeContentPane():h.metrics.addOne(c.METRICS.COUNTERS.RESOLVE_NOT_OK)}})})})})});d.when("A","s-fab-component-registration","s-fab-live-chat-flags","fab-page-type","ready").register("s-fab-register-component-for-selector",function(b,a,f,c){return function(r){var h=function(){a.setup({elem:function(){return r}},r,f)};"Detail"===c&&(h(),d.register("s-fab-component-livechatsupport"),
b.on("a:pageUpdate",b.debounce(function(){h()},750)))}});d.when("A","s-fab-register-component-for-selector","s-fab-constants","s-fab-utilities").register("s-fab-validate-and-register-component",function(b,a,f,c){return function(r,h){b.$(r).length&&(b.$(f.FAB_EMPTY_SELECTOR).length?(c.metrics.addOne(h.COUNTERS.FAB_RENDER_FAILURE),d.register("s-fab-component-render-failure")):a(r))}});d.when("s-fab-validate-and-register-component","s-live-chat-constants").execute(function(b,a){b(a.FAB_CONTAINER_SELECTOR,
a.METRICS)});d.when("s-fab-validate-and-register-component","s-fab-constants").execute(function(b,a){b(a.FAB_CONTAINER_SELECTOR,a.METRICS)});d.when("ready").register("s-live-chat-weblabs",function(){return{CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT:"C"}})});
/* ******** */
(function(n){var m=window.AmazonUIPageJS||window.P,p=m._namespace||m.attributeErrors,q=p?p("BrandFollowButtonJS",""):m;q.guardFatal?q.guardFatal(n)(q,window):q.execute(function(){n(q,window)})})(function(n,m,p){var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},y=function(){function g(b,a){for(var e=0;e<a.length;e++){var f=a[e];f.enumerable=
f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,a,e){a&&g(b.prototype,a);e&&g(b,e);return b}}();n.when("A").register("brand-follow-constants",function(){return{Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR:"span[class*\x3dbrand-follow-button-container]",Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR:"span[class*\x3dbrand-follow-button]",Brand_FOLLOW_BUTTON_SELECTOR:"button[data-bfid]",Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR:'button[data-bfid][data-showtooltip\x3d"true"]',
BRAND_FOLLOW_STATUS_MAP:"brand-follow-status",BRAND_FOLLOW_STATUS:{FOLLOWING:"following",NOT_FOLLOWING:"not_following",PENDING:"pending",NOT_SIGNED_IN:"not_signed_in",ERROR:"error"},BRAND_FOLLOW_CSRF_KEY:"brand-follow-csrf",BRAND_FOLLOW_CSRF_DATA_KEY:"csrf",BRAND_FOLLOW_LAST_CLICK_EVENT_MAP:"brand-follow-last-click-event-map",BFID_DATA_KEY:"bfid",REF_DATA_KEY:"ref",FOLLOW_STATUS_DATA_KEY:"followstatus",FOLLOW_TEXT_DATA_KEY:"followtext",FOLLOWING_TEXT_DATA_KEY:"followingtext",REQUEST_ID_DATA_KEY:"requestid",
PLACEMENT_TYPE_DATA_KEY:"placementtype",PLACEMENT_SUB_TYPE_DATA_KEY:"placementsubtype",PLACEMENT_ID_DATA_KEY:"placementid",COMPONENT_TYPE_DATA_KEY:"componenttype",COMPONENT_ID_DATA_KEY:"componentid",ELEMENT_TYPE_DATA_KEY:"elementtype",ELEMENT_ID_DATA_KEY:"elementid",TOOLTIP_TEXT_DATA_KEY:"tooltiptext",BACK_BUTTON_SUPPORT_ENABLED_DATA_KEY:"backbuttonsupportenabled",ARIA_LABEL_KEY:"aria-label",ARIA_LABEL_FOLLOW_DATA_KEY:"arialabelfollow",ARIA_LABEL_FOLLOWING_DATA_KEY:"arialabelfollowing",FOLLOWED_BRAND_TOOLTIP_SIGNAL:"followed_brand_signal",
TOOLTIP_LAST_SEEN_KEY:"tooltip_last_seen",TOOLTIP_LATEST_TEXT_KEY:"tooltip_latest_text",TOOLTIP_SEEN_COUNTER:"tooltip_seen_counter",TOOLTIP_DISPLAY_TIME:5E3,TOOLTIP_STATUS_SHOWN:"SHOWN",TOOLTIP_STATUS_NOT_SHOWN:"NOT_SHOWN",TOOLTIP_STATUS_DISABLED:"DISABLED",FOLLOW_AJAX_TIMEOUT:2E3,FOLLOW_AJAX_RETRIES:2,FOLLOW_ENDPOINT:"/followv2/follow",FOLLOW_ENTITY_TYPE:"brand",FOLLOW_REF_TAG:"bsn_as_follow",FOLLOW_CSM_PREFIX:"BrandFollow",FOLLOW_CSM_SUCCESS:"Success",FOLLOW_CSM_FAIL:"Fail",FOLLOW_CSM_FOLLOW:"Follow",
FOLLOW_CSM_UNFOLLOW:"Unfollow",FOLLOW_CSM_GET_FOLLOW_STATUS:"GetFollowStatus",HTTP_GET:"GET",HTTP_POST:"POST",HTTP_DELETE:"DELETE",SIGN_IN_PORTAL:"/ap/signin",AUTH_PORTAL_ASSOC_HANDLE:{"amazon.com":"usflex","amazon.co.uk":"gbflex","amazon.de":"deflex","amazon.fr":"frflex","amazon.es":"esflex","amazon.in":"inflex","amazon.it":"itflex","amazon.co.jp":"jpflex","amazon.ca":"caflex"},BREAKPOINTS:{MOBILE:840},SUSHI_ENDPOINT:{gamma:"https://unagi-na.amazon.com/1/events/com.amazon.eel.BrandFollowButtonMetrics.Gamma.ClientEvents",
prod:"https://unagi-na.amazon.com/1/events/com.amazon.eel.BrandFollowButtonMetrics.Prod.ClientEvents"},EVENT_TYPE:{FOLLOW:"Follow",UNFOLLOW:"Unfollow"}}});"use strict";n.when("A","brand-follow-constants").register("brand-follow-auth-portal-link-builder",function(g,b){return{signin:function(){var a={"openid.ns":"http://specs.openid.net/auth/2.0","openid.claimed_id":"http://specs.openid.net/auth/2.0/identifier_select","openid.identity":"http://specs.openid.net/auth/2.0/identifier_select","openid.mode":"checkid_setup",
"openid.return_to":m.location.href,"openid.assoc_handle":b.AUTH_PORTAL_ASSOC_HANDLE[m.location.hostname.replace(/.+?(?=amazon)/,"")]};return b.SIGN_IN_PORTAL+"?"+g.$.param(a)}}});"use strict";n.register("brand-follow-csm-helper",function(){return{incrementCSMCounter:function(g,b){m.ue&&m.ue.count&&m.ue.count(g,(m.ue.count(g)||0)+1,b)},logBodyBegin:function(g){"function"==typeof uet&&uet("bb",g,{wb:1})},sendCsmMetrics:function(g){"function"==typeof uex&&uex("ld",g,{wb:1})}}});"use strict";n.when("A",
"brand-follow-constants","brand-follow-csm-helper").register("brand-follow-data-storage-helper",function(g,b,a){var e={set:function(a,b,e){var h={};h[b]=e;g.state(a,h)},get:function(a){return g.state(a)},setFollowStatus:function(a,l){e.set(b.BRAND_FOLLOW_STATUS_MAP,a,l)},getFollowStatus:function(a){var l=e.get(b.BRAND_FOLLOW_STATUS_MAP);return l===p?p:l[a]},setLastClickEvent:function(a,l){e.set(b.BRAND_FOLLOW_LAST_CLICK_EVENT_MAP,a,l)},getLastClickEvent:function(f){var l=b.FOLLOW_CSM_PREFIX+":dataStorageHelper:getLastClickAction";
a.incrementCSMCounter(l);var k=e.get(b.BRAND_FOLLOW_LAST_CLICK_EVENT_MAP);if(k===p)return a.incrementCSMCounter(l+":emptyMap"),p;(f=k[f])||a.incrementCSMCounter(l+":notFoundInMap");return f},setCsrf:function(a){e.set(b.BRAND_FOLLOW_CSRF_KEY,b.BRAND_FOLLOW_CSRF_DATA_KEY,a)},getCsrf:function(){var a=e.get(b.BRAND_FOLLOW_CSRF_KEY);return a===p?p:a[b.BRAND_FOLLOW_CSRF_DATA_KEY]}};return e});"use strict";n.when("A","brand-follow-constants","brand-follow-data-storage-helper","brand-follow-csm-helper").register("brand-follow-afs-helper",
function(g,b,a,e){var f={makeCallToAfs:function(a,k,h,d,c,t){var f=b.FOLLOW_CSM_PREFIX+":"+a;e.incrementCSMCounter(f);(function z(u){e.logBodyBegin(t);g.$.ajax({url:k,type:a,headers:{Accept:"application/json","Content-Type":"application/json"},data:h,dataType:"json",cache:!1,timeout:b.FOLLOW_AJAX_TIMEOUT,success:function(a,c,l){e.incrementCSMCounter(f+":"+b.FOLLOW_CSM_SUCCESS);e.sendCsmMetrics(t);"function"===typeof d&&d(a,c,l)},error:function(d,k,h){if("timeout"===k&&u)e.incrementCSMCounter(f+":timeout"),
z(--u);else{var g=f+":"+b.FOLLOW_CSM_FAIL;e.incrementCSMCounter(g);"timeout"===k&&e.incrementCSMCounter(g+":timeout");e.sendCsmMetrics(t);m.ueLogError&&m.ueLogError({logLevel:"WARN",attribution:"BrandFollowKataComponentAssets",message:"AFS "+a+" call failed with status "+k+", error thrown: "+h+", response text: "+d.responseText});"function"===typeof c&&c(d,k,h)}}})})(b.FOLLOW_AJAX_RETRIES)},getFollowStatusAndInitCsrf:function(e,k,h,d,c){f.makeCallToAfs(b.HTTP_GET,b.FOLLOW_ENDPOINT+"/"+e+"_"+b.FOLLOW_ENTITY_TYPE,
{ref:k},function(d,b,e){d.signedIn?(a.setCsrf(d.csrf),"function"===typeof h&&h(d)):"function"===typeof c&&c()},d,b.FOLLOW_CSM_PREFIX+":"+b.FOLLOW_CSM_GET_FOLLOW_STATUS)},follow:function(e,k,h,d,c){var t=b.FOLLOW_CSM_PREFIX+":"+b.FOLLOW_CSM_FOLLOW,g=function(){f.makeCallToAfs(b.HTTP_POST,b.FOLLOW_ENDPOINT,JSON.stringify({authenticity_token:a.getCsrf(),entity_id:e,category:b.FOLLOW_ENTITY_TYPE,ref:k}),h,d,t)};a.getCsrf()===p?f.getFollowStatusAndInitCsrf(e,k,g,p,c):g()},unfollow:function(e,k,h,d){var c=
b.FOLLOW_CSM_PREFIX+":"+b.FOLLOW_CSM_UNFOLLOW,t=function(){f.makeCallToAfs(b.HTTP_DELETE,b.FOLLOW_ENDPOINT+"/"+e+"_"+b.FOLLOW_ENTITY_TYPE+"?"+g.$.param({authenticity_token:a.getCsrf(),ref:k}),p,h,d,c)};a.getCsrf()===p?f.getFollowStatusAndInitCsrf(e,k,t):t()}};return f});"use strict";n.when("A").register("brand-follow-button-tooltip-factory",function(g){g=g.$;var b=g("\x3cdiv class\x3d'brand-follow-tooltip-root'/\x3e").appendTo("body");return{getOrCreateTooltip:function(){0===b.children().length&&
b.append("\x3cdiv role\x3d'tooltip' class\x3d'bf-tooltip' id\x3d'bf-tooltip' aria-hidden\x3d'true' style\x3d'z-index: 299; visibility: hidden; opacity: 0;'\x3e\x3cdiv class\x3d'bf-tooltip-inner'\x3eFollow to get deals, content, and email updates from this brand.\x3c/div\x3e\x3cdiv class\x3d'bf-arrow-border'\x3e\x3cdiv class\x3d'bf-arrow'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");return b.children().first()}}});"use strict";n.when("A").register("brand-follow-button-tooltip-position",function(g){function b(){if(1===
g.viewport().zoom)return{top:0,left:0};h||(h=k('\x3cspan id\x3d"bf-tooltip-offset-tracker"\x3e\x3c/span\x3e'),k("body").prepend(h));var a;k.withoutRtl(function(){a=h.offset()});return a}function a(a,c){var e=g.viewport(),l=b(),f,h;k.withoutRtl(function(){f=c.offset();h=a.offset()});f.top-=l.top;f.left-=l.left;h.top-=l.top;h.left-=l.left;var m=c.outerWidth(),r=c.outerHeight(),n=a.outerWidth(!0),p=a.outerHeight(!0);return{windowWidth:e.width,windowHeight:e.height,windowTop:e.scrollTop,windowLeft:e.scrollLeft,
windowRight:e.scrollLeft+e.width,windowBottom:e.scrollTop+e.height,zoomTop:l.top,zoomLeft:l.left,triggerWidth:m+1,triggerHeight:r,triggerTop:f.top-1,triggerLeft:f.left-1,triggerRight:f.left+m+1,triggerBottom:f.top+r+1,triggerVerticalCenter:f.top+r/2,triggerHorizontalCenter:f.left+m/2,popoverWidth:n,popoverHeight:p,popoverTop:h.top,popoverLeft:h.left,popoverRight:h.left+n,popoverBottom:h.top+p,popoverVerticalCenter:h.top+p/2,popoverHorizontalCenter:h.left+n/2}}function e(a){return a.removeClass("a-arrow-top a-arrow-bottom a-arrow-left a-arrow-right")}
function f(a){var c={deltaTop:0},e;c.top=a.triggerVerticalCenter-a.popoverHeight/2;c.top<a.windowTop+15?(e=Math.min(a.windowTop+15,a.triggerTop-15),c.deltaTop=c.top-e,c.top=e):c.top+a.popoverHeight>a.windowBottom-15&&(e=Math.min(15,a.windowBottom-a.triggerBottom+15),c.deltaTop=c.top+a.popoverHeight-(a.windowBottom-e),c.top=a.windowBottom-e-a.popoverHeight);return c}function l(a){var c={deltaLeft:0},e;c.left=a.triggerHorizontalCenter-a.popoverWidth/2;15>c.left?(e=Math.min(15,a.triggerLeft-15),c.deltaLeft=
c.left-e,c.left=e):c.left+a.popoverWidth>a.windowRight-15&&(e=Math.min(15,a.windowRight-a.triggerRight+15),c.deltaLeft=c.left+a.popoverWidth-(a.windowRight-e),c.left=a.windowRight-e-a.popoverWidth);return c}var k=g.$;k(m);var h=null;return{windowCenter:function(d){d=a(d.$popover,d.$trigger);var c={};c.top=(d.windowHeight-d.popoverHeight)/2;c.left=(d.windowWidth-d.popoverWidth)/2;0>c.top&&(c.top=0);return c},windowTop:function(d){d=a(d.$popover,d.$trigger);var c={top:0};c.left=d.windowWidth/2-d.popoverWidth/
2;return c},windowFullWidth:function(a){return{top:0,left:0}},triggerRight:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d=f(c);d.left=c.triggerRight;e(b).addClass("a-arrow-right");b.find(".bf-arrow-border").css("top",c.popoverHeight/2+d.deltaTop);return d},triggerLeft:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d=f(c);d.left=c.triggerLeft-c.popoverWidth;d.left=0<d.left?d.left:0;e(b).addClass("a-arrow-left");b.find(".bf-arrow-border").css("top",c.popoverHeight/2+d.deltaTop);
return d},triggerTop:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d=l(c);d.top=c.triggerTop-c.popoverHeight;e(b).addClass("a-arrow-top");b.find(".bf-arrow-border").css("left",c.popoverWidth/2+d.deltaLeft);return d},triggerBottom:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d=l(c);d.top=c.triggerBottom;e(b).addClass("a-arrow-bottom");b.find(".bf-arrow-border").css("left",c.popoverWidth/2+d.deltaLeft);return d},triggerHorizontal:function(d,c){var e=d.$popover,b=d.$trigger;
c||(c=a(e,b));return c.triggerLeft-c.windowLeft>c.windowRight-c.triggerRight?this.triggerLeft(d,c):this.triggerRight(d,c)},triggerVertical:function(d,c){var e=d.$popover,b=d.$trigger;c=c?c:a(e,b);return c.triggerTop-c.windowTop>c.popoverHeight+15?this.triggerTop(d,c):this.triggerBottom(d,c)},triggerVerticalAlignLeft:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d={};var l=0,f=0,h=c.windowBottom-c.triggerBottom;d.left=c.triggerLeft;d.top=h>c.popoverHeight?c.triggerBottom+3:c.triggerTop-
c.popoverHeight-3;15>d.left?(f=Math.min(15,c.triggerLeft-15),l=d.left-f,d.left=f):d.left+c.popoverWidth>c.windowRight-15&&(f=Math.min(15,c.windowRight-c.triggerRight+15),l=d.left+c.popoverWidth-(c.windowRight-f),d.left=c.windowRight-f-c.popoverWidth);e(b).addClass(h>c.popoverHeight?"a-arrow-bottom":"a-arrow-top");k.withoutRtl(function(){b.find(".bf-arrow-border").css("left",c.triggerWidth/2+l)});return d},triggerBottomAlignRight:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d={};var l=
0,f=0,h=c.windowBottom-c.triggerBottom;d.left=c.triggerRight-c.popoverWidth;d.top=c.triggerBottom+3;15>d.left?(f=Math.max(0,d.left),l=f-d.left,d.left=f):d.left+c.popoverWidth>c.windowRight-15&&(f=Math.min(15,c.windowRight-c.triggerRight+15),l=d.left+c.popoverWidth-(c.windowRight-f),d.left=c.windowRight-f-c.popoverWidth);e(b).addClass(h>c.popoverHeight?"a-arrow-bottom":"a-arrow-top");k.withoutRtl(function(){b.find(".bf-arrow-border").css("right",c.triggerWidth/2+l)});return d},customPosition:function(d,
c){return c.call(this,{popover:d,$popover:d.$popover,$trigger:d.$trigger,measure:a})}}});"use strict";n.when("A","brand-follow-button-tooltip-factory","brand-follow-button-tooltip-position","brand-follow-constants").register("brand-follow-button-tooltip",function(g,b,a,e){var f=g.$;return{show:function(l){var k=b.getOrCreateTooltip(),h=f(l);l=h.data(e.TOOLTIP_TEXT_DATA_KEY);h=a.triggerBottomAlignRight({$popover:k,$trigger:h});l&&k.find(".bf-tooltip-inner").first().text(l);k.css({top:h.top+"px",left:h.left+
6+"px",visibility:"visible",opacity:1,transition:"opacity 0.5s"})},hide:function(){b.getOrCreateTooltip().css({visibility:"hidden",opacity:0,transition:"visibility 0s 0.5s, opacity 0.5s linear"})},getText:function(){return b.getOrCreateTooltip().find(".bf-tooltip-inner").first().text()}}});"use strict";n.register("brand-follow-sushi-client",function(){var g=["messageId","timestamp"];return function(){function b(a,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.endpoint=e;this.window=a;this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.eventSequence=this.lowPriorityTimer=this.highPriorityTimer=this.rejectedEvents=this.dictionaryIndex=this.batchSize=0;this.unloadHandlerCalled=!1;this.highPriorityFlushInterval=1E3;this.lowPriorityFlushInterval=1E4;this.transportationClient=function(b){var e=function(){};b=function(){var b=function(){if(a.XDomainRequest){var d=new a.XDomainRequest;d.onerror=e;d.ontimeout=e;d.onprogress=e;
d.onload=e;d.timeout=0;return d}if(a.XMLHttpRequest){d=new a.XMLHttpRequest;if(!("withCredentials"in d))throw"";return d}return null};return{send:function(a,c){if(c&&a){var e=b();if(!e)throw"";e.open("POST",a,!0);e.setRequestHeader&&e.setRequestHeader("Content-type","text/plain");e.send(c)}},isSupported:!0}}();var k=function(){return{send:function(e,d){if(e&&d&&!a.navigator.sendBeacon(e,d))throw"";},isSupported:!!a.navigator.sendBeacon&&!(a.cordova&&a.cordova.platformId&&"ios"===a.cordova.platformId)}}();
return{ajaxClient:b,beaconClient:k}}(this);this.compressor=function(a){var e=function(d){if(d)switch("undefined"===typeof d?"undefined":q(d)){case "number":return!(d!==d||Infinity===d)&&d.toString().length>a.dictionaryIndex.length;case "boolean":break;case "string":return d.length>a.dictionaryIndex.length;default:return!0}return!1},b=function(d){a.eventsDictionary[d]||(a.eventsDictionary[d]=a.dictionaryIndex++,a.reverseEventsDictionary[a.eventsDictionary[d]]=d);return a.eventsDictionary[d]},h=function(a){if(e(a)){var c=
0;a instanceof Array?c=2:a instanceof Function?c=null:a instanceof Object&&(c=1);switch(c){case 0:return b(a);case 2:for(var f=[],c=0;c<a.length;c++)f[c]=h(a[c]);return f;case 1:c={};for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&(c[b(f)]=-1===g.indexOf(f)?h(a[f]):a[f]);return c}}return a};return{compressData:h,buildPOSTObject:function(){return a.stringify({cs:{dct:a.reverseEventsDictionary},events:a.eventsQueue})}}}(this)}y(b,[{key:"onBeforeUnload",value:function(){!0!==this.unloadHandlerCalled&&
(this.flush(this),this.unloadHandlerCalled=!0)}},{key:"stringify",value:function(a){try{return JSON.stringify(a)}catch(e){console.warn("Fail to stringify data")}return null}},{key:"resetBatch",value:function(){this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.highPriorityTimer=this.lowPriorityTimer=this.batchSize=this.dictionaryIndex=0}},{key:"sendWithClient",value:function(a){if(null==this.endpoint||""==this.endpoint)this.ueCount("SushiClientEndpointMissing");else{if(a.isSupported){var e=
this.compressor.buildPOSTObject();return a.send(this.endpoint,e)}throw"";}}},{key:"sendWithPriority",value:function(){for(var a=arguments.length,e=Array(a),b=0;b<a;b++)e[b]=arguments[b];for(a=0;a<e.length;a++){b=e[a];try{return this.sendWithClient(b)}catch(l){}}return null}},{key:"flush",value:function(a){a.eventsQueue.length&&(a.sendWithPriority(a.transportationClient.beaconClient||{},a.transportationClient.ajaxClient||{}),a.resetBatch())}},{key:"startHighPriorityQueueTimer",value:function(){0===
this.highPriorityFlushInterval?this.flush(this):this.highPriorityTimer||(this.highPriorityTimer=this.window.setTimeout(this.flush,this.highPriorityFlushInterval,this))}},{key:"startLowPriorityQueueTimer",value:function(){this.lowPriorityTimer||(this.lowPriorityTimer=this.window.setTimeout(this.flush,this.lowPriorityFlushInterval,this))}},{key:"generateMessageId",value:function(a,b){return a+"-"+b+"-"+this.eventSequence}},{key:"getCurrentISODate",value:function(){var a=new Date,b=function(a){return 10>
a?"0"+a:a};return Date.prototype.toISOString?a.toISOString():a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}},{key:"decorateEvent",value:function(a){a.timestamp=this.getCurrentISODate();a.sequence=this.eventSequence;a.messageId=this.generateMessageId(a.request_id,Date.now?Date.now():(new Date).getTime())}},{key:"startTimers",value:function(a){(a||
{}).n?this.startHighPriorityQueueTimer():this.startLowPriorityQueueTimer()}},{key:"encodeEvent",value:function(a,b,f){b=b.length;(499===this.eventsQueue.length||524288<this.batchSize+b)&&this.flush(this);this.batchSize+=b;a={data:this.compressor.compressData(a)};this.eventsQueue.push(a);this.startTimers(f)}},{key:"addEvent",value:function(a,b){this.decorateEvent(a,b);var f=this.stringify(a);return f?(this.encodeEvent(a,f,b),!0):!1}},{key:"isValidAPIParam",value:function(a,b){return a&&-1<a.constructor.toString().indexOf(b)}},
{key:"isMaxCallsReached",value:function(){this.eventSequence++;5E4<this.eventSequence&&this.ueCount("SushiClientMaxCallsReached");return 5E4<this.eventSequence}},{key:"isValidAPICall",value:function(a,b){return!this.isMaxCallsReached()&&this.isValidAPIParam(a,"Object")}},{key:"ueCount",value:function(a,b){"undefined"!==typeof ue&&ue&&ue.count&&ue.count("BrandFollowMetrics:"+a,0===b?0:b||(ue.count("BrandFollowMetrics:"+a)||0)+1)}},{key:"processEvent",value:function(a,b){var f=this.unloadHandlerCalled=
!1;this.options=b||{};this.isValidAPICall(a,this.options)&&(f=this.addEvent(a,this.options));f?this.ueCount("ClientEventsSuccess:"+a.event_type):(console.error("Invalid JS SushiEel API call"),this.ueCount("ClientEventsFailed:"+a.event_type));return f}}]);return b}()});"use strict";n.when("A","brand-follow-sushi-client","brand-follow-constants").register("brand-follow-metrics-client",function(g,b,a){var e=g.$;g=document.domain;g=0===g.indexOf("www.amazon")||0===g.indexOf("smile.amazon");var f=new b(m,
a.SUSHI_ENDPOINT[g?"prod":"gamma"]);return{getAttributeMapFromElement:function(b){var f=e(b).data(a.BFID_DATA_KEY),h=e(b).data(a.REQUEST_ID_DATA_KEY),d=e(b).data(a.PLACEMENT_TYPE_DATA_KEY),c=e(b).data(a.PLACEMENT_SUB_TYPE_DATA_KEY),g=e(b).data(a.PLACEMENT_ID_DATA_KEY),m=e(b).data(a.COMPONENT_TYPE_DATA_KEY),n=e(b).data(a.COMPONENT_ID_DATA_KEY),p=e(b).data(a.ELEMENT_TYPE_DATA_KEY);b=e(b).data(a.ELEMENT_ID_DATA_KEY);return{bfid:f,request_id:h,placement_type:d,placement_sub_type:c,placement_id:g,component_type:m,
component_id:n,element_type:p,element_id:b}},buildFollowButtonClickMetricEvent:function(a,b,e){a=this.getAttributeMapFromElement(a);return{bfid:a.bfid,request_id:a.request_id,placement_type:a.placement_type,placement_sub_type:a.placement_sub_type,placement_id:a.placement_id,component_type:a.component_type,component_id:a.component_id,element_type:a.element_type,element_id:a.element_id,event_type:b,tooltip_status:m.brandFollowTooltipStatus,timestamp:Date.now(),event_source:m.location.href,schema_version:1}},
processMetricEvent:function(a,b){f.processEvent(a,b)}}});"use strict";n.when("A","brand-follow-constants","brand-follow-button-tooltip","brand-follow-data-storage-helper","brand-follow-csm-helper").execute("brand-follow-tooltip-helper",function(g,b,a,e,f){var l=g.$,k;try{localStorage.setItem("brand_follow_localStorage_testing_key","brand_follow_localStorage_testing_key"),localStorage.removeItem("brand_follow_localStorage_testing_key"),k=!0}catch(u){k=!1}g.on("brandFollow:followButton:loaded",function(){var e=
b.FOLLOW_CSM_PREFIX+":tooltip";if(k){var r=localStorage.getItem(b.TOOLTIP_LAST_SEEN_KEY),A=localStorage.getItem(b.TOOLTIP_SEEN_COUNTER),w;if(w=h()){var x;try{x=a.getText()!==localStorage.getItem(b.TOOLTIP_LATEST_TEXT_KEY)}catch(B){x=!1}w=!x}if(w||!h()&&r&&!c(r,A)){m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_NOT_SHOWN;return}}r=l(b.Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR);if(r.length)if(g.capabilities.mobile||g.capabilities.tablet||screen.width<=b.BREAKPOINTS.MOBILE){var v=r.get(0),r=l(v).data(b.BFID_DATA_KEY);
!r||d(r)?m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_NOT_SHOWN:(a.show(v),t(),k&&localStorage.setItem(b.TOOLTIP_LATEST_TEXT_KEY,a.getText()),m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_SHOWN,"true"!==m.tooltipSeenOnPage&&(q(),m.tooltipSeenOnPage="true",f.incrementCSMCounter(e+":mobile")),n(v)?p():l(m).scroll(g.throttle(function(){n(v)&&p()},200)))}else l(b.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).undelegate(b.Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR,"mouseenter mouseleave"),l(b.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).delegate(b.Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR,
"mouseenter mouseleave",function(c){if("mouseenter"===c.type){var h=l(c.target).data(b.BFID_DATA_KEY);!h||d(h)?m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_NOT_SHOWN:(a.show(c.target),t(),k&&localStorage.setItem(b.TOOLTIP_LATEST_TEXT_KEY,a.getText()),m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_SHOWN,"true"!==m.tooltipSeenOnPage&&(q(),m.tooltipSeenOnPage="true",f.incrementCSMCounter(e+":desktop")))}else"mouseleave"===c.type&&a.hide()});else m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_DISABLED});var h=
function(){try{return"true"===localStorage.getItem(b.FOLLOWED_BRAND_TOOLTIP_SIGNAL)}catch(a){return!1}},d=function(a){try{return b.BRAND_FOLLOW_STATUS.FOLLOWING===e.getFollowStatus(a)}catch(c){return!1}},c=function(a,b){try{return Date.now()-parseInt(a)>6048E5*Math.pow(2,parseInt(b))}catch(c){return!1}},t=function(){k&&localStorage.setItem(b.TOOLTIP_LAST_SEEN_KEY,Date.now().toString())},n=function(a){a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom<=(m.innerHeight||document.documentElement.clientHeight)&&
a.right<=(m.innerWidth||document.documentElement.clientWidth)},p=function(){setTimeout(function(){a.hide()},b.TOOLTIP_DISPLAY_TIME)},q=function(){if(k){var a=localStorage.getItem(b.TOOLTIP_SEEN_COUNTER);a?(a=parseInt(a)+1,localStorage.setItem(b.TOOLTIP_SEEN_COUNTER,a.toString())):localStorage.setItem(b.TOOLTIP_SEEN_COUNTER,(1).toString())}}});"use strict";n.when("A","brand-follow-data-storage-helper","brand-follow-constants","brand-follow-csm-helper").register("brand-follow-shared-utils",function(g,
b,a,e){var f=g.$;m.BrandFollowSharedUtils={getLastClickAction:function(g){var k=a.FOLLOW_CSM_PREFIX+":sharedUtils:getLastClickAction";e.incrementCSMCounter(k);var h;h=a.FOLLOW_CSM_PREFIX+":sharedUtils:getBFID";e.incrementCSMCounter(h);g?"string"===typeof g?h=g:g instanceof Element&&1===g.nodeType?((g=f(g).find(a.Brand_FOLLOW_BUTTON_SELECTOR).andSelf().filter(a.Brand_FOLLOW_BUTTON_SELECTOR).first().data(a.BFID_DATA_KEY))||e.incrementCSMCounter(h+":notFound"),h=g):(e.incrementCSMCounter(h+":unknownInput"),
h=void 0):h=void 0;h||e.incrementCSMCounter(k+":emptyBFID");(h=b.getLastClickEvent(h))||e.incrementCSMCounter(k+":emptyResponse");return h},isFollowing:function(e){return b.getFollowStatus(e)===a.BRAND_FOLLOW_STATUS.FOLLOWING}}});"use strict";n.when("A","brand-follow-data-storage-helper","brand-follow-constants").register("on-brand-follow-status-change",function(g,b,a){var e=g.$;g.state.bind("brand-follow-status",function(f,g){for(var k in g)g.hasOwnProperty(k)&&g[k]&&(b.getFollowStatus(k)===a.BRAND_FOLLOW_STATUS.FOLLOWING?
e("[data-bfid\x3d'"+k+"']").each(function(){e(this).text(e(this).data(a.FOLLOWING_TEXT_DATA_KEY));e(this).attr(a.ARIA_LABEL_KEY,e(this).data(a.ARIA_LABEL_FOLLOWING_DATA_KEY))}):e("[data-bfid\x3d'"+k+"']").each(function(){e(this).text(e(this).data(a.FOLLOW_TEXT_DATA_KEY));e(this).attr(a.ARIA_LABEL_KEY,e(this).data(a.ARIA_LABEL_FOLLOW_DATA_KEY))}))})});"use strict";n.when("A").register("brand-follow-button-event-helper",function(g){return{triggerFollowButtonLoadedEvent:function(){g.trigger("brandFollow:followButton:loaded")},
triggerFollowButtonRedirectionEvent:function(b){g.trigger("brandFollow:followButton:redirectToAuthPortal",b)}}});"use strict";n.when("A","brand-follow-data-storage-helper","brand-follow-constants","brand-follow-afs-helper","brand-follow-auth-portal-link-builder","brand-follow-button-event-helper","brand-follow-metrics-client","brand-follow-csm-helper").register("brand-follow-button-click-handler",function(g,b,a,e,f,l,k,h){var d=g.$;g.on("brandFollow:followButton:loaded",function(){d(a.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).undelegate(a.Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR,
"click");d(a.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).delegate(a.Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR,"click",function(c){var g=a.FOLLOW_CSM_PREFIX+":clickHandler";h.incrementCSMCounter(g);var n=d(this).find(a.Brand_FOLLOW_BUTTON_SELECTOR).first(),p=n.data(a.BFID_DATA_KEY),q=n.data(a.REF_DATA_KEY)||a.FOLLOW_REF_TAG;if(p){var u=b.getFollowStatus(p);u||(u=n.data(a.FOLLOW_STATUS_DATA_KEY)?a.BRAND_FOLLOW_STATUS.FOLLOWING:a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);switch(u){case a.BRAND_FOLLOW_STATUS.FOLLOWING:h.incrementCSMCounter(g+
":status:following");b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.PENDING);b.setLastClickEvent(p,a.EVENT_TYPE.UNFOLLOW);e.unfollow(p,q,function(){b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);var d=k.buildFollowButtonClickMetricEvent(n,a.EVENT_TYPE.UNFOLLOW,c);k.processMetricEvent(d,{n:1})},function(){b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.FOLLOWING)});break;case a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING:h.incrementCSMCounter(g+":status:not_following");b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.PENDING);
b.setLastClickEvent(p,a.EVENT_TYPE.FOLLOW);e.follow(p,q,function(){b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.FOLLOWING);var d=k.buildFollowButtonClickMetricEvent(n,a.EVENT_TYPE.FOLLOW,c);k.processMetricEvent(d,{n:1});try{localStorage.setItem(a.FOLLOWED_BRAND_TOOLTIP_SIGNAL,"true")}catch(e){}},function(){b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING)},function(){l.triggerFollowButtonRedirectionEvent(c);var a=f.signin();m.location.assign(a)});break;case a.BRAND_FOLLOW_STATUS.NOT_SIGNED_IN:h.incrementCSMCounter(g+
":status:not_signed_in");l.triggerFollowButtonRedirectionEvent(c);g=f.signin();m.location.assign(g);break;case a.BRAND_FOLLOW_STATUS.ERROR:h.incrementCSMCounter(g+":status:error");l.triggerFollowButtonLoadedEvent();break;case a.BRAND_FOLLOW_STATUS.PENDING:return h.incrementCSMCounter(g+":status:pending"),!1;default:h.incrementCSMCounter(g+":status:unknown")}}else h.incrementCSMCounter(g+":emptyBFID")})})});"use strict";n.when("A","brand-follow-data-storage-helper","brand-follow-constants","brand-follow-afs-helper",
"brand-follow-button-event-helper","brand-follow-csm-helper","on-brand-follow-status-change","ready").register("brand-follow-button-initializer",function(g,b,a,e,f,l){g.on("brandFollow:followButton:loaded",function(){g.$(a.Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR+" "+a.Brand_FOLLOW_BUTTON_SELECTOR).each(function(){var f=g.$(this),h=f.data(a.BFID_DATA_KEY),d=f.data(a.REF_DATA_KEY)||a.FOLLOW_REF_TAG;if(h!==p){var c=b.getFollowStatus(h);if(c===p||c===a.BRAND_FOLLOW_STATUS.ERROR){c=f.data(a.FOLLOW_STATUS_DATA_KEY);
if(f.data(a.BACK_BUTTON_SUPPORT_ENABLED_DATA_KEY)){var n=m.performance||m.webkitPerformance,n=n&&n.navigation&&2==n.navigation.type;!/bot|crawl|spider/i.test(m.navigator&&m.navigator.userAgent)&&n&&(c="")}if(c!==p&&""!==c)b.setFollowStatus(h,c?a.BRAND_FOLLOW_STATUS.FOLLOWING:a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);else{b.setFollowStatus(h,a.BRAND_FOLLOW_STATUS.PENDING);var q=a.FOLLOW_CSM_PREFIX+":FetchFollowStatus";l.incrementCSMCounter(""+q);e.getFollowStatusAndInitCsrf(h,d,function(c){b.setFollowStatus(h,
c.isFollowing?a.BRAND_FOLLOW_STATUS.FOLLOWING:a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);l.incrementCSMCounter(q+":success");f.data(a.FOLLOW_STATUS_DATA_KEY)!==c.isFollowing&&l.incrementCSMCounter(q+":FoundDiff")},function(){l.incrementCSMCounter(q+":error");b.setFollowStatus(h,a.BRAND_FOLLOW_STATUS.ERROR)},function(){l.incrementCSMCounter(q+":notSignedIn");b.setFollowStatus(h,a.BRAND_FOLLOW_STATUS.NOT_SIGNED_IN)})}}else c===a.BRAND_FOLLOW_STATUS.FOLLOWING?(f.text(f.data(a.FOLLOWING_TEXT_DATA_KEY)),f.attr(a.ARIA_LABEL_KEY,
f.data(a.ARIA_LABEL_FOLLOWING_DATA_KEY))):(f.text(f.data(a.FOLLOW_TEXT_DATA_KEY)),f.attr(a.ARIA_LABEL_KEY,f.data(a.ARIA_LABEL_FOLLOW_DATA_KEY)))}})});f.triggerFollowButtonLoadedEvent()});"use strict";n.when("A","brand-follow-constants","brand-follow-button-event-helper","ready").execute("brand-follow-button-mutation-observer",function(g,b,a){var e=g.$;(function(){var f=m.MutationObserver||m.WebKitMutationObserver||m.MozMutationObserver;f!==p&&(new f(function(f,g){var h;g=!1;for(var d=0;d<f.length;d++){h=
f[d];if("childList"!==h.type)break;h=h.addedNodes;for(var c,m=0;m<h.length;m++)if(c=h[m],0!==e(c).find(b.Brand_FOLLOW_BUTTON_SELECTOR).length){g=!0;break}if(g){a.triggerFollowButtonLoadedEvent();break}}})).observe(document,{childList:!0,subtree:!0})})()})});
/* ******** */
(function(d){var c=window.AmazonUIPageJS||window.P,w=c._namespace||c.attributeErrors,a=w?w("HuddlesChatboxJS",""):c;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,c,w){d.when("A","huddles-core","ready").register("huddles-chatbox-interaction-2.0",function(a,b){function e(){if(n.width()&&n.offset()){var a=n.width();return a+n.offset().left-d.width()>.9*a?f.css("right",g):f.css("right",g+a)}a=parseInt(t.css("padding-right"),10);return f.css("right",g+a)}function u(){if(0!==
q.length&&null!==q.position()){var a=d.height(),b=Math.max(0,q.position().top+q.height()-d.scrollTop());300>a-b?m.height(0):m.height(Math.min(500,a-b)-v.outerHeight())}}function k(){u();e()}var d=a.$(c),t=a.$("body"),q=a.$("#navbar, #navWrapper, .header-contents-container").first(),n=a.$("#nav-flyout-ewc"),f=a.$(".huddles-chatbox"),m=a.$(".huddles-chatbox__content"),v=a.$(".huddles-chatbox__toolbar"),r=a.$(".huddles-chatbox__toolbar-minimize"),g=parseInt(f.css("right"),10);setInterval(e,3E3);d.resize(a.debounce(k,
100));d.scroll(a.debounce(u,100));return{minimizeChatbox:function(b){f.show();b?(m.hide(),r.addClass("huddles-chatbox__vertical-flip")):a.slideUp(m,200,"ease-out",function(){r.addClass("huddles-chatbox__vertical-flip")})},maximizeChatbox:function(){},restoreChatbox:function(b){m.show();k();b?(f.show(),r.removeClass("huddles-chatbox__vertical-flip")):a.slideDown(f,200,"ease-out",function(){r.removeClass("huddles-chatbox__vertical-flip")})},closeChatbox:function(){a.slideUp(f,200,"ease-out")}}});"use strict";
d.when("A","ready").register("huddles-chatbox-storage-2.0",function(a){function b(){try{return u&&"sessionStorage"in c&&null!==c.sessionStorage&&sessionStorage}catch(a){return!1}}var e="huddle-chatbox"+c.location.pathname,u=!1;return{enableSessionStorage:function(){u=!0},getChatboxState:function(){if(b())return JSON.parse(sessionStorage.getItem(e))||{};u&&d.log("sessionStorage not available","WARN");return{}},setChatboxState:function(a){b()&&sessionStorage.setItem(e,JSON.stringify(a))},DISPLAY_CODE:{MINIMIZED:"MINIMIZED",
MAXIMIZED:"MAXIMIZED",NORMAL:"NORMAL"}}});"use strict";d.when("A","ready").register("huddles-chatbox-metrics-2.0",function(a){return{logCounter:function(a,d){c.ue&&c.ue.count&&(a="HuddlesChatbox."+a,c.ue.count(a,(c.ue.count(a)||0)+(d||1)))}}});"use strict";d.register("huddles-chatbox-feature-config-2.0",function(){return{chatbox:!0}});"use strict";d.when("A","huddles-chatbox-feature-config-2.0","ready").register("huddles-init-2.0",function(a,b){function e(a){var b=c.ue.sn||c.ue_sn;return b&&b.substring(b.length-
a.length,b.length)===a}return{initialize:function(){if(!c.ue||"PackageProgressTracker"!==c.ue_pty||e("amazon.com"))c.HuddlesChatboxConfig?d.log("Chatbox config already registered","WARN"):b.chatbox&&(c.HuddlesChatboxConfig={},a.get("/conversations/chatbox-config",{params:{originalUrl:encodeURIComponent(c.location.href),pty:c.ue_pty},timeout:4E4,success:function(b){var e;if(b.chatboxSupported){if(a.objectIsEmpty(b.endpointConfig)||a.objectIsEmpty(b.startupArgs)){d.log("Invalid Huddles chatbox config",
"ERROR");c.HuddlesChatboxConfig=null;return}e={chatboxSupported:!0,chatboxEndpointConfig:b.endpointConfig,chatboxStartupArgs:a.$.extend({},b.startupArgs,{renderContext:{isRemote:!0}}),enableSessionStorage:b.enableSessionStorage}}else e={chatboxSupported:!1},d.log("Chatbox functionality suppressed","WARN");d.declare("huddles-chatbox-config-2.0",e);c.HuddlesChatboxConfig=e;b.chatboxContainer&&a.$(b.chatboxContainer).appendTo("body")},error:function(a,b,e){c.HuddlesChatboxConfig=null;d.log("Failed to get Huddles chatbox config. "+
b+": "+e,"ERROR")}}))}}});d.when("A","huddles-core","huddles-chatbox-interaction-2.0","huddles-chatbox-storage-2.0","huddles-chatbox-metrics-2.0","huddles-chatbox-config-2.0","ready").register("huddles-chatbox-2.0",function(a,b,e,c,k,x){function t(a){g[h||"INBOX"]=a;c.setChatboxState(g)}function q(l){var c=l.displayCode||p.NORMAL,d=a.$.extend({},m,l);l.showEmbedded&&l.container?(l.container instanceof a.$&&(l.container=l.container.get(0)),b.startHuddleApp(l.container,v,d),k.logCounter("Rendered.Embedded")):
(c===p.MINIMIZED?e.minimizeChatbox(!0):(l=document.querySelector(".huddles-chatbox__content"),b.startHuddleApp(l,v,d),c===p.MAXIMIZED?(e.restoreChatbox(!0),e.maximizeChatbox()):e.restoreChatbox()),g={},t(c),k.logCounter("Rendered."+c))}function n(a){h=null;q(a||{})}function f(a){if(!a||!a.huddleId)return d.log("Required render parameter huddleId missing for renderHuddleChat","FATAL"),!1;h=a.huddleId;q(a)}var m=x.chatboxStartupArgs,v=x.chatboxEndpointConfig,r=[];x.enableSessionStorage&&c.enableSessionStorage();
(function(){b.subscribeToHuddlesStore&&b.subscribeToHuddlesStore(function(a,b){function c(a,b){if(a&&a.messages&&a.messages.get(b)&&a.messages.get(b).displayMessages)return a.messages.get(b).displayMessages}function d(a,b){return b.filter(function(b){return a.filters.messageFilter?a.filters.messageFilter(b):a.filters.slotFilter(b.slot)})}var e;b&&b.huddle&&b.huddle.get(h)&&b.huddle.get(h).jid&&(e=b.huddle.get(h).jid);b=c(b,e);var g=c(a,e),f=[];b&&0<b.size&&g===w?f=b:b&&g&&b.size>g.size&&(f=b.filter(function(a){return!g.has(a.ID)}));
(f=f.filter(function(a){return a&&a.campfireMessage&&!a.campfireMessage.wasSentByUs}))&&0<f.size&&r.forEach(function(a){var b=Object.keys(a.filters||{}).length?d(a,f):f;0<b.size&&a.handler(b.size)})})})();var g=c.getChatboxState(),p=c.DISPLAY_CODE,h;a.objectIsEmpty(g)||a.each(g,function(a,b){"INBOX"===b?n({showEmbedded:!1,displayCode:a}):f({huddleId:b,showEmbedded:!1,displayCode:a})});return{renderInbox:n,renderHuddleChat:f,restoreChatbox:function(){if(!h||!g[h]||g[h]===p.MINIMIZED){var c={};h&&(c.huddleId=
h);var c=a.$.extend({},m,c),d=document.querySelector(".huddles-chatbox__content");b.startHuddleApp(d,v,c)}e.restoreChatbox();t(p.NORMAL);k.logCounter("Restored")},closeChatbox:function(d){d?(d instanceof a.$&&(d=d.get(0)),b.closeHuddleApp(d),k.logCounter("Closed.Embedded")):(e.closeChatbox(),d=document.querySelector(".huddles-chatbox__content"),b.closeHuddleApp(d),g={},c.setChatboxState(g),k.logCounter("Closed"))},minimizeChatbox:function(){e.minimizeChatbox();var a=document.querySelector(".huddles-chatbox__content");
b.closeHuddleApp(a);t(p.MINIMIZED);k.logCounter("Minimized")},maximizeChatbox:function(){e.maximizeChatbox();t(p.MINIMIZED);k.logCounter("Maximized")},subscribeToMessageReceived:function(a){r.push(a)},setPersonaName:b.setPersonaName,deprecated_watchPartyEvent:b.deprecated_watchPartyEvent}});"use strict";d.when("A","huddles-chatbox-2.0","ready").execute(function(a,b){a.declarative("minimizeChatbox","click",function(c){a.$(".huddles-chatbox__content").is(":visible")?b.minimizeChatbox():b.restoreChatbox()});
a.declarative("closeChatbox","click",function(a){b.closeChatbox()})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ProductUIAssets@acBadge",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(b){var k=window.AmazonUIPageJS||window.P,l=k._namespace||k.attributeErrors,e=l?l("ProductUIAssets@actions",""):k;e.guardFatal?e.guardFatal(b)(e,window):e.execute(function(){b(e,window)})})(function(b,k,l){"use strict";b.declare("puis-ajax-actions",{REQUEST_STARTING:"puis-ajax-actions:request-starting",REQUEST_IN_PROGRESS:"puis-ajax-actions:request-in-progress",REQUEST_COMPLETE:"puis-ajax-actions:request-complete",FACEOUT_COMPONENT_READY:"puis-ajax-actions:faceout-component-ready"});"use strict";
b.declare("s-asin-actions",{COUPON_APPLIED:"s-asin-actions:coupon-applied",UPDATE_CART:"s-asin-actions:update-cart",IN_CART_BADGE_SHOWN:"s-asin-actions:in-cart-badge-shown"});"use strict";b.when("rush-dispatcher","rush-util").register("s-status-badge-actions",function(e,b){function f(d,b){if(!d)throw Error(b);}var g=e.trigger,h;h={toggleBadges:function(d){f(b.isNotBlank(d),"asin must be a non-empty string");return"s-badge-actions:toggle-"+d}};return{listeners:h,triggers:{showAll:function(d){f(b.isNotBlank(d),
"asin must be a non-empty string");return g(h.toggleBadges(d),{show:!0,check:function(){return!0}})},hideAllExceptType:function(d,e){f(b.isNotBlank(d),"asin must be a non-empty string");f(b.isNotBlank(e),"exceptedType must be a non-empty string");return g(h.toggleBadges(d),{show:!1,check:function(b){return e!==b}})}}}});"use strict";b.when("jQuery","rush-dispatcher","rush-util").register("s-visibility-toggle-actions",function(e,k,f){function g(a,c){if(!a)throw Error(c);}function h(a,c){var b=n[a];
g(e.isFunction(b),"Listener must be valid function for contentType: "+a);return b(c)}function d(a,c,b){return a&&(a.updateAllAsins||a.products&&-1!==a.products.indexOf(c))?-1!==b.indexOf(a.type):null}function m(a){return a&&"PROGRESS_MESSAGE"===a.transitionState}var n,p,q=["add-product-success"],r=["add-product-success","add-product-begin"];n={LOW_STOCK_MESSAGE:function(a){g(f.isNotBlank(a),"componentId must be a non-empty string");return"s-visibility-toggle-actions:low-stock-message-"+a},QUANTITY_LIMIT_MESSAGE:function(a){g(f.isNotBlank(a),
"componentId must be a non-empty string");return"s-visibility-toggle-actions:quantity-limit-message-"+a},DC_ADD_TO_COMPARE_BUTTON:function(){return"s-visibility-toggle-actions:comparison-list-updated"},DC_ADD_TO_COMPARE_IN_PROGRESS:function(){return"s-visibility-toggle-actions:comparison-list-updated"},DC_IN_COMPARISON_CONTAINER:function(){return"s-visibility-toggle-actions:comparison-list-updated"},DC_BADGE:function(){return"s-visibility-toggle-actions:comparison-list-updated"}};p={LOW_STOCK_MESSAGE:function(a){if(a&&
a.quantity!==l&&a.maxOrderQuantity!==l)return a.quantity!==a.maxOrderQuantity},QUANTITY_LIMIT_MESSAGE:function(a){if(a&&a.quantity!==l&&a.maxOrderQuantity!==l)return a.quantity===a.maxOrderQuantity},DC_ADD_TO_COMPARE_BUTTON:function(a,c){c=c.prop("containerId");return d(a,c,["remove-product-success","remove-all-products-success","add-product-error"])},DC_ADD_TO_COMPARE_IN_PROGRESS:function(a,c){c=c.prop("containerId");return m(a)&&d(a,c,["add-product-begin"])},DC_IN_COMPARISON_CONTAINER:function(a,
c){var f=c.prop("containerId"),g=m(a)?q:r,h=m(a)?["add-product-success","remove-product-success"]:["add-product-success","remove-product-success","add-product-begin","add-product-error"];try{if(a&&-1!==h.indexOf(a.type)){var k=c.elem(),l=e(k).find('.a-declarative[data-action\x3d"dc-compare"]').find("span").last();if(!a||!a.compareButtonText)throw Error("Payload ["+JSON.stringify(a)+"] is invalid or missing updated view comparison button text.");l.text(a.compareButtonText)}}catch(n){b.logError(n,"Failed to update view comparison button text",
"ERROR","dc-update-view-comparison-button-text")}return d(a,f,g)},DC_BADGE:function(a,c){c=c.prop("containerId");var b=m(a)?q:r;return d(a,c,b)}};return{listener:h,shouldShowComponent:function(a,c,b){var d=p[a];g(e.isFunction(d),"Controller must be valid function for contentType: "+a);return d(c,b)},triggers:{toggleLowStockMessage:function(a,b){g(f.isNotBlank(a),"componentId must be a non-empty string");return k.trigger(h("LOW_STOCK_MESSAGE",a),b)},toggleQuantityLimitMessage:function(a,b){g(f.isNotBlank(a),
"componentId must be a non-empty string");return k.trigger(h("QUANTITY_LIMIT_MESSAGE",a),b)}}}})});
/* ******** */
(function(f){var l=window.AmazonUIPageJS||window.P,A=l._namespace||l.attributeErrors,a=A?A("ProductUIAssets@addToCart",""):l;a.guardFatal?a.guardFatal(f)(a,window):a.execute(function(){f(a,window)})})(function(f,l,A){"use strict";f.declare("s-cart-actions",{ADD_TO_CART_ITEM_SUBMIT_SUCCESS:"search:add_to_cart:submit-success",ADD_TO_CART_ITEM_SUBMIT_ERROR:"search:add_to_cart:submit-error",ADD_TO_CART_ITEM_REQUEST_ERROR:"search:add_to_cart:request-error",ADD_TO_CART_ITEM_REQUEST_TIMEOUT:"search:add_to_cart:request-timeout",
ADD_TO_CART_ITEM_REQUEST_COMPLETED:"search:add_to_cart:request-completed",REMOVE_FROM_CART_ITEM_SUBMIT_SUCCESS:"search:remove_from_cart:submit-success",REMOVE_FROM_CART_ITEM_SUBMIT_ERROR:"search:remove_from_cart:submit-error",REMOVE_FROM_CART_ITEM_REQUEST_ERROR:"search:remove_from_cart:request-error",REMOVE_FROM_CART_ITEM_REQUEST_TIMEOUT:"search:remove_from_cart:request-timeout",REMOVE_FROM_CART_ITEM_REQUEST_COMPLETED:"search:remove_from_cart:request-completed"});"use strict";f.when("A","puis-afx-atfc-v2-proxy",
"s-cart-actions","rush-dispatcher","s-cart-logger-utils","s-cart-container-metric-helper").register("s-fresh-cart-api",function(a,d,b,e,k,g){function m(b,h){a.get("/alm/addtofreshcart/cartcount",{timeout:8E3,success:function(h){b&&b({isOK:!0,total:h.cartCount})},error:function(a){k.logHttpCallError("Getting error calling cartCount","[AddToCart]-[s-fresh-cart-api]-cartCount",a);h&&h(a)}})}function f(a){return a.asin+a.offerListingID}function c(a){var h={};a=a||{};h.isOK=!0;h.addSuccessful=a.addSuccessful;
h.addSuccessful&&(h.items=a.clientResponseModel.items);return h}function t(a,h,b){var c=g.ACTIONS.ADD;a.isRequestProcessing=!1;a&&a.data&&!0===a.data.setQuantityFlag&&(c=g.ACTIONS.REMOVE);b&&400===b.status?h.isExpectedError=!0:b&&(0===b.status||b.http&&0===b.http.status)&&(h.isErrorMetricLogged=!0,g.registerMetric([g.getCart(h.cartType),c,g.EVENTS.UNREACHED],1))}function q(b,h,e){var g,w=a.copy(b.data);p[f(b.data)]=Date.now();d.addToFreshCart({data:b.data,success:function(a){var d;d=c(a);m(function(a){b.isRequestProcessing=
!1;d.cartCount=a.total;w.requestTime=Date.now()-p[f(b.data)];h&&h(w,d)},function(a){g=b.isRequestProcessing;t(b,w,a);d.cartCountResponse=a;d.cartCountResponse.isOk=!1;!0===g&&e&&e(w,d)})},error:function(a){g=b.isRequestProcessing;k.logHttpCallError("Getting error calling alm addItems","[AddToCart]-[s-fresh-cart-api]-addItems",a);t(b,w,a);b.isRequestProcessing=!1;a&&400===a.status&&(w.isExpectedError=!0);!0===g&&e&&e(w,a)}})}function r(a,h){!0===h.isRequestProcessing&&(h.isRequestProcessing=!1,e.trigger(b.ADD_TO_CART_ITEM_REQUEST_TIMEOUT,
a))}function l(a,h){!0===h.isRequestProcessing&&(h.isRequestProcessing=!1,e.trigger(b.REMOVE_FROM_CART_ITEM_REQUEST_TIMEOUT,a))}var p={};return{addItem:function(a,b,c){a.data&&(a.data.quantity=1);a.isRequestProcessing=!0;setTimeout(r,1E4,a.data,a);q(a,b,c)},removeItem:function(a,b,c){a.data&&(a.data.setQuantityFlag=!0);a.isRequestProcessing=!0;setTimeout(l,1E4,a.data,a);q(a,b,c)}}});"use strict";f.when("A","3p-promise","s-cart-actions","rush-dispatcher","s-cart-logger-utils","s-cart-container-metric-helper").register("s-retail-cart-api",
function(a,d,b,e,k,g){function m(a){a={items:[{asin:a.ASIN,offerListingId:a.offerListingID,quantity:1,additionalParameters:JSON.parse(a.additionalParameters||"{}")}]};return JSON.stringify(a)}function f(a,b){var c={};a.locale&&(c["Accept-Language"]=a.locale);!0===b?(c["Content-Type"]='application/vnd.com.amazon.api+json; type\x3d"cart.modify-items.request/v1"',c.Accept='application/vnd.com.amazon.api+json; type\x3d"cart.modify-items/v1"'):(c["Content-Type"]='application/vnd.com.amazon.api+json; type\x3d"cart.add-items.request/v1"',
c.Accept='application/vnd.com.amazon.api+json; type\x3d"cart.add-items/v1"');a.csrfToken&&(c["x-api-csrf-token"]=a.csrfToken);return c}function c(b,c,e){var g,k;!0===e?(k="PUT",g=JSON.stringify({items:[{id:c.id,quantity:0}]})):(k="POST",g=m(c));return new d(function(c,d){a.$.ajax(b.ajaxUrl,{type:k,data:g,dataType:"json",cache:!1,headers:f(b,e),timeout:8E3,xhrFields:{withCredentials:!0},success:function(a){c(a)},error:function(a){d(a)}})})}function t(a){var b=a&&a.entity,c={};if(!b)return a;c.status=
b.status?b.status:200;c.cartCount=b.count&&b.count.entity?b.count.entity.items:-1;c.items=b.items;return c}function l(a){var b={};try{b=JSON.parse(a.responseText)}catch(c){b={}}b=t(b);b.status=a.status;return b}function r(a,c){!0===c.isRequestProcessing&&(c.isRequestProcessing=!1,e.trigger(b.ADD_TO_CART_ITEM_REQUEST_TIMEOUT,a))}function A(a,c){!0===c.isRequestProcessing&&(c.isRequestProcessing=!1,e.trigger(b.REMOVE_FROM_CART_ITEM_REQUEST_TIMEOUT,a))}function p(a,b,c,d){d&&422===d.status?c.isExpectedError=
!0:d&&0===d.status&&(c.isErrorMetricLogged=!0,g.registerMetric([g.getCart(c.cartType),a,g.EVENTS.UNREACHED],1))}var v={};return{addItem:function(d,e,m){var f=d.$target.closest(".s-atc-form"),u=d.data,B={},n=a.copy(u),x,y=!1;f&&0!==f.length?(a.each(f.serializeArray(),function(a){B[a.name]=a.value;n[a.name]=a.value}),d.isRequestProcessing=!0,setTimeout(r,1E4,n,d),v[n.key]=Date.now(),c(u,B,!1).then(function(a){d.isRequestProcessing=!1;x=t(a);n.requestTime=Date.now()-v[n.key];e&&e(n,x)}).catch(function(a){y=
d.isRequestProcessing;d.isRequestProcessing=!1;k.logHttpCallError("Getting error calling addItems","[AddToCart]-[s-retail-cart-api]-addItems",a);p(g.ACTIONS.ADD,d,n,a);x=l(a);!0===y&&m&&m(n,x)})):a.trigger(b.ADD_TO_CART_ITEM_REQUEST_ERROR,n)},removeItem:function(d,e,m){var f=d.$target.closest(".s-atc-form"),u=d.data,r={},n=a.copy(u),x=d.$target.closest(".s-atc-container").data("storeId"),y,F=!1;f&&0!==f.length&&x?(r.id=x,a.each(f.serializeArray(),function(a){r[a.name]=a.value;n[a.name]=a.value}),
d.isRequestProcessing=!0,setTimeout(A,1E4,n,d),v[n.key]=Date.now(),c(u,r,!0).then(function(a){d.isRequestProcessing=!1;y=t(a);n.requestTime=Date.now()-v[n.key];e&&e(n,y)}).catch(function(a){F=d.isRequestProcessing;d.isRequestProcessing=!1;k.logHttpCallError("Getting error calling modifyItems","[AddToCart]-[s-retail-cart-api]-modifyItems",a);p(g.ACTIONS.REMOVE,d,n,a);y=l(a);!0===F&&m&&m(n,y)})):a.trigger(b.REMOVE_FROM_CART_ITEM_REQUEST_ERROR,n)}}});"use strict";f.when("A","rush-framework","s-fresh-cart-api",
"s-retail-cart-api","s-cart-actions","rush-dispatcher","s-cart-spinner-utils","s-cart-notification","s-cart-container-metric-helper","s-cart-fresh-state").register("s-cart-container-component",function(a,d,b,e,k,g,m,u,c,t){function q(a){return a&&1===a.length}function r(b,c){b=a.copy(b);b.response=c;!b.asin&&b.ASIN&&(b.asin=b.ASIN);return b}function E(a,b){a=r(a,b);"DEFAULT"===a.cartType&&(a.storeId=b&&q(b.items)&&b.items[0].id);g.trigger(k.ADD_TO_CART_ITEM_SUBMIT_SUCCESS,a)}function p(a,b){a=r(a,
b);"DEFAULT"===a.cartType&&(a.storeId=b&&q(b.items)&&b.items[0].id);g.trigger(k.ADD_TO_CART_ITEM_SUBMIT_ERROR,a)}function v(a,b){a=r(a,b);g.trigger(k.REMOVE_FROM_CART_ITEM_SUBMIT_SUCCESS,a)}function h(a,b){a=r(a,b);g.trigger(k.REMOVE_FROM_CART_ITEM_SUBMIT_ERROR,a)}function G(a){a.$currentTarget.find(".a-button").removeClass("a-button-disabled")}function C(a){var b=a&&a.cartCount;b!==A&&(l.$Nav&&l.$Nav.when("api.setCartCount").run(function(a){a(b)}),f.when("mash").execute("s-add-to-cart-mash-update",
function(a){a.cart&&n.isFunction(a.cart.didUpdate)&&a.cart.didUpdate({newCartQuantity:parseInt(b,10)})}))}function w(b,d){b&&a.post(b,{success:function(){c.registerMetric([c.getCart(d),c.ACTIONS.ADD,c.EVENTS.SPONSORED_SUCCESS],1)},error:function(a){f.logError(a,"Error caught calling logSponsoredURL with Add to Cart on Search Results","ERROR","[AddToCart]-[s-sponsored-api]-"+d);c.registerMetric([c.getCart(d),c.ACTIONS.ADD,c.EVENTS.SPONSORED_ERROR],1)}})}function D(b,c,d){var e;"DEFAULT"===d.cartType?
e=d.response&&q(d.response.items)&&d.response.items[0].quantity:"FRESH"===d.cartType&&d.response&&d.response.items&&d.asin&&(e=a.filter(d.response.items,function(a){return a.ASIN===d.asin&&a.storeId===d.storeId}),e=q(e)&&e[0].quantity);if(e)return b=b.find(".s-atc-group"),b.find("span").first().text(c.replace("${quantity}",e)),c=b.find(".s-atc-remove-action").find(".s-atc-content").find(".a-declarative"),1===c.length&&c.replaceWith(c.html()),b.removeClass("aok-hidden"),!0;b.find(".s-atc-group").addClass("aok-hidden");
return!1}function B(a,b){b?a.removeClass("aok-hidden"):a.addClass("aok-hidden")}var n=a.$;a.declarative("s-add-to-cart:make-request","click",function(a){var c=a.data||{},d=a.$event;d&&(d.preventDefault(),d.stopPropagation());a.$currentTarget.find(".a-button").hasClass("a-button-disabled")||"FRESH"===c.cartType&&!t.isAvailable()||("FRESH"===c.cartType&&t.lock(),m.hideButtonAndRenderSpinner(a.$currentTarget,"DEFAULT"===c.cartType),a.$currentTarget.parents(".s-atc-container").find(".s-atc-group").addClass("aok-hidden"),
"DEFAULT"===c.cartType?(e.addItem(a,E,p),setTimeout(G,3E3,a)):"FRESH"===c.cartType&&b.addItem(a,E,p))});a.declarative("s-remove-from-cart:make-request","click",function(a){var c=a.data||{},d=a.$event;d&&(d.preventDefault(),d.stopPropagation());m.hideButtonAndRenderSpinner(a.$currentTarget,!1);a.$currentTarget.parents(".s-atc-container").find(".s-atc-group").addClass("aok-hidden");"DEFAULT"===c.cartType?e.removeItem(a,v,h):"FRESH"===c.cartType&&b.removeItem(a,v,h)});a.on(k.ADD_TO_CART_ITEM_REQUEST_COMPLETED,
function(a){a&&"FRESH"===a.cartType&&t.unlock()});a.on(k.ADD_TO_CART_ITEM_REQUEST_ERROR,function(a){c.registerMetric([c.getCart(a.cartType),c.ACTIONS.ADD,c.EVENTS.REQUEST_ERROR],1)});a.on(k.REMOVE_FROM_CART_ITEM_REQUEST_ERROR,function(a){c.registerMetric([c.getCart(a.cartType),c.ACTIONS.REMOVE,c.EVENTS.REQUEST_ERROR],1)});d.registerComponent("s-cart-container-component","s-cart-container-component",function(b){function d(){l&&l.FAILED_TO_ADD_ITEM&&u.showFailureNotification(h,l.FAILED_TO_ADD_ITEM)}
function e(a,b){b.response&&b.isExpectedError?f.when("s-cart-fresh-error-modal").execute("s-cart-try-to-show-fresh-error-modal",function(c){c.showAtcFreshErrorModal(a,b.response)||d()}):d()}var h=n(b.elem()),l=b.prop("notificationMessages"),t=b.prop("sponsoredLoggingUrl"),p=b.prop("asin"),v=b.prop("labelMessage"),q=b.prop("offerListingId"),z=!1;b.on(k.ADD_TO_CART_ITEM_SUBMIT_SUCCESS,function(b){b.asin===p&&b.offerListingID===q&&(C(b.response),z=D(h,v,b),m.showButtonAndRemoveSpinner(h),h.find(".s-atc-container").data("storeId",
b.storeId),w(t,b.cartType),l&&l.ITEM_ADDED&&u.showSuccessNotification(h,l.ITEM_ADDED),c.registerMetric([c.getCart(b.cartType),c.ACTIONS.ADD,c.EVENTS.SUCCESS],1),b.requestTime&&c.registerMetric([c.getCart(b.cartType),c.ACTIONS.ADD,c.EVENTS.LATENCY],b.requestTime),a.trigger(k.ADD_TO_CART_ITEM_REQUEST_COMPLETED,b))});b.on(k.ADD_TO_CART_ITEM_SUBMIT_ERROR,function(b){var g=c.EVENTS.ERROR;b.asin===p&&b.offerListingID===q&&(u.removeNotification(h),"FRESH"===b.cartType?e({$currentTarget:h,sessionID:b.sessionId,
data:b},b):d(),m.showButtonAndRemoveSpinner(h),h.find(".s-atc-container").data("storeId",b.storeId),"DEFAULT"===b.cartType&&(z=D(h,v,b)),B(h.find(".s-atc-group"),z),!0!==b.isErrorMetricLogged&&(b.isExpectedError&&(g=c.EVENTS.EXPECTED_ERROR),c.registerMetric([c.getCart(b.cartType),c.ACTIONS.ADD,g],1)),a.trigger(k.ADD_TO_CART_ITEM_REQUEST_COMPLETED,b))});b.on(k.ADD_TO_CART_ITEM_REQUEST_TIMEOUT,function(a){a=r(a,null);a.asin===p&&a.offerListingID===q&&(c.registerMetric([c.getCart(a.cartType),c.ACTIONS.ADD,
c.EVENTS.TIMEOUT],1),a.isErrorMetricLogged=!0,g.trigger(k.ADD_TO_CART_ITEM_SUBMIT_ERROR,a))});b.on(k.REMOVE_FROM_CART_ITEM_SUBMIT_SUCCESS,function(b){b.asin===p&&b.offerListingID===q&&(C(b.response),m.showButtonAndRemoveSpinner(h),z=!1,B(h.find(".s-atc-group"),z),l&&l.ITEM_REMOVED&&u.showSuccessNotification(h,l.ITEM_REMOVED),c.registerMetric([c.getCart(b.cartType),c.ACTIONS.REMOVE,c.EVENTS.SUCCESS],1),b.requestTime&&c.registerMetric([c.getCart(b.cartType),c.ACTIONS.REMOVE,c.EVENTS.LATENCY],b.requestTime),
a.trigger(k.REMOVE_FROM_CART_ITEM_REQUEST_COMPLETED))});b.on(k.REMOVE_FROM_CART_ITEM_SUBMIT_ERROR,function(b){var d=c.EVENTS.ERROR;b.asin===p&&b.offerListingID===q&&(m.showButtonAndRemoveSpinner(h),z=!0,B(h.find(".s-atc-group"),z),l&&l.FAILED_TO_REMOVE_ITEM&&u.showFailureNotification(h,l.FAILED_TO_REMOVE_ITEM),!0!==b.isErrorMetricLogged&&(b.isExpectedError&&(d=c.EVENTS.EXPECTED_ERROR),c.registerMetric([c.getCart(b.cartType),c.ACTIONS.REMOVE,d],1)),a.trigger(k.REMOVE_FROM_CART_ITEM_REQUEST_COMPLETED))});
b.on(k.REMOVE_FROM_CART_ITEM_REQUEST_TIMEOUT,function(a){a=r(a,null);a.asin===p&&a.offerListingID===q&&(c.registerMetric([c.getCart(a.cartType),c.ACTIONS.REMOVE,c.EVENTS.TIMEOUT],1),a.isErrorMetricLogged=!0,g.trigger(k.REMOVE_FROM_CART_ITEM_SUBMIT_ERROR,a))})})});"use strict";f.when("A").register("s-cart-notification",function(){function a(a){a.find(".a-alert-inline-error").remove()}return{showFailureNotification:function(d,b){a(d);b='\x3cdiv class\x3d"a-box a-alert-inline a-alert-inline-error s-atc-failure-notification" role\x3d"alert"\x3e\x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\x3cdiv class\x3d"a-alert-content"\x3e\x3cspan class\x3d"a-size-mini"\x3e${notification-message}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'.replace("${notification-message}",
b);d.find(".s-atc-container").append(b)},showSuccessNotification:function(d,b){b='\x3cdiv aria-live\x3d"polite" class\x3d"a-changeover s-atc-success-notification" style\x3d"display: none"\x3e\x3cdiv class\x3d"a-changeover-inner"\x3e\x3ci class\x3d"a-icon a-icon-checkmark-inverse"\x3e\x3c/i\x3e\x3cstrong class\x3d"a-size-small"\x3e${notification-message}\x3c/strong\x3e\x3c/div\x3e\x3c/div\x3e'.replace("${notification-message}",b);a(d);d.find(".s-atc-success-notification").remove();d.find(".s-atc-container").append(b);
d.find(".s-atc-success-notification").show()},removeNotification:a}});"use strict";f.when("A","s-carousel-searchgrid-common").register("s-cart-spinner-utils",function(a,d){return{hideButtonAndRenderSpinner:function(a,d){(a=a.parents(".s-atc-container").find(".a-button"))&&a.length&&(a.wrap('\x3cdiv class\x3d"atfc-spinner"\x3e\x3c/div\x3e'),a.closest(".atfc-spinner").css({width:a.outerWidth()+"px",height:a.outerHeight()+"px"}),d&&a.addClass("a-button-disabled"),a.css({visibility:"hidden"}))},showButtonAndRemoveSpinner:function(a){var e=
a.parents(".s-atc-container").find(".a-button"),k;e.length||(e=a.closest('[data-component-type\x3d"s-cart-container-component"]').find(".s-atc-container").find(".s-atc-add-action").parents(".s-atc-container").find(".a-button"));e&&e.length&&(k=e.closest(".atfc-spinner"));e&&e.length&&k&&k.length&&(e.removeClass("a-button-focus"),e.css("visibility","visible"),e.unwrap());(a=a.closest(".a-carousel"))&&a.length&&d.recalculateHeight(a)}}});"use strict";f.when("A").register("s-cart-logger-utils",function(){return{logHttpCallError:function(a,
d,b){b&&(a+=" [status] : "+(b.status||0),b.statusText&&(a+=" [statusText] : "+b.statusText),b.responseText&&(a+=" [responseText] : "+b.responseText));f.log(a,"ERROR",d)}}});"use strict";f.when("A").register("s-cart-container-metric-helper",function(){var a={FRESH:"fresh",RETAIL:"retail"};return{registerMetric:function(a,b){a="add-to-cart-"+a.join("-");l.ue&&l.ue.count&&l.ue.count(a,b)},getCart:function(d){return"FRESH"===d?a.FRESH:a.RETAIL},CARTS:a,ACTIONS:{ADD:"add-item",REMOVE:"remove-item"},EVENTS:{ERROR:"error",
EXPECTED_ERROR:"expected-error",LATENCY:"latency",REQUEST_ERROR:"request-error",SUCCESS:"success",SPONSORED_ERROR:"sponsored-error",SPONSORED_SUCCESS:"sponsored-success",TIMEOUT:"timeout",UNREACHED:"unreached"}}});"use strict";f.declare("s-cart-fresh-state-config",{releaseTimeoutMs:10500});"use strict";f.when("s-cart-fresh-state-config").register("s-cart-fresh-state",function(a){function d(){(g||0===g)&&clearTimeout(g);g=null}function b(){d();k=!1}var e=a.releaseTimeoutMs,k=!1,g=null;return{lock:function(){d();
g=setTimeout(b,e);k=!0},unlock:b,isAvailable:function(){return!k}}});"use strict";f.declare("s-cart-fresh-error-modal-events",{ATC_FRESH_ERROR_MODAL_PRE_SHOW:"search:add_to_cart:fresh-error-modal-preshow",ATC_FRESH_ERROR_MODAL_FAILED_VALIDATION:"search:add_to_cart:fresh-error-modal-failed-validation",ATC_FRESH_ERROR_MODAL_ERROR:"search:add_to_cart:fresh-error-modal-error",ATC_FRESH_ERROR_MODAL_SHOWN:"search:add_to_cart:fresh-error-modal-shown",ATC_FRESH_ERROR_MODAL_POST_SHOW:"search:add_to_cart:fresh-error-modal-postshow"});
f.when("A","s-cart-fresh-error-modal-events").register("s-cart-fresh-error-modal-logs",function(a,d){function b(a,b){var d=b.response;b=b.error;d&&(a+=" [status] : "+(d.status||0),d.statusText&&(a+=" [statusText] : "+d.statusText),d.responseText&&(a+=" [responseText] : "+d.responseText));b&&(a+=" [error] : "+b);return a}a.on(d.ATC_FRESH_ERROR_MODAL_FAILED_VALIDATION,function(a){f.log(b("Response doesn't match fresh error pattern",a),"WARN","[AddToCart]-[s-atc-fresh-error-modal]-show")});a.on(d.ATC_FRESH_ERROR_MODAL_ERROR,
function(a){f.log(b("Error during parsing fresh error response",a),"ERROR","[AddToCart]-[s-atc-fresh-error-modal]-show")})});f.when("A","s-cart-fresh-error-modal-events","s-cart-container-metric-helper").register("s-cart-fresh-error-modal-metrics",function(a,d,b){var e={CALLED:"called",FINISHED_SUCCESSFULLY:"success",FAILED_VALIDATION:"failed-validation",FAILED_WITH_ERROR:"error"};a.on(d.ATC_FRESH_ERROR_MODAL_PRE_SHOW,function(){b.registerMetric([b.CARTS.FRESH,"error-modal",e.CALLED],1)});a.on(d.ATC_FRESH_ERROR_MODAL_FAILED_VALIDATION,
function(){b.registerMetric([b.CARTS.FRESH,"error-modal",e.FAILED_VALIDATION],1)});a.on(d.ATC_FRESH_ERROR_MODAL_ERROR,function(){b.registerMetric([b.CARTS.FRESH,"error-modal",e.FAILED_WITH_ERROR],1)});a.on(d.ATC_FRESH_ERROR_MODAL_SHOWN,function(){b.registerMetric([b.CARTS.FRESH,"error-modal",e.FINISHED_SUCCESSFULLY],1)});return{METRIC_NAME:"error-modal",ACTIONS:e}});"use strict";f.when("A","s-cart-fresh-error-modal-events","puis-fresh-atfc-error-modal-utils","s-cart-fresh-error-modal-add-item-listener").register("s-cart-fresh-error-modal",
function(a,d,b){var e=a.capabilities.mobile||a.capabilities.tablet?"mobile":"desktop";return{showAtcFreshErrorModal:function(k,g){var m=!1,f={event:k,response:g};a.trigger(d.ATC_FRESH_ERROR_MODAL_PRE_SHOW,f);try{var c;g&&g.responseText?(c=JSON.parse(g.responseText))&&c.errorModalHtml?(b.showModal(k,c.errorModalHtml,e,c),m=!0):m=!1:m=!1;m?a.trigger(d.ATC_FRESH_ERROR_MODAL_SHOWN,f):a.trigger(d.ATC_FRESH_ERROR_MODAL_FAILED_VALIDATION,f)}catch(l){f.error=l,a.trigger(d.ATC_FRESH_ERROR_MODAL_ERROR,f),m=
!1}a.trigger(d.ATC_FRESH_ERROR_MODAL_POST_SHOW,f);return m}}});"use strict";f.when("A","s-cart-fresh-error-modal-events","s-cart-actions","rush-dispatcher").register("s-cart-fresh-error-modal-add-item-listener",function(a,d,b,e){function f(a){return function(){e.trigger(b.ADD_TO_CART_ITEM_SUBMIT_SUCCESS,{cartType:a.cartType,asin:a.asin,offerListingID:a.offerListingID,storeId:a.storeId,response:{isOK:!0,addSuccessful:!0,items:[]},isRequestProcessing:!1})}}var g=[];a.on("a:popover:afterHide:fresh-add-to-cart-error-modal",
function(){a.each(g,function(b){a.off("fresh-atfc:success",b)});g=[]});a.on(d.ATC_FRESH_ERROR_MODAL_SHOWN,function(b){(b=(b.event||{}).data)&&b.asin&&b.offerListingID&&b.storeId&&b.cartType&&(b=f(b))&&(g.push(b),a.on("fresh-atfc:success",b))})})});
/* ******** */
(function(g){var r=window.AmazonUIPageJS||window.P,t=r._namespace||r.attributeErrors,b=t?t("ProductUIAssets@aeeDiscoveryDeepCheckPromiseAssets",""):r;b.guardFatal?b.guardFatal(g)(b,window):b.execute(function(){g(b,window)})})(function(g,r,t){"use strict";g.when("ags-dc-promise/app/aapi","ags-dc-promise/app/component/lib","ags-dc-promise/app/config","ags-dc-promise/app/fetch","ags-dc-promise/app/repaint","ags-dc-promise/app/retry","ags-dc-promise/lib/controller","ags-dc-promise/lib/metrics","ags-dc-promise/lib/on-error").register("ags-dc-promise/app/component",
function(b,a,c,d,f,e,k,h,p){var g=h.incrementCounterOnCall("batch"),m=h.incrementCounterOnCall("controllerError"),l=h.incrementCounterOnCall("fetchFailed"),q=h.incrementCounterOnCall("productv2Call");h=h.incrementCounterOnCall("repaintError");b=q(b.productv2);b=e(b);b=g(b);d=d(b);e=h(a.logRepaintError);f=p(f,e);l=l(a.logFetchFailure);a=m(a.logControllerError);f=k({fetch:d,repaint:f,recordFetchFailure:l});f=p(f,a);return{name:c.name,attribution:c.attribution||c.name,controller:f}});g.declare("ags-dc-promise/app/component/lib",
{logControllerError:function(b,a){a.log.error(b,b.toString())},logFetchFailure:function(b,a){b.log.error(null,a.statusText)},logRepaintError:function(b,a){a.log.error(b,b.toString())}});g.declare("ags-dc-promise/app/config",{name:"ags-dc-promise",attribution:"ags-dc-promise",aapi:{queryArgs:["dexAgsDeepCheckPromiseParamsMap\x3d{isAgsDeepCheckPromiseEnabled:true}"]},fetch:{batchSize:20,batchIntervalMillis:50},retry:{strategy:"max-attempts",maxAttempts:1,delay:50}});g.when("A","ags-dc-promise/app/config",
"ags-dc-promise/lib/latency/event-handler").execute("read:ags-dc-promise/app/config",function(b,a){b.each(a,function(a,d){g.declare("ags-dc-promise/app/config/"+d,a)})});g.when("A","3p-promise","aapi-token-dcp","s-aapi-ajax-config","ags-dc-promise/app/config/aapi","ags-dc-promise/app/init/aapi/lib","ags-dc-promise/lib/aapi","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline","ags-dc-promise/lib/promise-handle").register("ags-dc-promise/app/aapi",function(b,a,c,d,f,e,k,h,p,g){a=h.partial(g,a);
e=h.partial(e.adaptJquery,b.$,a);b=b.extend({marketplaces:[d.marketplaceId],endpoint:d.ajaxEndpoint,ajax:e,headers:{"x-api-csrf-token":c,"Accept-Language":d.marketplaceLocale}},f);return k(b)});g.declare("ags-dc-promise/app/init/aapi/lib",{adaptJquery:function(b,a,c){var d=c.success,f=c.failure||c.error,e=a();c.xhrFields={withCredentials:!0};c.success=function(f,a,c){b.isFunction(d)&&d.call(null,f,a,c);e.resolve(f)};c.failure=function(a,d,c){b.isFunction(f)&&f.call(null,a,d,c);e.reject(a)};c.error=
c.failure;b.ajax(c.url,c);return e.promise}});g.when("A","3p-promise","ags-dc-promise/app/config/fetch","ags-dc-promise/lib/fetch").register("ags-dc-promise/app/fetch",function(b,a,c,d){return function(f){f=b.extend({productv2:f,Promise:a,inclusions:["buyingOptions[].delivery(product.delivery/v1)"],setInterval:setInterval,clearInterval:clearInterval},c);return d(f)}});g.when("ags-dc-promise/lib/date-format","ags-dc-promise/lib/repaint").register("ags-dc-promise/app/repaint",function(b,a){return a(b)});
g.when("ags-dc-promise/app/config/retry","ags-dc-promise/lib/retry/lib").execute("register:ags-dc-promise/app/retry",function(b,a){a.retryStrategyProvider[b.strategy](function(a){return a(b)});g.when("3p-promise","ags-dc-promise/lib/retry","ags-dc-promise/app/retry/strategy").register("ags-dc-promise/app/retry",function(a,d,f){return d({getNextDelay:f,Promise:a,setTimeout:setTimeout})})});g.when("A","ags-dc-promise/lib/latency/event-handler").register("ags-dc-promise/lib/common",function(b){return{getProperty:function(a){return function(b){return b[a]}},
getUrlParameter:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?\x26]"+a+"\x3d([^\x26#]*)")).exec(location.search);return null===a||null===decodeURIComponent?"":decodeURIComponent(a[1].replace(/\+/g," "))},findFirst:function(a,c){var d,f,e;if(!b.$.isFunction(a))throw new TypeError("predicate should be a function, not a "+typeof a);if(!b.isArray(c))throw new TypeError("collection should be an array, not a "+typeof c);for(e=0;e<c.length;++e)if(f=c[e],a(f)){d=f;break}return d},
partial:function(a){var b=Array.prototype.slice.call(arguments,1);if(1>b.length)throw Error("no arguments given");return function(){var d=Array.prototype.slice.call(arguments);return a.apply(null,b.concat(d))}}}});g.declare("ags-dc-promise/lib/counter",function(){var b=0;return function(){return b++}});g.when("ags-dc-promise/lib/assert").register("ags-dc-promise/lib/memoize",function(b){return function(a,c){b.isType("memo","object",c);return function(){var d=Array.prototype.slice.call(arguments),
f=JSON.stringify(d),e=c[f];"undefined"===typeof e&&(e=a.apply(null,d),c[f]=e);return e}}});g.declare("ags-dc-promise/lib/on-error",function(b,a){return function(){var c=Array.prototype.slice.call(arguments);try{return b.apply(null,c)}catch(d){return a.apply(null,[d].concat(c))}}});g.declare("ags-dc-promise/lib/promise-handle",function(b){var a={};a.promise=new b(function(b,d){a.resolve=b;a.reject=d});return a});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline","ags-dc-promise/lib/metrics",
"ags-dc-promise/lib/controller/lib").register("ags-dc-promise/lib/controller",function(b,a,c,d){var f=b.partial(d.validateComponent,d.validateAsin);return a(d.validateConfig,function(e){e=b.partial(d.controller,e.fetch,e.repaint,e.recordFetchFailure);return a(f,e)})});g.when("ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/controller/lib",function(b,a,c){return{PROP_ASIN:"asin",controller:function(d,f,e,b){var c=b.prop("asin");f=a.partial(f,
b);e=a.partial(e,b);d(c).then(f).catch(e)},validateConfig:c(a.partial(b.isType,["config","fetch"],"function"),a.partial(b.isType,["config","repaint"],"function"),a.partial(b.isType,["config","recordFetchFailure"],"function")),validateComponent:function(a,f){a(f.prop("asin"));return f},validateAsin:c(a.partial(b.isType,"asin","string"),a.partial(b.notEmpty,"asin"))}});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline","ags-dc-promise/lib/aapi/lib","ags-dc-promise/lib/aapi/productv2").register("ags-dc-promise/lib/aapi",
function(b,a,c,d){return a(c.validateConfig,function(f){var e=b.partial(c.addMarketplaces,f.marketplaces),k=b.partial(c.addUrlEndpoint,f.endpoint),h=b.partial(c.addQueryArgs,f.queryArgs),g=b.partial(c.addHeaders,f.headers);f=b.partial(c.send,f.ajax);return{productv2:a(d,e,k,h,g,f)}})});g.when("A","ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/aapi/lib",function(b,a,c,d){return{addHeaders:function(f,e){e.headers=b.extend({},f,e.headers);
return e},addMarketplaces:function(f,e){e.url="/api/marketplaces/"+f.join(",")+e.url;return e},addQueryArgs:function(f,e){var a=[];f&&(a=f.map(function(e){return encodeURI(e)}),e.url+=(-1===e.url.lastIndexOf("?")?"?":"\x26")+a.join("\x26"));return e},addUrlEndpoint:function(f,e){e.url=f+e.url;return e},send:function(f,e){return f(e)},validateConfig:d(c.partial(a.isArray,["config","marketplaces"]),c.partial(a.notEmpty,["config","marketplaces"]),c.partial(a.isType,["config","endpoint"],"string"),c.partial(a.notEmpty,
["config","endpoint"]),c.partial(a.isType,["config","headers"],"object"),c.partial(a.isType,["config","ajax"],"function"))}});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/aapi/productv2/lib").register("ags-dc-promise/lib/aapi/productv2",function(b,a){var c=b.partial(a.validateArgs,a.validateAsins,a.validateInclusions,a.validateModifyRequest),d=b.partial(a.addMerchantRefinementToRequest,a.deserializeRefinementParameter);return b.partial(a.productv2,c,a.formatRequest,a.addUrl,d,a.addAcceptHeader)});
g.when("A","ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/aapi/productv2/lib",function(b,a,c,d){return{addAcceptHeader:function(f,e,a){var d="product/v2";e=e.join(",");1<f.length&&(d="collection("+d+")/v1");a.headers=b.extend(a.headers||{},{Accept:'application/vnd.com.amazon.api+json; type\x3d"'+d+'"; expand\x3d"'+e+'"; experiments\x3d"dexAgsDeepCheckPromiseParamsMap_1"'});return a},deserializeRefinementParameter:function(a){var e=
{},d,c;if(!a)return{};a=a.split(",");return b.reduce(a,function(a,f){d=f.split(":");if(2!==d.length||!d[0]||!d[1])return a;c=d[1].split("|");e[d[0]]=c;return e},{})},addMerchantRefinementToRequest:function(a,e){var d=c.getUrlParameter("me"),b=c.getUrlParameter("rh");(a=a(b).p_6)&&1===a.length&&!d&&(d=a[0]);d&&(d="merchantId\x3d"+d,e.url+=(-1===e.url.lastIndexOf("?")?"?":"\x26")+d+"\x26merchantSelectionType\x3dEXCLUSIVE");return e},addUrl:function(a,e){e.url="/products/"+a.join(",");return e},formatRequest:function(){return b.reduce(arguments,
function(a,e){return e(a)},{})},productv2:function(a,e,d,b,g,n,m,l){a(n,m,l);a=[c.partial(d,n),c.partial(g,n,m),b];l&&a.push(l);return e.apply(null,a)},validateArgs:function(a,e,d,b,c,g){a(b);e(c);g&&d(g)},validateAsins:d(c.partial(a.isArray,"asins"),c.partial(a.notEmpty,"asins")),validateModifyRequest:c.partial(a.isType,"modifyRequest","function"),validateInclusions:d(c.partial(a.isArray,"inclusions"),c.partial(a.notEmpty,"inclusions"))}});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/assert/lib").register("ags-dc-promise/lib/assert",
function(b,a){return{isArray:b.partial(a.isArray,a.follow),isType:b.partial(a.isType,a.follow),lengthAtLeast:b.partial(a.lengthAtLeast,a.follow),notEmpty:b.partial(a.notEmpty,a.follow)}});g.when("A","ags-dc-promise/lib/latency/event-handler").register("ags-dc-promise/lib/assert/lib",function(b){function a(a){return-1===a.indexOf(" ")?a:'"'+a+'"'}function c(d){return b.isArray(d)?b.map(d,a).join("."):a(d)}return{follow:function(a,f){var e;if("string"===typeof a)return f;if(!b.isArray(a))throw new TypeError("`path` must be a string or Array, not a "+
typeof a);if(1===a.length)return f;for(e=1;e<a.length;++e){if("object"!==typeof f)throw new TypeError(a.slice(0,e).join(".")+" must be an object, not a "+typeof f);f=f[a[e]]}return f},isArray:function(a,f,e){a=a(f,e);if(b.isArray(a))return e;throw new TypeError(c(f)+" should be an Array, not a "+typeof a);},isType:function(a,b,e,k){a=typeof a(b,k);if(a===e)return k;throw new TypeError(c(b)+" should be a "+e+", not a "+a);},lengthAtLeast:function(a,b,e,k){a=a(b,k).length;if(e<=a)return k;throw Error(c(b)+
".length should be at least "+e+" but is "+a);},notEmpty:function(a,b,e){if(0<a(b,e).length)return e;throw Error(c(b)+" is empty");}}});g.when("A","ags-dc-promise/lib/common","ags-dc-promise/lib/memoize","ags-dc-promise/lib/date-format/lib").execute("register:ags-dc-promise/lib/date-format",function(b,a,c,d){var f,e;"undefined"!==typeof r.Intl&&b.$.isFunction(r.Intl.DateTimeFormat)?(b=a.partial(d.format,Intl.DateTimeFormat),b=a.partial(d.convert,b),f=a.partial(d.getToken,d.isLetter),f=a.partial(d.tokenize,
f),e=a.partial(d.unescape,d.SINGLE_QUOTE_RE),e=a.partial(d.getOperation,d.TOKEN_OPERATIONS,e),a=a.partial(d.formatDateStr,f,e,b,d.validateLocale,d.validateFormat),g.declare("ags-dc-promise/lib/date-format",c(a,{}))):g.log("Intl.DateTimeFormat not found","ERROR","ags-dc-promise")});g.when("A","ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/date-format/lib",function(b,a,c,d){return{TOKEN_OPERATIONS:{EEEE:{weekday:"long"},EEE:{weekday:"short"},
E:{weekday:"narrow"},MMMM:{month:"long"},MMM:{month:"short"},MM:{month:"2-digit"},M:{month:"numeric"},dd:{day:"2-digit"},d:{day:"numeric"},yyyy:{year:"numeric"},yy:{year:"2-digit"},"''":"'","'":""},SINGLE_QUOTE_RE:/'{1,2}/g,formatDateStr:function(a,e,d,c,g,n,m){var l;c(n);g(m);a=a(m);l=b.map(a,e);return function(a,e){return d(n,l,new Date(a),e)}},convert:function(a,e,b,d,c){var g=[],m,l;for(m=0;m<b.length;++m)l=b[m],"object"===typeof l?(l.timeZone=c,g.push(a(e,l,d))):g.push(l);return g.join("")},
format:function(a,e,b,d){return(new a(e,b)).format(d)},getOperation:function(a,e,b){if("specifier"===b.type){if(a=a[b.str],"undefined"===typeof a)throw Error("Invalid date format specifier: \x3c"+b.str+"\x3e");}else if("text"===b.type)a=e(b.str);else throw Error("Invalid token: "+JSON.stringify(b));return a},getToken:function(a,e,b){for(var d=e[b],c=!1,g=b;g<e.length&&e[g]===d;)++g;if(a(d))return{type:"specifier",str:e.substring(b,g)};for(g=b;g<e.length&&(c||!a(e[g]));++g)"'"===e[g]&&("'"===e[g+1]?
++g:c=!c);return{type:"text",str:e.substring(b,g)}},isLetter:function(a){a=a.charCodeAt(0);return 65<=a&&90>=a||97<=a&&122>=a},tokenize:function(a,e){var b=[],d,c;for(c=0;c<e.length;)d=a(e,c),b.push(d),c+=d.str.length;return b},unescape:function(a,e){return e.replace(a,function(a){if("'"===a)return"";if("''"===a)return"'"})},validateLocale:d(c.partial(a.isType,"locale","string"),c.partial(a.notEmpty,"locale")),validateFormat:d(c.partial(a.isType,"format","string"),c.partial(a.notEmpty,"format"))}});
g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/on-error","ags-dc-promise/lib/pipeline","ags-dc-promise/lib/promise-handle","ags-dc-promise/lib/fetch/lib").register("ags-dc-promise/lib/fetch",function(b,a,c,d,f){return c(f.validateConfig,function(e){var k=f.newContext(),g=c(f.throwIfInvalidAsin,function(){return null}),g=a(g,e.Promise.reject),p=b.partial(d,e.Promise),p=b.partial(f.addToPromiseHandles,k.promiseHandles,p),n=b.partial(f.addToQueue,k.queue),m=b.partial(f.getNextBatch,k.queue,e.batchSize),
l=b.partial(f.resolveAsin,k.promiseHandles),l=b.partial(f.resolveBatch,l),q=b.partial(f.rejectAsin,k.promiseHandles),q=b.partial(f.rejectBatch,q),l=b.partial(f.requestBatch,e.productv2,e.inclusions,l,q),q=b.partial(f.stopInterval,k,e.clearInterval),m=b.partial(f.requestNextBatch,m,l,q);e=b.partial(f.startInterval,k,e.setInterval,m);k=b.partial(f.getPromise,k.promiseHandles);e=b.partial(f.enroll,p,n,e);return b.partial(f.fetch,g,k,e)})});g.when("A","ags-dc-promise/lib/metrics","ags-dc-promise/lib/assert",
"ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/fetch/lib",function(b,a,c,d,f){return{fetch:function(a,b,d,c){return a(c)||b(c)||d(c)||b(c)},addToPromiseHandles:function(a,b,d){a[d]=b()},addToQueue:function(a,b){a.push({asin:b})},enroll:function(a,b,d,c){a(c);b(c);d()},getPromise:function(a,b){return(a=a[b])&&a.promise},getNextBatch:function(a,b){var d=a.slice(0,b);a.splice(0,b);return d},newContext:function(){return{queue:[],promiseHandles:{},requestInterval:null}},
resolveAsin:function(a,b){a[b.asin].resolve(b)},resolveBatch:function(a,c){var f=[];c.entities?f=b.map(c.entities,d.getProperty("entity")):f.push(c.entity);b.each(f,a)},rejectAsin:function(a,b,d){a[b].reject(d)},rejectBatch:function(a,d,c){b.each(d,function(b){a(b,c)})},requestBatch:function(a,c,g,p,n,m){m=b.map(m,d.getProperty("asin"));p=d.partial(p,m);a(m,c).then(f(g,n)).catch(f(p,n))},requestNextBatch:function(b,c,f){b=b();f=f()?a.onLoad:function(){};d.partial(c,f)(b)},startInterval:function(a,
b,d){return null===a.requestInterval&&0<a.queue.length?(a.requestInterval=b(d,a.batchIntervalMillis),!0):!1},stopInterval:function(a,b){return null!==a.requestInterval&&0===a.queue.length?(b(a.requestInterval),a.requestInterval=null,!0):!1},throwIfInvalidAsin:f(d.partial(c.isType,"asin","string"),d.partial(c.notEmpty,"asin")),validateConfig:f(d.partial(c.isType,["config","productv2"],"function"),d.partial(c.isArray,["config","inclusions"]),d.partial(c.notEmpty,["config","inclusions"]),d.partial(c.isType,
["config","batchIntervalMillis"],"number"),d.partial(c.isType,["config","batchSize"],"number"),d.partial(c.isType,["config","Promise"],"function"),d.partial(c.isType,["config","setInterval"],"function"),d.partial(c.isType,["config","clearInterval"],"function")),validateFunction:d.partial(c.isType,"fn","function")}});g.when("af","ready").register("ags-dc-promise/lib/latency/event-handler");g.when("rush-metrics-adapter","ags-dc-promise/lib/metrics/lib","ags-dc-promise/app/config").register("ags-dc-promise/lib/metrics",
function(b,a,c){return{incrementCounterOnCall:function(d){a.validateCounterName(d);return function(c){a.validateFunction(c);return function(){b.incrementCount(d);return c.apply(null,arguments)}}},setCSMMarker:function(d){a.validateMarker(d);b.setTimer(d,c.attribution,{wb:1})},onLoad:function(){b.publish("ld",c.attribution,{wb:1})}}});g.when("ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/metrics/lib",function(b,a,c){return{validateCounterName:c(a.partial(b.isType,
"counterName","string"),a.partial(b.notEmpty,"counterName")),validateFunction:a.partial(b.isType,"fn","function"),validateMarker:c(a.partial(b.isType,"marker","string"),a.partial(b.notEmpty,"marker"))}});g.when("A","ags-dc-promise/lib/pipeline/lib").register("ags-dc-promise/lib/pipeline",function(b,a){return function(){var c=Array.prototype.slice.call(arguments);a.validateFns(c);b.each(c,a.validateFn);return b.reduce(c,a.reducer)}});g.when("ags-dc-promise/lib/assert","ags-dc-promise/lib/common").register("ags-dc-promise/lib/pipeline/lib",
function(b,a){return{reducer:function(a,b){return function(){return b(a.apply(null,arguments))}},validateFn:a.partial(b.isType,"fn","function"),validateFns:a.partial(b.lengthAtLeast,"fns",2)}});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline","ags-dc-promise/lib/repaint/lib").register("ags-dc-promise/lib/repaint",function(b,a,c){return a(c.validateBuildFormatDateStr,function(d){var f=b.partial(c.removeEmptySpans,c.EMPTY_SPAN_RE),e=a(c.formatDateTemplate,f),f=a(c.formatDateRangeTemplate,
f),g=b.partial(c.paint,c.getDeliveryDateValueOrRange);return b.partial(c.repaint,e,f,d,g)})});g.when("ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/repaint/lib",function(b,a,c){return{EMPTY_SPAN_RE:/<span><\/span>/g,formatDateTemplate:function(a,b,c){a=a(c.dateTime,c.zoneId);return('\x3cspan aria-label\x3d"'+b.replace("{date}",a)+'"\x3e\x3cspan dir\x3d"auto"\x3e'+b+"\x3c/span\x3e\x3c/span\x3e").replace("{date}",'\x3c/span\x3e\x3cspan class\x3d"a-text-bold" dir\x3d"auto"\x3e'+
a+"\x3c/span\x3e\x3cspan\x3e")},formatDateRangeTemplate:function(a,b,c){var g=a(c.min.dateTime,c.min.zoneId);a=a(c.max.dateTime,c.max.zoneId);c=b.replace("{from}",g).replace("{to}",a);a='\x3cspan class\x3d"a-text-bold" dir\x3d"auto"\x3e'+a+"\x3c/span\x3e\x3cspan\x3e";return('\x3cspan aria-label\x3d"'+c+'"\x3e\x3cspan dir\x3d"auto"\x3e'+b+"\x3c/span\x3e\x3c/span\x3e").replace("{from}",'\x3c/span\x3e\x3cspan class\x3d"a-text-bold" dir\x3d"auto"\x3e'+g+"\x3c/span\x3e").replace("{to}",a)},getDeliveryDateValueOrRange:c(a.partial(b.isArray,
["entity","buyingOptions"]),a.getProperty("buyingOptions"),a.partial(a.findFirst,function(a){return"object"===typeof a.delivery}),a.partial(b.isArray,["buyingOption","delivery","entity","messageInstructions"]),a.getProperty("delivery"),a.getProperty("entity"),a.getProperty("messageInstructions"),a.partial(a.findFirst,function(a){return"AMAZON_GLOBAL_STORE"===a.type}),a.partial(b.isArray,["messageInstruction","messageData"]),a.getProperty("messageData"),a.partial(a.findFirst,function(a){return"AMAZON_GLOBAL_STORE"===
a.key}),a.partial(b.isType,["messageData","promise","deliveryDateValueOrRange"],"object"),a.getProperty("promise"),a.getProperty("deliveryDateValueOrRange")),paint:function(a,b,c,g){g=a(g);a=g.deliveryDate;g=g.deliveryDateRange;if(a)return b(a);if(g)return c(g);throw Error("no delivery date or range present");},removeEmptySpans:function(a,b){return b.replace(a,"")},repaint:function(b,c,e,g,h,p){var n=h.elem().children.item(0);e=e(h.prop("locale"),h.prop("format"));b=a.partial(b,e,h.prop("dateTemplate"));
c=a.partial(c,e,h.prop("dateRangeTemplate"));b=g(b,c,p);n?h.replace(n,b):h.append(h.elem(),b)},validateBuildFormatDateStr:a.partial(b.isType,"formatDateStr","function")}});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline","ags-dc-promise/lib/promise-handle","ags-dc-promise/lib/retry/lib").register("ags-dc-promise/lib/retry",function(b,a,c,d){return a(d.validateConfig,function(a){return function(e){d.validateFn(e);return function(){var g=Array.prototype.slice.call(arguments),h=c(a.Promise),
p,n=b.partial(d.retry,a.setTimeout,function(){p()}),n=b.partial(d.rejectOrRetry,a.getNextDelay,h.reject,n);p=b.partial(d.runStrategy,e,g,h.resolve,n);p();return h.promise}}})});g.when("ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/retry/lib",function(b,a,c){return{rejectOrRetry:function(a,b,c,g){a=a(g);null===a?b(g):c(a)},retry:function(a,b,c){a(b,c)},runStrategy:function(a,b,c,g){a.apply(null,b).then(c).catch(g)},retryStrategyProvider:{"max-attempts":function(a){g.when("ags-dc-promise/lib/retry/strategy/max-attempts").register("ags-dc-promise/app/retry/strategy",
a)}},validateConfig:c(a.partial(b.isType,["config","Promise"],"function"),a.partial(b.isType,["config","getNextDelay"],"function"),a.partial(b.isType,["config","setTimeout"],"function")),validateFn:a.partial(b.isType,"fn","function")}});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/counter","ags-dc-promise/lib/pipeline","ags-dc-promise/lib/retry/strategy/max-attempts/lib").register("ags-dc-promise/lib/retry/strategy/max-attempts",function(b,a,c,d){return c(d.validateConfig,function(c){return b.partial(d.getNextDelay,
a(),c.maxAttempts,c.delay)})});g.when("ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/retry/strategy/max-attempts/lib",function(b,a,c){return{getNextDelay:function(a,b,c,g){return a()<b&&500>g.status?c:null},validateConfig:c(a.partial(b.isType,["config","maxAttempts"],"number"),a.partial(b.isType,["config","delay"],"number"))}});g.when("rush-framework","ags-dc-promise/lib/metrics","ags-dc-promise/app/component").execute("register:ags-dc-promise/app/component",
function(b,a,c){a.setCSMMarker("bb");b.registerComponent(c.name,c.attribution,c.controller)})});
/* ******** */
(function(d){var c=window.AmazonUIPageJS||window.P,m=c._namespace||c.attributeErrors,b=m?m("ProductUIAssets@almCartActionAssets",""):c;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,c,m){"use strict";d.when("A","puis-alm-cart-action-query-string-utils").register("puis-afx-atfc-v2-proxy",function(b,e){return{addToFreshCart:function(a){var c=e.addQueryStringParamsToUrl("/alm/addtofreshcart",a.data);b.$.ajax(c,{type:"POST",contentType:"application/json",data:JSON.stringify(a.data)}).done(a.success).fail(a.error)},
showGenericErrorModal:function(a){b.post("/alm/atfcGenericErrorModal/",{timeout:5E3,success:a.success,error:a.error})}}});"use strict";d.when("A").register("puis-afx-get-cart-count",function(b){return function(e){b.get("/alm/addtofreshcart/cartcount",{timeout:5E3,success:function(a){e.success&&e.success({isOK:!0,total:{numActiveItem:a.cartCount}})},error:function(a){e.error&&e.error(a)}})}});"use strict";d.register("puis-afx-csm-metrics-utils",function(){function b(a,b){c.ue&&c.ue.count&&a&&b&&c.ue.count(a,
b)}var e={};return{startWidgetTimer:function(a){e[a]=Date.now()},endWidgetTimer:function(a,c){a=Date.now()-e[a];b(c,a)},setWidgetClickTimestamp:function(a){c.ue&&c.uet&&a&&c.uet("tc",a,{wb:1})},setWidgetTimestamp:function(a,b){c.ue&&c.uet&&a&&b&&c.uet(a,b,{wb:1})},increment:function(a){c.ue&&c.ue.count&&a&&c.ue.count(a,(c.ue.count(a)||0)+1)},setCount:b,sendWidgetMetrics:function(a){c.ue&&c.uex&&a&&c.uex("ld",a,{wb:1})}}});"use strict";d.when("A","jQuery","puis-afx-atfc-v2-proxy","puis-afx-csm-metrics-utils",
"puis-afx-metrics-helper","puis-afx-quantity-helper","puis-fresh-atfc-ewc-helper").register("puis-fresh-atfc-error-modal-utils",function(b,e,a,c,h,k,l){function g(a,b){return a.data.asin&&a.data.storeId&&b.clientResponseModel&&b.clientResponseModel.items&&(b=b.clientResponseModel.items.filter(function(b){return b.ASIN===a.data.asin&&b.storeId===a.data.storeId}),1===b.length&&b[0].hasOwnProperty("amountInCart"))?parseFloat(b[0].amountInCart):0}function f(a,f,e){var k=f.errorModalHtml,d=h.getMetricsForDevice(e);
f.clientResponseModel&&f.clientResponseModel.uberCartStatus&&f.clientResponseModel.uberCartStatus.errorStatusCode in d&&c.increment(d[f.clientResponseModel.uberCartStatus.errorStatusCode]);a.data.qsUID&&(d=g(a,f),null!==d&&b.trigger("quantity-selector-widget:selectQuantity",a.data.qsUID,d,!1));n(a,k,e,f)}function n(a,f,e,c){d.when("a-modal").execute("showModal",function(g){var d;f||m(a);a.data.quantity&&(k.updateQuantity("fresh-clear-slot-button",a.data.quantity),k.updateQuantity("alcohol-warning-fresh-add-to-cart-button",
a.data.quantity));d={name:"fresh-add-to-cart-error-modal",header:f.header,inlineContent:f.errorMessage,footer:f.footer,data:{event:a,response:c}};"desktop"===e&&(d.width=325);g.create(a.$currentTarget,d).show();b.on("a:popover:afterHide:".concat("fresh-add-to-cart-error-modal"),function(b){l.refreshCart(a.data.sessionID);g.remove(b.popover)})})}function m(b,g){a.showGenericErrorModal({success:function(a,d,c){a&&(a=e.parseJSON(c.http.response),f(b,a,g))},error:function(){d.log("Failed to get the generic error modal",
"Error");n(b,{header:"Item was not added to the cart",errorMessage:"We're sorry, there was an error and \x3cb\x3ethis item was not added to your cart.\x3c/b\x3e Please try again.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
g)}})}return{removeModal:function(){d.when("a-modal").execute("removeModal",function(a){var b=a.get("fresh-add-to-cart-error-modal");b&&a.remove(b)})},showModal:n,showGenericErrorModal:m,parseResponseAndShowErrorModal:f}});"use strict";d.when("A","jQuery","puis-afx-atfc-v2-proxy","puis-afx-get-cart-count").register("puis-fresh-atfc-ewc-helper",function(b,e,a,c){function h(a){d.when("nav.setCartCount").execute(function(b){b(a)});d.when("mash").execute(function(b){b.cart&&e.isFunction(b.cart.didUpdate)&&
b.cart.didUpdate({newCartQuantity:a})})}function k(a){c({sessionID:a,success:function(a){a&&a.isOK&&a.total&&(a=a.total.numActiveItem,h(a))},error:function(){d.log("Failed to get cart count","Error",a)}})}var l;d.when("EWC").execute("add-to-cart-refresh",function(a){l=a});d.when("nav.getFlyout").execute(function(a){a("ewc")});return{refreshCart:function(a){l!==m&&e.isFunction(l.refresh)?l.refresh():k(a)}}});"use strict";d.register("puis-afx-metrics-helper",function(){var b={ATFC_COUNT:"afxAddToFreshCartCount",
ALM_MULTI_ATC_COUNT:"almMultiAddToCartCount",ATFC_SUCCESSFUL_ADD_COUNT:"afxAddToFreshCartSuccessfulAddCount",ALM_MULTI_ATC_COUNT_SUCCESS:"almMultiAddToCartCountSuccess",ATFC_ERROR_MODAL_COUNT:"afxAddToFreshCartErrorModalCount",ALM_MULTI_ATC_COUNT_ERROR_MODAL:"almMultiAddToCartCountErrorModal",ATFC_UNEXPECTED_ERROR_COUNT:"afxAddToFreshCartUnexpectedErrorCount",ALM_MULTI_ATC_COUNT_ERROR_UNEXPECTED:"almMultiAddToCartCountErrorUnexpected",ATFC_LATENCY_SCOPE:"afxAddToFreshCartLatencyScope",ATFC_ERROR_MODAL_LATENCY_SCOPE:"afxAddToFreshCartErrorModalLatencyScope",
ATFC_CTCF:"afxAddToFreshCartCTCF",ATFC_STORE_INTRODUCTION_SHEET:"afxStoreIntroductionSheet",ATFC_OCX_STORE_INTRODUCTION_SHEET:"afxOfferComparisonStoreIntroductionSheet",CLEAR_SLOT_ATFC_CTCF:"afxClearSlotAndAddToFreshCartCTFC",CART_SERVICE_RESPONSE_FALSE:"afxCartServiceResponseIsNotOKErrorCount",ITEM_NOT_AVAILABLE:"afxItemNotAvailableErrorModalCount",ITEM_PARTIALLY_AVAILABLE:"afxItemPartiallyAvailableErrorModalCount",ITEM_PARTIALLY_AVAILABLE_FOR_RESERVATION:"afxItemPartiallyAvailableErrorModalCount",
ADDRESS_NOT_SELECTED:"afxAddressNotSelectedErrorCount",INPUT_INVALID:"afxGeneralErrorModalCount",ITEM_NOT_AVAILABLE_FOR_RESERVATION:"afxItemNotAvailableForReservationErrorModalCount",INTERNAL_SERVER_ERROR:"afxGeneralErrorModalCount",PRICE_UNAVAILABLE:"afxItemNotAvailableErrorModalCount",QUANTITY_OVERFLOW:"afxUniqueItemQuantityOverflowErrorModalCount"};return{getMetricsForDevice:function(e){var a={};Object.keys(b).forEach(function(c){a[c]=b[c]+":"+e});return a}}});"use strict";d.register("puis-afx-quantity-helper",
function(){var b={};return{updateQuantity:function(c,a){"undefined"!==typeof c&&null!==c&&!isNaN(a)&&0<a&&(b[c]=a||1)},getQuantity:function(c){c=c.closest(".a-button");return 0<c.length?b[c.attr("id")]||1:1}}});"use strict";d.when("A").register("puis-alm-cart-action-query-string-utils",function(b){function c(a){return a&&a.asin&&"string"===typeof a.asin&&""!==a.asin}function a(a){return a&&a.items&&b.$.isArray(a.items)&&0<a.items.length}function d(h,k){var l=c(h),g=a(h);l?k["discoveredAsins.0"]=h.asin:
g&&(h=b.filter(h.items,function(a){return c(a)}),h=b.map(h,function(a){return a.asin}),b.each(h,function(a,b){k["discoveredAsins."+b.toString()]=a}));return k}return{addQueryStringParamsToUrl:function(a,c){var e={},g;c&&c.reftag&&(g=c.reftag,"string"===typeof g&&""!==g&&(e.ref_=g));var f;if(c&&c.queryLogInfoParams)for(f in g=c.queryLogInfoParams,g)g.hasOwnProperty(f)&&"string"===typeof f&&""!==f&&"string"===typeof g[f]&&""!==g[f]&&(e[f]=g[f]);d(c,e);(c=b.$.param(e))&&"string"===typeof c&&""!==c&&
(a+="?"+c);return a}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ProductUIAssets@badges",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(g){var f=window.AmazonUIPageJS||window.P,l=f._namespace||f.attributeErrors,c=l?l("ProductUIAssets@carousels",""):f;c.guardFatal?c.guardFatal(g)(c,window):c.execute(function(){g(c,window)})})(function(g,f,l){"use strict";g.when("A","a-carousel-framework","a-carousel-strategies","a-carousel-transition-slide").register("s-search-product-image-carousel-transition-strategy",function(c,g,y,z){function p(a){var b=q[a];if(b===l||null===b)b={firstSwipeLatencyMin:6E5},b.firstSwipeLatencyMax=Number.MIN_SAFE_INTEGER,
q[a]=b;return b}function r(a,b){a=p(a);var d=a[b];if(d===l||null===d)d={firstSwipe:!1,startWatchingTime:0},a[b]=d;return d}function t(a,b){a=a.closest(".s-product-carousel-card").find(".s-product-dynamic-image-spinner");b?c.show(a):c.hide(a)}function m(a){a=c.$(a.target);a.unbind("error",m);a.addClass("s-retry-dynamic-image");c.hide(a);t(a,!0)}function n(a){a=c.$(a.target);a.unbind("load",n);a.removeClass("s-retry-dynamic-image");a.error(m);c.show(a);t(a,!1)}function u(a){a.dom.$container.find(".s-carousel-pagination-dots\x3ediv").removeClass("aok-hidden")}
function h(a,b){var d=a.find(".s-product-carousel-card");Math.abs(b)>=d.size()||(b=d.eq(b).find(".a-dynamic-image"),1===b.size()&&(b.hasClass("s-retry-dynamic-image")&&(b.attr("src",b.attr("src")),b.load(n)),b.hasClass("s-dynamic-image-loaded")||(b.addClass("s-dynamic-image-loaded"),"img"===b.prop("tagName").toLowerCase()?c.loadDynamicImage(b):(b.addClass("s-dynamic-image-creation"),c.loadImageManually(b),a=a.find(".s-dynamic-image-creation"),a.removeClass("s-dynamic-image-creation"),b=a),b.error(m),
b.load(n))))}function v(a){var b=a.dom.$container;h(b,0);h(b,1);a.getAttr("circular")&&h(b,-1)}function w(a){var b=a.getAttr("name");a=a.getAttr("metricsPrefix");b=r(a,b);k(a+"ProductsDisplayed",1);b.startWatchingTime=c.now();b.firstSwipe=!1}function x(a){var b=a.carousel,d=b.getAttr("name"),e=b.getAttr("metricsPrefix"),b=b.dom.$container,g=b.find(".s-carousel-pagination-dots li"),f=a.newValue-1;a=p(e);d=r(e,d);g.removeClass("a-selected");g.eq(f).addClass("a-selected");h(b,f);h(b,f+1);h(b,f-1);k(e+
"TotalSwipes",1);d.firstSwipe||(d.firstSwipe=!0,k(e+"ProductsHaveAtLeastOneSwipe",1),d=c.now()-d.startWatchingTime,a.firstSwipeLatencyMin=Math.min(a.firstSwipeLatencyMin,d),6E5>d&&(a.firstSwipeLatencyMax=Math.max(a.firstSwipeLatencyMax,d)),k(e+"FirstSwipeMs",d),k(e+"FirstSwipeMinMs",a.firstSwipeLatencyMin),k(e+"FirstSwipeMaxMs",a.firstSwipeLatencyMax))}var q={},k=f.ue&&f.ue.count||c.$.noop,e=c.extend({},z);e.initCarouselTransitionSlide=e.init;e.init=function(a){var b=a.getAttr("name");v(a);w(a);u(a);
c.on("a:carousel:"+b+":change:pageNumber",function(a){x(a);c.trigger("s-search-product-image-carousel-transition-strategy:carouselPageChanged")});return e.initCarouselTransitionSlide(a)};e.onInitLogMetrics=w;e.onInitLoadImages=v;e.activatePaginationDots=u;e.carouselPageChangeHandler=x;e.loadDynamicHighQualityImage=h;return function(a){var b=y.transition.searchProductImageSlide;if(b)return b;g.registerStrategy("transition","searchProductImageSlide",a);return a}(e)})});
/* ******** */
(function(c){var d=window.AmazonUIPageJS||window.P,e=d._namespace||d.attributeErrors,a=e?e("ProductUIAssets@colorSwatch",""):d;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,d,e){"use strict";c.when("A","rush-framework","s-image-swatch-metric").register("s-color-swatch",function(a,c,e){var d=a.$;c.registerComponent("s-color-swatch","s-color-swatch",function(b){var a;b=d(b.elem()).find(".s-color-swatch-image-swatch-finder");0!==b.length&&(b=b.css("background-image"))&&
-1!==b.indexOf("url")&&(a=b.replace("url(","").replace(")","").replace(/\"/gi,""));a&&e.imageLoad(a)})});"use strict";c.when("rush-metrics-adapter").register("s-image-swatch-metric",function(a){function d(b,a){return function(){try{return b.apply(null,a)}catch(d){c.log(d.message,"ERROR","s-image-swatch-metric")}}}function f(){a.setCount("image-swatch-load-error",e,1)}function g(b){b=Date.now()-b;0<b&&a.setCount("image-swatch-load-time",e,b)}return{imageLoad:function(a){var c=new Image,e=[Date.now()];
c.onerror=f;c.onload=d(g,e);c.src=a},onISImageLoad:g,onISImageError:f}})});
/* ******** */
(function(d){var m=window.AmazonUIPageJS||window.P,n=m._namespace||m.attributeErrors,c=n?n("ProductUIAssets@components",""):m;c.guardFatal?c.guardFatal(d)(c,window):c.execute(function(){d(c,window)})})(function(d,m,n){"use strict";d.when("A","rush-framework","s-asin-actions").register("s-coupon-component",function(c,f,g){f.registerComponent("s-coupon-component","s-coupon-component",function(b){var h=b.prop("asin"),a=c.$(b.elem());b.on(g.COUPON_APPLIED,function(b){b.asin===h&&(a.find(".s-coupon-unclipped").addClass("aok-hidden"),
a.find(".s-coupon-clipped").removeClass("aok-hidden"))})})});"use strict";d.when("A","s-asin-actions","s-status-badge-actions","rush-util","rush-dispatcher").register("s-fresh-add-to-cart-component",function(c,f,g,b,h){function a(e){b.isNotBlank(e)&&(e=k('.s-result-item[data-asin\x3d"'+e+'"]'),e.find(".s-coupon-unclipped").addClass("aok-hidden"),e.find(".s-coupon-clipped").removeClass("aok-hidden"))}function q(e,a,c){a=parseInt(a,10);b.isNotBlank(e)&&b.isNumber(a)&&(h.trigger(f.UPDATE_CART,{asin:e,
quantity:a,amountInCart:c,isTotal:!0}),c=k('.s-result-item[data-asin\x3d"'+e+'"]'),c=c.find(".s-in-cart-badge-position"),0<a?(c.removeClass("aok-hidden"),g.triggers.hideAllExceptType(e,"in-cart")):c.addClass("aok-hidden"))}var k=c.$;d.when("ewc.app").execute("s-fresh-ewc-component",function(a){a.on("ewc:cartUpdate:success",function(a){!a.action||"local-market-delete"!==a.action.name&&"fresh-delete"!==a.action.name||q(a.action.asin,0,"")})});h.on("search-add-to-cart:success",function(e){var h=e.event;
e=e.response;var g=!1,f,l;try{e&&e.isOK&&(l=(f=e.addToCartRequest)?f.asin:"",k.each(e.items,function(a,e){q(e.ASIN,e.quantity,e.amountInCart);b.isNotBlank(l)&&e.ASIN===l&&(g=!0)}),!g&&b.isNotBlank(l)&&q(l,0,""),"CLIP_SUCCESSFUL"!==e.couponClipStatus&&"ALREADY_CLIPPED"!==e.couponClipStatus||a(h.$target.closest(".s-result-item").data().asin),h.data&&h.data.loggingUrl&&c.post(h.data.loggingUrl))}catch(v){d.logError(v,"Error caught in freshATC.addToFreshCart success handler.","ERROR","s-fresh-add-to-cart-component")}});
h.on("search-add-to-cart:error",function(){d.log("Error reported by freshATC.addToFreshCart error handler.","WARN","s-fresh-add-to-cart-component")})});"use strict";d.when("A","rush-framework","rush-util","s-asin-actions").register("s-in-cart-badge-component",function(c,f,g,b){function h(a){a=parseInt(a,10);return isNaN(a)?0:a}f.registerComponent("s-in-cart-badge-component","s-in-cart-badge-component",function(a){var f=a.prop("messageTemplate"),k=a.prop("quantityPlaceholder"),e=a.prop("displayMessage"),
d=c.$(a.elem()),u=a.prop("asin"),t=!0,l=h(a.prop("quantity"));if(g.isBlank(f)||g.isBlank(k))a.log.warn("In Cart Badge component missing data properties for either messageTemplate and/or quantityPlaceholder."),t=!1;a.on(b.UPDATE_CART,function(c){var p;if(c&&u===c.asin&&!0===t)if(p=c.amountInCart,g.isNotBlank(e)&&g.isNotBlank(p))c=d.find(".s-in-cart-badge-position"),c.find(".a-badge-text").text(p),c.removeClass("aok-hidden"),d.trigger(b.IN_CART_BADGE_SHOWN);else{var m,n=h(c.quantity);!0!==c.isTotal&&
0===n?a.log.warn(Error("Invalid In Cart Badge payload quantity.")):(p=d.find(".s-in-cart-badge-position"),m=p.find(".a-badge-text"),l=!0===c.isTotal?n:l+n,m.text(f.replace(k,l)),p.removeClass("aok-hidden"),d.trigger(b.IN_CART_BADGE_SHOWN))}})})});"use strict";d.when("A","rush-framework","s-add-to-cart-controller","a-button").register("s-add-to-cart-button-component",function(c,f,g,b){var h=g.ACTIONS;f.registerComponent("s-add-to-cart-button-component","s-add-to-cart-button-component",function(a){function f(a){g.isDisabledUuid(d)?
(m.addClass("aok-hidden"),r.disable()):a?(m.removeClass("aok-hidden"),r.disable()):(m.addClass("aok-hidden"),r.enable())}var d=a.prop("uuid"),e=c.$(a.elem()),r=b(e.find(".puis-atc-button")),m=e.find(".s-atc-spinner"),n=e.find(".s-atc-error-message"),l=e.find(".s-atc-error-message-text");a.on(h.ADD_TO_CART_SUBMIT_START,function(a){a.submitterUuid===d&&(n.addClass("aok-hidden"),l.text(""),f(!0))});a.on(h.ADD_TO_CART_SUBMIT_SUCCESS,function(){f(!1)});a.on(h.ADD_TO_CART_SUBMIT_ERROR,function(c){var b;
if(c.submitterUuid===d){a:{if((c=c&&c.xhr)&&c.responseText)try{b=JSON.parse(c&&c.responseText)}catch(e){a.log.error(e,"Error parsing add to cart error JSON")}if((b=b&&b.entity&&b.entity.items)&&1===b.length&&(b=b[0]&&b[0].responseMessage&&b[0].responseMessage.summary,"string"===typeof b))break a;b=void 0}b&&(l.text(b),n.removeClass("aok-hidden"));f(!1)}});f(g.isSubmitting(d)&&g.isCurrentAtc(d))})});"use strict";d.when("A","rush-framework","dynamic-image-loader").register("s-product-image",function(c,
f,d){var b=c.$;f.registerComponent("s-product-image","s-product-image",function(c){var a=d.loadChildren([c.elem()]);c.teardown=function(){a&&b.isFunction(a.close)&&a.close()}})});"use strict";d.when("A","rush-framework","rush-util","s-status-badge-actions").register("s-status-badge-component",function(c,d,g,b){d.registerComponent("s-status-badge-component","s-status-badge-component",function(d){function a(b){b.check(d.prop("badgeType"))&&(b.show?f.removeClass("aok-hidden"):f.addClass("aok-hidden"))}
var f=c.$(d.elem()),k=d.prop("asin");if(g.isNotBlank(k))d.on(b.listeners.toggleBadges(k),a)})});d.when("jQuery","rush-framework","a-truncate").register("s-truncate",function(c,d,g){d.registerComponent("s-truncate","s-truncate",function(b){b=c(b.elem());b=b.is(".a-truncate")?b:b.find(".a-truncate");0===b.length||b.is(":hidden")||b.is('[data-a-manual-update\x3d"true"]')||(b=g.get(b),b.getIsUpdated()||b.update())})});"use strict";d.when("A","rush-framework","rush-util","s-visibility-toggle-actions").register("s-visibility-toggle-component",
function(c,d,g,b){d.registerComponent("s-visibility-toggle-component","s-visibility-toggle-component",function(d){function a(a){a=b.shouldShowComponent(k,a,d);!0===a?e.find(".s-visibility-toggle-container").removeClass("aok-hidden"):!1===a&&e.find(".s-visibility-toggle-container").addClass("aok-hidden")}var f=d.prop("containerId"),k=d.prop("contentType"),e=c.$(d.elem());if(g.isNotBlank(f)&&g.isNotBlank(k))d.on(b.listener(k,f),a)})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ProductUIAssets@consumablesATCActionAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){"use strict";"use strict";"use strict";"use strict"});
/* ******** */
(function(f){var e=window.AmazonUIPageJS||window.P,n=e._namespace||e.attributeErrors,d=n?n("ProductUIAssets@controllers",""):e;d.guardFatal?d.guardFatal(f)(d,window):d.execute(function(){f(d,window)})})(function(f,e,n){"use strict";f.when("A","rush-dispatcher","s-asin-actions","s-status-badge-actions","3p-promise","rush-util","s-csm-utils").register("s-add-to-cart-controller",function(d,t,y,C,g,k,b){function z(){p&&p.count&&p.count("StandardAddToCart.CartApiResponseError",(p.count("StandardAddToCart.CartApiResponseError")||
0)+1)}function D(c){e.$Nav&&e.$Nav.when("api.setCartCount").run(function(a){a(c)});f.when("mash").execute("s-add-to-cart-mash-update",function(a){a.cart&&w(a.cart.didUpdate)&&a.cart.didUpdate({newCartQuantity:parseInt(c,10)})})}function E(c){c&&d.post(c)}function A(c,a){a="StandardAddToCart."+a;c=b.getSourceTemplateName(c);k.isNotBlank(c)&&(c=a+"."+c,b.count(c,(b.count(c)||0)+1));b.count(a,(b.count(a)||0)+1)}function F(c){var a={};c.locale&&(a["Accept-Language"]=c.locale);c.acceptHttpHeader&&(a.Accept=
c.acceptHttpHeader);c.csrfToken&&(a["x-api-csrf-token"]=c.csrfToken);c.contentType&&(a["Content-Type"]=c.contentType);return a}function G(c,a,b){if(!b.csrfToken)return a;c={items:[{asin:c,offerListingId:a.offerListingID,quantity:a.quantity,additionalParameters:JSON.parse(a.additionalParameters||"{}")}]};return JSON.stringify(c)}function H(c,a,b,f,h,m){var e=a.cartType;r||(r=!0,q=a.key,h.quantity=parseInt(h.quantity,10)||1,h.nextPage="cartitems",a.ajaxUrl&&d.$.ajax(a.ajaxUrl,{type:"POST",data:G(f,
h,a),dataType:"json",cache:!1,headers:F(a),xhrFields:{withCredentials:!0},success:function(l){var f=0,g="PANTRY"===e?h.a:h.ASIN,u=!1,k="",u=l.entity,p;p=l&&l.entity&&l.entity.items&&0!==l.entity.items.length?!0:!1;p?(d.each(u.items,function(a){k=String(a.quantity);f+=parseInt(a.quantity,10)}),u=!0,f=0!==f?f:h.quantity,r=!1,t.trigger(v.ADD_TO_CART_SUBMIT_SUCCESS,{submitterUuid:q,asin:g,form:b,offerListingID:h.offerListingID}),t.trigger(y.UPDATE_CART,{asin:g,quantity:f,amountInCart:k,isTotal:u}),C.triggers.hideAllExceptType(g,
"in-cart"),q=null,"PANTRY"===e&&t.trigger(y.COUPON_APPLIED,{asin:g}),l.entity.count&&l.entity.count.entity&&l.entity.count.entity.items!==n?D(parseInt(l.entity.count.entity.items,10)):z(),E(a.spUrl),A(c.$target,"Success"),d.trigger("s-add-to-cart-button-component:add-to-cart-success",l),w(m)&&m()):(z(),r=!1)},error:function(a,c,b){I.hasOwnProperty(a.status)&&(x[q]=!0);t.trigger(v.ADD_TO_CART_SUBMIT_ERROR,{submitterUuid:q,xhr:a,status:c,err:b});r=!1;q=null;w(m)&&m()}}))}var v={ADD_TO_CART_SUBMIT_START:"s-add-to-cart-controller:submit-start",
ADD_TO_CART_SUBMIT_SUCCESS:"s-add-to-cart-controller:submit-success",ADD_TO_CART_SUBMIT_ERROR:"s-add-to-cart-controller:submit-error"},w=d.$.isFunction,p=e.ue,x={},I={403:"Forbidden",422:"Unprocessable Entity"},B=g.resolve(),r=!1,q=null;d.declarative("s-add-to-cart-controller:make-request","click",function(c){var a=c||{},b=a&&a.data||{},e=a.$target&&a.$target.closest(".s-atc-form"),h=null,m={};a.$event&&a.$event.preventDefault();!0!==x[b.key]&&(e&&0!==e.length?(d.each(e.serializeArray(),function(a){m[a.name]=
a.value}),h="PANTRY"===b.cartType?m.a:m.ASIN,t.trigger(v.ADD_TO_CART_SUBMIT_START,{submitterUuid:b.key,asin:h,form:e}),A(a.$target,"Calls"),B=B.then(function(){return new g(function(c){H(a,b,e,h,m,c)})})):f.log("Missing $form object","ERROR","s-add-to-cart-controller"))});return{ACTIONS:v,isSubmitting:function(){return r},isCurrentAtc:function(b){return b===q},isDisabledUuid:function(b){return!0===x[b]}}});"use strict";f.when("A","rush-dispatcher","s-asin-actions","s-visibility-toggle-actions","quantity-slider-widget").register("s-quantity-slider-controller",
function(d,e,f,n,g){function k(b){var d=b.asin,g=b.cartType,k=b.request||{};b=b.response||{};e.trigger(f.UPDATE_CART,{asin:d,quantity:b.quantity,isTotal:b.isTotal});n.triggers.toggleLowStockMessage(d,{quantity:b.quantity,maxOrderQuantity:k.maxOrderQuantity});n.triggers.toggleQuantityLimitMessage(d,{quantity:b.quantity,maxOrderQuantity:k.maxOrderQuantity});"PANTRY"===g&&e.trigger(f.COUPON_APPLIED,{asin:d})}g.setAttribution("s-quantity-slider-controller");d.on(g.ACTIONS.ADD_TO_CART_SUBMIT_SUCCESS,function(b){k(b);
b.request&&b.request.$form&&e.trigger("s-add-to-cart-controller:submit-success",{asin:b.asin,form:b.request.$form});d.trigger("s-add-to-cart-button-component:add-to-cart-success",{asin:b.asin,quantity:b.response&&b.response.quantity,cartType:b.cartType})});d.on(g.ACTIONS.REMOVE_FROM_CART_SUBMIT_SUCCESS,function(b){k(b)})})});
/* ******** */
(function(k){var h=window.AmazonUIPageJS||window.P,l=h._namespace||h.attributeErrors,a=l?l("ProductUIAssets@core",""):h;a.guardFatal?a.guardFatal(k)(a,window):a.execute(function(){k(a,window)})})(function(k,h,l){"use strict";k.when("3p-promise").register("puis-ajax",function(a){return{fetchProducts:function(c,d){return new a(function(b,a){k.now("s-web-application-controller").execute("puis-fetch-products-polyfill",function(e){e?e.requestPartialContent(c,d).then(b,a):a()})})}}});k.now().register("puis-console-logger",
function(){var a,c;return{log:a=c=function(){},warn:a,error:c}});k.when("puis-console-logger").register("puis-error-logger",function(a){function c(b,f,e,g){f={message:f,logLevel:e,attribution:g};a.log(f);if(b)switch(e){case "FATAL":case "ERROR":a.error(b);break;case "WARN":a.warn(b);break;default:a.log(b)}h.ueLogError&&h.ueLogError(b,f)}var d={fatal:function(b,a,e){c(b,a,"FATAL",e)},error:function(b,a,e){c(b,a,"ERROR",e)},warn:function(b,a,e){c(b,a,"WARN",e)},logError:function(a,c,e){d.fatal(e,c,
a)},getErrorMessage:function(a){try{return a instanceof Error?a.message:JSON.stringify(a)}catch(c){return"could not get the error message"}},logErrorWrapper:function(a,c,e,g){return function(){try{return a.apply(c,arguments)}catch(m){g||(g=d.getErrorMessage(m)),d.fatal(m,g,e)}}}};return d});k.when("puis-error-logger").register("puis-attributed-error-logger",function(a){return{create:function(c){return{getErrorMessage:a.getErrorMessage,fatal:function(d,b){a.fatal(d,b,c)},error:function(d,b){a.error(d,
b,c)},warn:function(d,b){a.warn(d,b,c)},logErrorWrapper:function(d,b,f){return a.logErrorWrapper(d,b,c,f)}}}}});"use strict";k.when("puis-metrics-adapter","A").register("puis-metrics",function(a,c){var d={wb:1},b=0,f;f=c.createClass({_metricsAdapter:l,_isPublished:!1,_scope:l,init:function(e,g){this._scope=(e||"puis").substring(0,26)+b++;this._metricsAdapter=g||a},getMetricsAdapter:function(){return this._metricsAdapter},isPublished:function(){return this._isPublished},validateIsNotPublished:function(){return this.isPublished()?
!1:!0},setTimer:function(e,a,b){this.validateIsNotPublished()?this.getMetricsAdapter().setTimer(e,this._scope,a,b):this.getMetricsAdapter().incrementCount("puis-metrics-published-"+e);return this},setValue:function(e,a){this.validateIsNotPublished()&&this.getMetricsAdapter().setValue(e,this._scope,a);return this},setCount:function(a,g){this.validateIsNotPublished()&&this.getMetricsAdapter().setCount(a,this._scope,g);return this},loadComplete:function(a){this.validateIsNotPublished()&&(this.getMetricsAdapter().publish("ld",
this._scope,a),this._isPublished=!0)}}).extend({init:function(a,g){this._super(a,g);this.bodyBegin()},setTimer:function(a,g,b){g=g||d;return this._super(a,g,b)},bodyBegin:function(){return this.setTimer("bb")},criticalFeatureComplete:function(a){return this.setTimer("cf",l,a)},loadComplete:function(a){a=a||d;this._super(a)}});return{newWidgetScope:function(a,b){return new f(a,b)}}});"use strict";k.register("puis-metrics-adapter",function(){function a(){}var c,d,b,f;c=h.uet||a;d=h.ues||a;b=h.ue&&h.ue.count||
a;f=h.uex||a;return{setTimer:function(a,b,d,f){c(a,b,d,f)},setValue:function(a,b,c){d(a,b,c)},setCount:function(a,c,d,f){f=f?f:{};c&&(f.scope=c);b(a,d,f)},incrementCount:function(a,c,d){d=d?d:{};c&&(d.scope=c);c=(b(a,l,d)||0)+1;b(a,c,d)},publish:function(a,b,c){f(a,b,c)}}})});
/* ******** */
(function(d){var e=window.AmazonUIPageJS||window.P,h=e._namespace||e.attributeErrors,b=h?h("ProductUIAssets@declaratives",""):e;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,e,h){d.when("A","R","puis-util","s-web-application-controller","puis-ajax","puis-url-parameters","s-csm-utils").execute(function(b,c,a,g,l,m,f){function d(a){k(a)||c.to({url:a})}var k=a.isBlank,r=a.isNotBlank,e=f.getSourceTemplateName;b.declarative("s-ajax-link","click",function(a){var b=
a.$event,c=a.data,q=a.$target;a=c.url;var n;k(c.url)&&k(c.fallbackUrl)||(n=q.closest("[data-uuid]").attr("data-uuid"),b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault(),k(c.url)||k(n)?d(c.fallbackUrl):(b=e(q),r(b)&&(a=m.addParamToUrl(a,g.PARAMS.SOURCE_WIDGET_TEMPLATE,b)),l.fetchProducts(a,{suffix:":"+n,assetMismatch:c.assetMismatch,fallbackUrl:c.fallbackUrl,singleProductDisplay:c.singleProductDisplay,doNotFailOnEmptyChunk:c.doNotFailOnEmptyChunk})["catch"](function(){d(c.fallbackUrl)})))})});
"use strict";"use strict";d.when("A").execute(function(b){b.declarative("post-button-action","submit",function(c){function a(a){var b=e.ue&&e.ue.count||function(){};""!==a&&b(a,(b(a)||0)+1)}var b=c&&c.data&&c.data.metricName||"",d=b&&b+"_Logging";c&&c.data&&c.data.loggingUrl&&(fetch&&fetch(c.data.loggingUrl,{method:"GET",keepalive:!0}),a(d));a(b)})});"use strict";d.when("A","R").execute("puis-mobile-product-link-declarative-action",function(b,c){function a(a){c.to({url:a})}var g,l=["watch.amazon.",
"app.primevideo."],m=/[?&]ru=([^&]*)/,f=[["/detail","aiv://aiv/view"],["/watch","aiv://aiv/play"],["/home","aiv://aiv/home"]],h=b.capabilities.ios;g=a;d.when("mash","puis-error-logger").execute("s-mobile-link-mash-launchIntentURL",function(b,c){function d(a){b.openInExternalBrowser({url:a,failCallback:function(b){c.error(b,"MASH Open in external browser for "+a+" failed","s-mobile-link")}})}function p(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){};b.open("GET",a,!0);b.send()}function t(a){var b;
if(!a.includes("/gp/video/ssoredirect"))return a;0===a.indexOf("http://")||0===a.indexOf("https://")?p(a):(b=e.location,p(b.protocol+"//"+b.host+"/"+a));return(b=m.exec(a))?decodeURIComponent(b[1]):a}function u(a){var b,c,d;for(c=0;c<l.length;c+=1)for(d=0;d<f.length;d+=1)b="https://"+l[c]+"[^/]+"+f[d][0],a=a.replace(new RegExp(b),f[d][1]);return a}g=function(c,g){var f;"true"===g&&-1===c.indexOf("/music/")?(c=f=t(c),h&&(c=u(c)),b.launchIntentURL({url:c,failCallback:function(){d(f)}})):a(c)}});b.declarative("puis-link",
"click",function(a){var b=a&&a.$event||{};a=a&&a.data;b.stopPropagation&&b.stopPropagation();b.preventDefault&&b.preventDefault();a&&a.url&&g(a.url,a.isIntentURL)})});"use strict";d.when("A","s-safe-modal").register("s-safe-ajax-modal-declarative",function(b,c){b.declarative("s-safe-ajax-modal-trigger","click",function(a){var b=a&&a.$event,d=a&&a.data&&a.data.ajaxUrl,e=a&&a.data&&a.data.header;b&&d&&(b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault(),c.whenSingleton(function(a){a.setAutoResize(!0);
e&&a.modal.attrs("header",e);a.modal.show();a.setUrl(d)}))})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ProductUIAssets@dynamicComparisonAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(e){var d=window.AmazonUIPageJS||window.P,h=d._namespace||d.attributeErrors,b=h?h("ProductUIAssets@energyEfficiencyRating",""):d;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,d,h){"use strict";e.when("A").execute(function(b){function d(a){var b=/_SY(\d+)_/;a=a.map(function(a,f){return(a=f.getAttribute("data-a-image-source").match(b))?a[1]:Number.MAX_VALUE}).toArray();a=Math.min.apply(Math,a);return a!==Number.MAX_VALUE?a:0}function h(a){var b=a.parent(),
c=b.parent(),f=c.find(".s-energy-efficiency-spinner-container"),c=c.find(".s-energy-efficiency-error-container");a=d(a);b.css("min-height",a+"px");c.css("min-height",a+"px");f.css("min-height",a+"px")}function l(a,g){a={$target:a.getContent().find('[data-a-tab-name\x3d"'+g+'"]'),data:{name:"energyEfficiencyTabSet"},$event:{preventDefault:b.$.noop,stopPropagation:b.$.noop}};b.trigger("a:declarative:a-tabs:click",a)}function k(a,g){var c=a&&a.$event,f=a&&a.data||{},e=f.activeTabName,d=f.name;c&&c.preventDefault&&
c.preventDefault();c&&c.stopPropagation&&c.stopPropagation();c=g.get(d);c||(b.one("a:popover:beforeShow:"+d,function(a){a=a.popover.getContent();var c=a.find(".s-energy-efficiency-image-container .s-image");h(c);a.find(".s-energy-efficiency-tab-content").each(function(a,c){var d=b.$(c).find(".s-energy-efficiency-image-container .s-image").first(),e=b.$(c).find(".s-energy-efficiency-spinner-container").first(),g=b.$(c).find(".s-energy-efficiency-error-container").first();b.loadImageManually(d);d=b.$(c).find(".s-energy-efficiency-image-container .s-image").first();
d.error(function(){d.data("retry-failed",!0);e.addClass("aok-hidden");g.removeClass("aok-hidden")});d.load(function(){e.addClass("aok-hidden");d.parent().removeClass("aok-hidden")})})}),b.on("a:popover:beforeShow:"+d,function(a){a.popover.getContent().find(".s-energy-efficiency-tab-content").each(function(a,c){var d=b.$(c);a=d.find(".s-energy-efficiency-image-container .s-image").first();c=d.find(".s-energy-efficiency-spinner-container").first();d=d.find(".s-energy-efficiency-error-container").first();
a.data("retry-failed")&&(a.parent().addClass("aok-hidden"),c.removeClass("aok-hidden"),a.data("retry-failed",!1),d.addClass("aok-hidden"),a.attr("src",a.attr("src")))})}),c=g.create(a.$target,f));c.show();l(c,e)}e.when("a-secondary-view").execute(function(a){b.declarative("s-energy-efficiency-secondary-view","click",function(b){k(b,a)})});e.when("a-modal").execute(function(a){b.declarative("s-energy-efficiency-modal","click",function(b){k(b,a)})})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ProductUIAssets@ffob",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ProductUIAssets@mediaGallery",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(m){var l=window.AmazonUIPageJS||window.P,p=l._namespace||l.attributeErrors,c=p?p("ProductUIAssets@moreLikeThis",""):l;c.guardFatal?c.guardFatal(m)(c,window):c.execute(function(){m(c,window)})})(function(m,l,p){"use strict";m.when("A","jQuery","mlt-metrics","mlt-side-sheet-helper","R","rush-dispatcher","rush-util","s-web-application-controller","s-actions","ready").register("s-more-like-this-side-sheet-action-declarative-action",function(c,d,e,g,f,a,b,u,n){function h(){r.find(".mlt-spinner-center").removeClass("aok-hidden")}
function l(){r.find(".mlt-spinner-center").addClass("aok-hidden")}function x(a){var b=d("#mlt-side-sheet-container-"+a).find(".mlt-content-container");if(0===b.contents().length||0===b.find(".s-asin").length)v&&v(),u.requestPartialContent(w.url,{assetMismatch:w.assetMismatch,fallbackUrl:w.fallbackUrl,suffix:"mltSheet-"+a})["catch"](function(){var a=w.fallbackUrl;y(a)||f.to({url:a})})}function q(b,h){var c=h.find(".mlt-content-container");d.isFunction(uet)&&uet("cf",e.csm.shownTime,{wb:1});v=a.on(n.RESULT_ITEM_READY+
"mltSheet-"+b,function(a){c.append(a.item.html).ready(e.logMetrics(c));c.find("a[href*\x3d'/dp/']").attr("target","_blank")});m.when("A","a-carousel-framework").execute(function(a,b){c.parent().parent(".mlt-side-sheet-content").scroll(function(){b.initializeAll()})})}function p(a){var b=d("#mlt-side-sheet-container-"+a.sheetId).find("#"+a.sheetId);r=b;q(a.sheetId,b)}function z(a){c.hide(d("#mlt-side-sheet-container-"+a.sheetId).find("#"+a.sheetId));d.isFunction(uex)&&uex("ld",e.csm.shownTime,{wb:1})}
var r,y=b.isBlank,w,t,v;a.on(u.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,function(){c.trigger("a:image:lazyLoad")});c.declarative("s-more-like-this-sheet","click",function(b){var u=b.$currentTarget.closest(".more-like-this-container").data(),f=b.$event.target.closest(".more-like-this-container"),k=d(f).data().mltSheetId,m=d(f).data().mltVersionId,q="#"+k+" .mlt-image-preview .a-manually-loaded",v=e.selectMetricKeys(f);e.setCsmDataSource(u);e.logEvent(e.metrics.ASIN_CLICKED,v);w=b&&b.data||{};t=b&&b.$event;
0<d("#mlt-side-sheet-container-"+k).length?(r=d("#mlt-side-sheet-container-"+k).find("#"+k),g.showSideSheet(k),x(k)):(r=d(f).siblings("#"+k),g.createSideSheetContainer(k,m),a.on(n.LOAD_SEARCH_PAGE+"mltSheet-"+k,h),a.on(n.LOAD_SEARCH_PAGE_COMPLETE+"mltSheet-"+k,l),g.showNewSideSheet(k),x(k),c.declarative("s-more-like-this-sheet-hide:"+k,"click",function(){g.hideSideSheet(k);l();e.logEvent(e.metrics.BACK_SELECTED,v)}),c.on("mlt-side-sheet:afterShow:"+k,p),c.on("mlt-side-sheet:afterHide:"+k,z),d("#mlt-side-sheet-container-"+
k).find("#mlt-side-sheet-content").append(r));c.loadImageManually(d("#mlt-side-sheet-container-"+k).find(q));t&&t.stopPropagation&&t.stopPropagation();t&&t.preventDefault&&t.preventDefault();c.show(r)})});"use strict";m.when("A","jQuery","puis-version-util").register("mlt-side-sheet-helper",function(c,d,e){function g(b,u){var e=d("#mlt-side-sheet-container-"+b),h=e.find("#mlt-side-sheet-background"),e=e.find("#mlt-side-sheet-section");a.addClass("mlt-lock-background");c.show(h);c.animate(e,{right:"0px"},
u,"ease-out",function(){c.trigger("mlt-side-sheet:afterShow:"+b,{sheetId:b})})}function f(b){var e=d("#mlt-side-sheet-container-"+b),g=e.find("#mlt-side-sheet-background"),e=e.find("#mlt-side-sheet-section");c.animate(e,{right:"-658px"},300,"ease-out",function(){c.hide(g);a.removeClass("mlt-lock-background");c.trigger("mlt-side-sheet:afterHide:"+b,{sheetId:b})})}var a=d("body");return{createSideSheetContainer:function(b,c){var g="mlt-side-sheet-container-"+b,h=d(document.createElement("div"));h.attr("id",
g);h.addClass("a-section a-spacing-none aok-float-right");c=c!==p?'data-version-id\x3d"'+c+'"':"";h.append('\x3cdiv id\x3d"mlt-side-sheet-section" class\x3d"a-section a-spacing-none mlt-side-sheet-section"\x3e\x3cspan class\x3d"a-declarative" '+c+' data-action\x3d"s-more-like-this-sheet-hide:'+b+'"\x3e\x3cimg alt\x3d"" src\x3d"https://m.media-amazon.com/images/G/01/shopbylook/MLT/closex.svg" class\x3d"mlt-side-sheet-close-icon"\x3e\x3c/span\x3e\x3cdiv id\x3d"mlt-side-sheet-content" class\x3d"a-section a-spacing-none mlt-side-sheet-content aok-relative"\x3e\x3c/div\x3e\x3c/div\x3e');
h.append('\x3cspan class\x3d"a-declarative" '+c+' data-action\x3d"s-more-like-this-sheet-hide:'+b+'"\x3e\x3cdiv id\x3d"mlt-side-sheet-background" class\x3d"a-section mlt-side-sheet-background"\x3e\x3c/div\x3e\x3c/span\x3e');e.applyVersionClassName(h);a.append(h)},showSideSheet:function(a){g(a,300)},showNewSideSheet:function(a){setTimeout(function(){g(a,270)},30)},hideSideSheet:function(a){f(a)}}});"use strict";m.when("jQuery","3p-promise").register("mlt-metrics",function(c){function d(a,b){function c(){var e=
{marketplaceId:ue.mid,clickstreamRequestId:ue.rid,amazonSessionId:ue.sid,timestamp:(new Date).toISOString(),pageType:"ScanIt",subPageType:"MLT",pageAction:a,vsMetricsMap:b};l.ue&&ue.count&&(ue.count(f.prefix+b.category+a,1),ue.count(f.prefix+a,1));l.ue&&ue.event&&ue.event(e,"a9vs-web-user","a9vsmetrics.MLTMetrics.1",{ssd:!0})}function e(){var a=0;return new Promise(function(b){(function q(){if(l.ue&&ue.mid&&ue.rid&&ue.sid)return b();a+=1;if(10<a)return b();setTimeout(q,1E3)})()})}l.ue&&ue.mid&&ue.rid&&
ue.sid?c():e().then(function(){c()})}var e,g={ASIN_CLICKED:"SearchMltAsinClicked",BACK_SELECTED:"BackSelected",RESULTS_CLICKED:"ResultsClicked",RESULTS_SCROLLED:"ResultsScrolled",SHEET_SHOWN_TIME:"BSheetDisplayedTime",SHEET_SHOWN_TIME_MIRAI:"MiraiBSheetDisplayedTime",SHEET_SHOWN_TIME_MIRAI_SIMS:"MiraiSimsBSheetDisplayedTime",SHEET_SHOWN_TIME_IN_SUBS:"INSubsBSheetDisplayedTime"},f={shownTime:g.SHEET_SHOWN_TIME,prefix:"MLT"};return{csm:f,logEvent:d,logMetrics:function(a){var b=c(a).find(".s-asin");
a=c(a).closest(".mlt-side-sheet-content");for(var f=0,n=p,f=0;f<b.length;f++)n=c(b[f]),n.unbind("click.mlt"),n.bind("click.mlt",function(a){a=c(a.target.closest(".s-asin"));a={asin:a.attr("data-asin"),position:a.attr("data-index")};d(g.RESULTS_CLICKED,Object.assign(e,a))});a.unbind("scroll.mlt");a.one("scroll.mlt",function(a){a=Object.assign({scrollPosition:Math.ceil(a.target.scrollTop/390).toString()},e);d(g.RESULTS_SCROLLED,a)})},selectMetricKeys:function(a){a=c(a);var b=a.data()||{};return e=a=
{ingressType:"mlt",searchQueryId:a.attr("data-searchqueryid")||"unknown",category:b.category||"unknown",asin:b.asin||"unknown",refmarker:b.refmarker||"mlt_sr_dp",similarType:b.similarType||"STYLE_SNAP_WEB"}},setCsmDataSource:function(a){var b=a&&"MIRAI_DISCOVER"===a.mltSimilarType,c=a&&"MIRAI_SIMS"===a.mltSimilarType;a=a&&("UNKNOWN"===a.mltSimilarType||"IN_SUBS_MLT"===a.mltSimilarType);var e=b?g.SHEET_SHOWN_TIME_MIRAI:g.SHEET_SHOWN_TIME_MIRAI_SIMS,d=a?g.SHEET_SHOWN_TIME_IN_SUBS:g.SHEET_SHOWN_TIME;
f.prefix=b||c?b?"SBL_MLT_M":"SBL_MLT_SIMS_M":a?"MLT_IN_SUBS":"MLT";f.shownTime=b||c?e:d},metrics:g}});"use strict";m.register("mlt-sheet-container-helper",function(){function c(c,d){Object.keys(d).forEach(function(f){c.setAttribute(f,d[f])})}function d(c,d){d.forEach(function(d){c.classList.add(d)})}return{createSheetContainer:function(e,g,f,a,b){var l=new DocumentFragment,n=document.createElement("div");c(n,{id:g,"data-asin":e});d(n,["more-like-this-results-container","aok-hidden"]);g=document.createElement("div");
c(g,{id:"mlt_spinner_"+e});d(g,["a-spinner-wrapper","mlt-spinner-center","aok-hidden"]);e=document.createElement("span");d(e,["a-spinner","a-spinner-medium"]);g.append(e);e=document.createElement("div");d(e,["a-section","mlt-sheet-header"]);var h=document.createElement("div");d(h,["a-section","mlt-image-preview"]);var m=document.createElement("span");d(m,["faceout-image-view"]);var p=document.createElement("div");d(p,["a-image-wrapper","s-image"]);var q=document.createElement("img");c(q,{alt:a,src:f});
p.append(q);h.append(m,p);f=document.createElement("div");d(f,["a-section","mlt-sheet-title"]);a=document.createElement("span");d(a,["a-size-base","a-text-bold"]);a.textContent=b;f.append(a);b=document.createElement("hr");d(b,["a-spacing-micro","a-divider-normal","mlt-sheet-divider"]);a=document.createElement("hr");d(a,["a-spacing-micro","a-divider-normal","mlt-sheet-divider"]);c(a,{"aria-hidden":"true"});b.append(a);e.append(h,f);h=document.createElement("div");d(h,["a-section","sg-row","s-result-list",
"s-search-results","mlt-content-container"]);n.append(g,e,b,h);l.append(n);return l}}})});
/* ******** */
(function(t){var g=window.AmazonUIPageJS||window.P,A=g._namespace||g.attributeErrors,p=A?A("ProductUIAssets@pinchToZoom",""):g;p.guardFatal?p.guardFatal(t)(p,window):p.execute(function(){t(p,window)})})(function(t,g,A){"use strict";t.when("A","rush-metrics-adapter","puis-version-util").register("s-pinch-animation",function(p,G,B){function v(c,b,d){return c+(b-c)*d}function k(c,b){var d=q(document.createElement("div"));d.attr("id",c);d.addClass(b);return d}function r(){"CLOSED"!==w&&x&&c&&(x.remove(),
c.remove(),w="CLOSED");l=0}function y(c,b){var d=0,e=0,a,f;if(Math.hypot)return Math.hypot(c,b);for(a=0;a<arguments.length;a+=1)f=Math.abs(Number(arguments[a])),f>d&&(e*=d/f*(d/f),d=f),e+=0===f&&0===d?0:f/d*(f/d);return d===1/0?1/0:d*Math.sqrt(e)}var w="CLOSED",z="INITIAL_STATE_NO_ZOOM",u="rtl"===document.documentElement.getAttribute("dir")?"right":"left",q=p.$,n,b,e,c,x,l=0;return{start:function(h,m,d){var l,a,f=h.left+"px";w="STARTED";try{n=h;var C,F;if(0===q("#pinchToZoomContainer").length){var g=
new Image;g.className="s-pinch-container-commons s-pinch-animation-image";g.src=m;C=k("pinchToZoomContainer","s-pinch-animation-container s-pinch-image-container aok-hidden");F=k("pinchToZoomWrapper","s-pinch-container-commons s-pinch-image-wrapper");F.append(g);C.append(F);B.applyVersionClassName(C);q("body").append(C)}c=C;var D;0===q("pinchToZoomOverlay").length&&(D=k("pinchToZoomOverlay","s-pinch-animation-overlay aok-hidden"),B.applyVersionClassName(D),q("body").append(D));x=D;l=q("#"+d).find(".s-pinch-dp-link-container").clone();
a=k("pinchToZoomInitialContainer","a-section s-pinch-container-commons");a.append(l);a.css("visibility","hidden");B.applyVersionClassName(a);q("body").append(a);b=l.height();a.remove();e=y(h.left-h.right,h.top-h.bottom);c.css({display:"none",top:h.top+"px",bottom:h.bottom+"px",backgroundSize:"cover"});c.css(u,f);"right"===u&&G.setCount("pinch-to-zoom-rtl-animation",A,1)}catch(p){t.log(p.message,"ERROR","s-pinch-animation"),r()}},close:r,paint:function(h){var m=1;try{if("CLOSED"!==w&&(e&&(m=Math.min(h/
e,1)),z=m>=l?"ZOOMING_IN":"ZOOMING_OUT",.01<=m&&.01<=Math.abs(m-l))){h=m;var d,k,a=v(n.left,0,h);g.screen?(d=g.screen.width||q(g).width(),k=g.innerHeight-b,c.css({width:v(n.right-n.left,d,h),height:v(n.bottom-n.top,k,h),top:v(n.top,0,h),display:"block"}),c.css(u,a),c.hasClass("aok-hidden")&&c.removeClass("aok-hidden"),x.hasClass("aok-hidden")&&x.removeClass("aok-hidden"),w="PAINTING"):r();l=m}}catch(f){t.log(f.message,"ERROR","s-pinch-animation"),r()}},isZoomingOut:function(){return"ZOOMING_OUT"===
z}}});"use strict";t.when("A","a-secondary-view","rush-metrics-adapter","a-carousel-framework","s-pinch-immersive-image").register("s-pinch-carousel-helper",function(p,t,B,v,k){function r(b){return"a:carousel:"+b+":change:pageNumber"}function y(b,e){e&&e.length>=b&&(e.removeClass("a-selected"),e.eq(b-1).addClass("a-selected"))}function w(b,e){p.on(r(b),function(c){var b;if((b=t.get(e))&&c&&c.oldValue!==c.newValue){var l=c.oldValue+"-"+c.newValue,h=c.oldValue!==c.newValue,m=g.ue&&g.ue.count;u!==l&&
h&&m&&(u=l,l=c.oldValue,h=c.newValue,m=Date.now(),0<q&&q<=m&&(g.ue.count("pinch-to-zoom-swipe-latency",m-q),q=m),l<h?(g.ue.count("pinch-to-zoom-swipe-right",1),l=h+2-2,n&&l<n.length&&k.loadImmersiveImage(".p2z-class-img-"+l,e,n)):g.ue.count("pinch-to-zoom-swipe-left",1));b=b.getContent().find(".a-dots li");y(c.newValue,b)}})}var z=p.$,u="-",q=-1,n;return{selectDot:y,setupDots:function(b,e){var c=z("#"+e).find(".a-dots li");y(1,c);w(b,e)},initCarouselMetrics:function(b){p.on("a:popover:show:"+b,function(){q=
Date.now();u="-"})},initCarouselContainersLayout:function(b,e){var c=b.find(".a-carousel-viewport"),g=b.find(".a-immersive-image-wrapper"),l=b.find(".s-pinch-dp-link-container").css("height"),h=b.find(".s-pinch-main-container");b.find(".a-carousel-container").addClass("a-carousel-static");v.createAll();v.initializeAll();c.addClass("s-pinch-image-commons");g.addClass("s-pinch-image-commons");h.css("bottom",l);if((n=b.find(".s-pinch-carousel-element"))&&0<n.length)for(b=n.length,b=2<b?2:b,c=0;c<b;c++)g=
".p2z-class-img-"+c,k.loadImmersiveImage(g,e,n)},setupImmersiveImageListeners:function(){k.setupZoomAndPanBehaviour()},setupFirstCarouselImage:function(b,e,c){k.setUpFirstImmersiveImage(b,e,c)},getCarouselChangePageNumberEventName:r}});"use strict";t.when("A","a-secondary-view","rush-util","s-pinch-responder-utils").register("s-pinch-lazy-load-helper",function(p,A,B,v){function k(a,f){return function(){try{return a.apply(null,f)}catch(b){t.log(b.message,"ERROR","s-pinch-lazy-load-helper")}}}function r(a,
f){g.ue&&g.ue.count&&g.ue.count(a,f)}function y(a){a=Date.now()-a;r("pinch-to-zoom-lazy-load-image-loaded",1);0<a&&r("pinch-to-zoom-lazy-load-image-time",a)}function w(a){(!m&&d||E)&&a&&a.detail&&a.detail.options&&a.detail.options.popoverId&&(a=A.get(a.detail.options.popoverId),a.hide());d=!0}function z(a){var f,b,c=a.height;if(0===a.naturalWidth||0===a.naturalHeight||0===a.width||0===a.height)return[-1,-1];f=a.naturalWidth/a.naturalHeight;b=a.height*f;b>a.width&&(b=a.width,c=a.width/f);return[b,
c]}function u(a,f){var b,c,d,e;if(0===a.width||0===a.height||0===a.naturalWidth||0===a.naturalHeight||0===f.naturalWidth||0===f.naturalHeight)return[-1,-1];c=z(a);b=c[0];c=c[1];d=a.naturalHeight/a.naturalWidth;f=f.naturalHeight/f.naturalWidth;e=a.height/a.width;return d<e&&f<e?[0,Math.max(0,(b-c/f)/2)]:d<e&&f>e?[(a.height-c)/2,0]:d>e&&f<e?[0,(a.width-b)/2]:[0,0]}function q(a,b,c){a.style.padding=b+"px "+c+"px";r("pinch-to-zoom-hr-replaced",1)}function n(){r("pinch-to-zoom-hr-error",1)}function b(a,
b){a.src=b;n()}function e(a,c){var e=u(a,c),d=a.src;-1!==e[0]&&-1!==e[1]?(a.onload=k(q,[a,e[0],e[1]]),a.onerror=k(b,[a,d]),a.src=c.src):r("pinch-to-zoom-hr-padding-error",1)}function c(a,b,c){var d;(b=h("#"+b).find(".p2z-class-img-0"))&&0<b.length&&b[0].dataset&&(b=b[0].dataset.highResolutionSrc,d=new Image,d.onload=k(e,[a,d]),d.onerror=k(n,[]),d.src=b);y(c)}function x(a,b,d,e,g){p.loadImageManually(a);a=d.find("img."+e);B.assert(1>=a.length,"must not load more than 1 image with same selector");if(0<
a.length){d=a[0];var h=new v(d,{maxScale:1,popoverId:g},!0);d.pinchResponder||(h.addEventListener("pinchinend",w,!1),d.pinchResponder=h);d=a[0];".p2z-class-img-0"!==e||0<a.parents(".aok-hidden").length?d.onload=k(y,[b]):d.onload=k(c,[d,g,b])}}function l(){r("pinch-to-zoom-lazy-load-image-error",1)}var h=p.$,m=!1,d=!1,E=!0;return{loadImage:function(a,b,c){var d=c.find(a);d.css({width:"100%",height:"100%","object-fit":"contain"});var e=new Image,g=Date.now();a=[d,g,c,a,b];e.onerror=l;e.onload=k(x,a);
e.src=d.attr("data-a-image-source")},setImageZoomed:function(a){m=a},setHighResolutionFirstImage:e,getContainedSize:z,getPaddingForHighResolutionImage:u,setZoomInClosingVariables:function(){m=!0;E=d=!1},resetClosingVariables:function(){d=m=!1;E=!0},createAttributedCallback:k,onP2ZImageLoad:x,onP2ZImageError:l}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ProductUIAssets@productVariations",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ProductUIAssets@productVariationsV2",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(e){var b=window.AmazonUIPageJS||window.P,f=b._namespace||b.attributeErrors,d=f?f("ProductUIAssets@provenanceCertifications",""):b;d.guardFatal?d.guardFatal(e)(d,window):d.execute(function(){e(d,window)})})(function(e,b,f){e.when("A","a-popover","rush-metrics-adapter","ready").execute("s-pc-popover-declarative-action",function(d,f){function l(c){c=c&&c.popover||{};c.$container&&1===c.$container.length?d.loadDescendantImagesManually(c.$container):e.log("Error load popoverCertification image in desktop popover",
"ERROR","provenanceCertifications")}var h,k=b.ue&&b.ue.count||function(){};d.declarative("s-pc-popover","click",function(c){var a=c&&c.data||{};if(a.name){var b=a.interactLoggingMetricsList,g;if(b)for(k("provenanceCertifications_desktop",1),g=0;g<b.length;g++)k(b[g],1);d.one("a:popover:afterShow:"+a.name,l);h=f.create(c.$declarativeParent,{position:a.position,closeButton:a.closeButton,name:a.name,padding:a.padding,popoverLabel:a.popoverLabel,closeButtonLabel:a.closeButtonLabel,activate:a.activate,
width:a.width});h.show()}else e.log("Error parsing certifications data in desktop popover","ERROR","provenanceCertifications")})})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("ProductUIAssets@quickView",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){"use strict";b.when("A").execute(function(a){a.capabilities.isAmazonApp&&b.declare("s-quick-view-device-weblab-reftag","a")});"use strict";b.when("A").execute(function(a){a.capabilities.isAmazonApp||b.declare("s-quick-view-device-weblab-reftag","w")})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ProductUIAssets@rankedProductVideoFaceout",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(g){var f=window.AmazonUIPageJS||window.P,h=f._namespace||f.attributeErrors,c=h?h("ProductUIAssets@utils",""):f;c.guardFatal?c.guardFatal(g)(c,window):c.execute(function(){g(c,window)})})(function(g,f,h){g.when("A").register("puis-version-util",function(c){function b(a){a=e(a);var b;0!==a.length&&((b=a.data("puis-version-id"))&&a.removeClass(b?"puis-"+b:""),d&&(a.data("puis-version-id",d),a.addClass("puis").addClass(d?"puis-"+d:"")))}var e=c.$,d=g.PRODUCT_UI_VERSION_ID;return{applyVersionClassName:b,
namespacePopover:function(a){if(!a)throw Error("PUIS: Popovers created in PUI assets require a `name`.");c.on("a:popover:beforeSlide:"+a,function(a){b(a.popover.$container)})},namespaceSheet:function(a){if(!a)throw Error("PUIS: Sheets created in PUI assets require a `name`.");c.on("a:sheet:beforeShow:"+a,function(a){a=a.sheet.getContentContainer().parent();b(a)})},setVersionId:function(a){d=a}}});g.now().register("puis-weblab-util",function(){function c(b,a){f.ProductUIPageJS&&f.ProductUIPageJS.enableTreatment?
f.ProductUIPageJS.enableTreatment(e,b,a):f.ProductUIPageJS?g.log("window.ProductUIPageJS.enableTreatment is not defined.","ERROR","puis-weblab-util"):g.log("window.ProductUIPageJS is not defined.","ERROR","puis-weblab-util")}function b(b){var a;b:{var e,n,l;if(b)for(e=document.getElementsByTagName("script"),n=e.length;n--;)if(l=e[n],"product-ui/weblabs"===l.getAttribute("type")&&l.getAttribute("data-render-id")===b){b=l;break b}b=void 0}if(b=b&&b.innerHTML)try{a=JSON.parse(b)}catch(f){g.log("Error parsing weblab treatment JSON: "+
f.message,"WARN","puis-weblab-util"),a={}}else a={};for(var k in a)a.hasOwnProperty(k)&&c(k,a[k])}var e=f.AmazonUIPageJS;(function(){e.now("puis-enable-treatments-for-render").execute(function(c){c||e.declare("puis-enable-treatments-for-render",b)})})();return{enableTreatment:c}});"use strict";g.when("puis-util","puis-url-parameters","puis-url-parser").register("puis-reftag-utils",function(c,b,e){function d(a,b){var e;if(c.isNullOrUndefined(a)||c.isNullOrUndefined(b))return!1;for(e=0;e<b.length;e++)if(-1<
a.indexOf(b[e]))return!0;return!1}var a=/(\/|%2F|&|\?)(ref(_)?)(=|%3D)(\w*)(\?|%3F|&|$)/g;return{appendStringToReftag:function(b,e,g){var f=!1;return c.isNullOrUndefined(b)||c.isNullOrUndefined(e)?b:b.replace(a,function(a,b,c,v,t,q,u){a=e;d(q,[e])?a="":!f&&d(q,g)&&(a="",f=!0);return b+c+t+q+a+u})},getAjaxUrlReftag:function(a){a=b.parseQueryString(a);return b.getParamValue(a,"ref")||""},replaceAjaxUrlReftag:function(a,c){var d=b.parseQueryString(a);b.setParamValue(d,"ref",c);return e.parse(a).pathname+
"?"+b.paramsToString(d)}}});"use strict";g.register("s-simple-namespaced-cache",function(){function c(){this.data={}}c.prototype.get=function(b,c){c=c||"";if(this.data[c]&&this.data[c].hasOwnProperty(b))return this.data[c][b]};c.prototype.put=function(b,c,d){d=d||"";this.data[d]=this.data[d]||{};c===h&&this.data[d].hasOwnProperty(b)?delete this.data[d][b]:this.data[d][b]=c};c.prototype.remove=function(b,c){this.put(b,h,c)};c.prototype.clear=function(){this.data={}};c.prototype.clearNamespace=function(b){delete this.data[b||
""]};c.prototype.clearKey=function(b){for(var c in this.data)this.remove(b,c)};return c});"use strict";g.when("A","puis-util","puis-url-parser","rush-router-pattern-parser").register("puis-url-parameters",function(c,b,e,d){function a(a){var b;if(!p[a])for(b in m)if(m[b].test(a)){p[a]=b;break}return p[a]||a}function g(b,c){var e=[],d,f;for(d in b)if(f=a(d),c||!0!==r[f])null===b[d]?e.push(encodeURIComponent(f)):e.push(encodeURIComponent(f)+"\x3d"+encodeURIComponent(b[d]));return e.sort().join("\x26")}
function f(a){a=(a||"").split("?");a=1<a.length?a.slice(1).join("?"):a[0];return d.parseQueryString(a)}function h(b,c){var d;c=a(c);for(d in b)if(c===a(d)){d!==c&&delete b[d];delete b[c];break}}var k=b.isBlank,r={portalDebug:!0,qid:!0,rrid:!0,pf:!0},m={},p={};(function(){c.state.bind("puis-url-parameters",function(a,b){c.each(a,function(a,c){!0===b[c]&&c&&a&&(m[c]=new RegExp("^("+a+")$"))})});c.each(c.state("puis-url-parameters")||{},function(a,b){b&&a&&(m[b]=new RegExp("^("+a+")$"))})})();return{getCanonicalParamName:a,
canonicalizeParams:function(b,c){var d={},e,f;for(e in b)if(f=a(e),c||!0!==r[f])d[f]=b[e];return d},getParamValue:function(b,c){var d=b[c],e;if(d)return d;c=a(c);if(d=b[c])return d;for(e in b)if(c===a(e))return b[e]},setParamValue:function(b,c,d){var e;c=a(c);var f=!1;for(e in b)if(c===a(e)){f=!0;e!==c&&delete b[e];b[c]=d;break}f||(b[c]=d)},paramsToString:g,parseQueryString:f,addParamToUrl:function(a,b,c){var d;if(k(a)||k(b)||k(c))return a;d=f(a);d[b]=c;a=e.parse(a);a.search="?"+g(d,!0);return e.toUrl(a)},
removeValueFromParamString:function(a,b){a=f(a);h(a,b);return g(a)},removeParamValue:h}});"use strict";g.register("puis-url-parser",function(){var c="protocol hostname host pathname port search hash href".split(" ");return{parse:function(b){var e=document.createElement("a"),d={};e.href=b;e.href=e.href;for(b=0;b<c.length;b++)"pathname"===c[b]?d.pathname=e.pathname.replace(/(^\/?)/,"/"):d[c[b]]=e[c[b]];return d},toUrl:function(b){if(b)return b.protocol+"//"+b.host+b.pathname+b.search+b.hash}}});"use strict";
g.when("jQuery","a-util").register("puis-util",function(c,b){var e=b.trim,d={outerHTML:function(a){return a.outerHTML?a.outerHTML:c("\x3cdiv\x3e").append(c(a).clone()).html()},isObject:function(a){return"object"===typeof a&&null!==a},isNumber:function(a){return"number"===typeof a&&isFinite(a)},isNullOrUndefined:function(a){return null===a||a===h},isNotBlank:function(a){return"string"===typeof a&&""!==e(a)},isBlank:function(a){return!d.isNotBlank(a)},setIfEmpty:function(a,b,c){a[b]===h&&(a[b]=c)},
makeComponentId:function(a,b){return d.isNotBlank(a)&&d.isNotBlank(b)?a+":"+b:""},freeze:function(a){return Object.freeze?Object.freeze(a):a},isFunction:c.isFunction,assert:function(a,b){if(!a)throw Error(b);},hide:function(a){c(a).addClass("aok-hidden")},show:function(a){c(a).removeClass("aok-hidden")}};return d.freeze(d)})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ProductUIAssets@video",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ProductUIAssets@zeroClickShoppingUpcomingDealBottomsheet",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
